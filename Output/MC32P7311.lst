gplink-2.2.37 (Jan 22 2024)
Listing File Generated: 2024-10-9  10:48:41
 
 
Address  Value    Disassembly              Source
-------  -----    -----------              ------
                                           ;--------------------------------------------------------
                                           ; external declarations
                                           ;--------------------------------------------------------
                                           	extern	_INDF0bits
                                           	extern	_INDF1bits
                                           	extern	_INDF2bits
                                           	extern	_HIBYTEbits
                                           	extern	_FSR0bits
                                           	extern	_FSR1bits
                                           	extern	_PCLbits
                                           	extern	_PFLAGbits
                                           	extern	_MCRbits
                                           	extern	_INDF3bits
                                           	extern	_INTEbits
                                           	extern	_INTFbits
                                           	extern	_DRVCRbits
                                           	extern	_KBCRbits
                                           	extern	_IOP0bits
                                           	extern	_OEP0bits
                                           	extern	_PUP0bits
                                           	extern	_PDP0bits
                                           	extern	_IOP1bits
                                           	extern	_OEP1bits
                                           	extern	_PUP1bits
                                           	extern	_PDP1bits
                                           	extern	_T0CRbits
                                           	extern	_T0CNTbits
                                           	extern	_T0LOADbits
                                           	extern	_T0DATAbits
                                           	extern	_T1CRbits
                                           	extern	_T1CNTbits
                                           	extern	_T1LOADbits
                                           	extern	_T1DATAbits
                                           	extern	_T2CRbits
                                           	extern	_T2CNTbits
                                           	extern	_T2LOADbits
                                           	extern	_T2DATAbits
                                           	extern	_T3CRbits
                                           	extern	_T3CNTbits
                                           	extern	_T3LOADbits
                                           	extern	_PWM0DEbits
                                           	extern	_PWM1DEbits
                                           	extern	_PWM2DEbits
                                           	extern	_PWMCR0bits
                                           	extern	_PWMCR1bits
                                           	extern	_OSCMbits
                                           	extern	_LVDCRbits
                                           	extern	_ADCR0bits
                                           	extern	_ADCR1bits
                                           	extern	_ADCR2bits
                                           	extern	_ADRHbits
                                           	extern	_ADRLbits
                                           	extern	_ANSEL0bits
                                           	extern	_ANSEL1bits
                                           	extern	_OSCCALHbits
                                           	extern	_OSCCALLbits
                                           	extern	_INDF0
                                           	extern	_INDF1
                                           	extern	_INDF2
                                           	extern	_HIBYTE
                                           	extern	_FSR0
                                           	extern	_FSR1
                                           	extern	_PCL
                                           	extern	_PFLAG
                                           	extern	_MCR
                                           	extern	_INDF3
                                           	extern	_INTE
                                           	extern	_INTF
                                           	extern	_DRVCR
                                           	extern	_KBCR
                                           	extern	_IOP0
                                           	extern	_OEP0
                                           	extern	_PUP0
                                           	extern	_PDP0
                                           	extern	_IOP1
                                           	extern	_OEP1
                                           	extern	_PUP1
                                           	extern	_PDP1
                                           	extern	_T0CR
                                           	extern	_T0CNT
                                           	extern	_T0LOAD
                                           	extern	_T0DATA
                                           	extern	_T1CR
                                           	extern	_T1CNT
                                           	extern	_T1LOAD
                                           	extern	_T1DATA
                                           	extern	_T2CR
                                           	extern	_T2CNT
                                           	extern	_T2LOAD
                                           	extern	_T2DATA
                                           	extern	_T3CR
                                           	extern	_T3CNT
                                           	extern	_T3LOAD
                                           	extern	_PWM0DE
                                           	extern	_PWM1DE
                                           	extern	_PWM2DE
                                           	extern	_PWMCR0
                                           	extern	_PWMCR1
                                           	extern	_OSCM
                                           	extern	_LVDCR
                                           	extern	_ADCR0
                                           	extern	_ADCR1
                                           	extern	_ADCR2
                                           	extern	_ADRH
                                           	extern	_ADRL
                                           	extern	_ANSEL0
                                           	extern	_ANSEL1
                                           	extern	_OSCCALH
                                           	extern	_OSCCALL
                                           ;--------------------------------------------------------
                                           ; global declarations
                                           ;--------------------------------------------------------
                                           	global	_Sys_Init
                                           	global	_IO_Init
                                           	global	_CLR_RAM
                                           	global	_delay_ms
                                           	global	_send_32bits_data_by_irsir
                                           	global	_timer0_pwm_config
                                           	global	_timer1_pwm_config
                                           	global	_timer2_pwm_config
                                           	global	_key_config
                                           	global	_adc_config
                                           	global	_adc_sel_pin
                                           	global	_adc_get_val
                                           	global	_key_scan
                                           	global	_key_handle
                                           	global	_adc_scan_handle
                                           	global	_turn_dir_scan_handle
                                           	global	_shutdown_scan_handle
                                           	global	_low_power_scan_handle
                                           	global	_main
                                           	global	_int_isr
                                           	global	_mode_flag
                                           	global	_key_press_flag
                                           	global	_i
                                           	global	_adc_val
                                           	global	_turn_dir_ms_cnt
                                           	global	_shut_down_ms_cnt
                                           	global	_abuf
                                           	global	_statusbuf
                                           	global	_flag1
                                           
                                           	global STK06
                                           	global STK05
                                           	global STK04
                                           	global STK03
                                           	global STK02
                                           	global STK01
                                           	global STK00
                                           
                                           sharebank udata_ovr 0x0000
                                           STK06	res 1
                                           STK05	res 1
                                           STK04	res 1
                                           STK03	res 1
                                           STK02	res 1
                                           STK01	res 1
                                           STK00	res 1
                                           
                                           ;--------------------------------------------------------
                                           ; global definitions
                                           ;--------------------------------------------------------
                                           UD_MC32P7311_0	udata
                                           _mode_flag	res	1
                                           
                                           UD_MC32P7311_1	udata
                                           _key_press_flag	res	1
                                           
                                           UD_MC32P7311_2	udata
                                           _i	res	1
                                           
                                           UD_MC32P7311_3	udata
                                           _adc_val	res	2
                                           
                                           UD_MC32P7311_4	udata
                                           _turn_dir_ms_cnt	res	4
                                           
                                           UD_MC32P7311_5	udata
                                           _shut_down_ms_cnt	res	4
                                           
                                           UD_MC32P7311_6	udata
                                           _abuf	res	1
                                           
                                           UD_MC32P7311_7	udata
                                           _statusbuf	res	1
                                           
                                           UD_MC32P7311_8	udata
                                           _flag1	res	1
                                           
                                           ;--------------------------------------------------------
                                           ; absolute symbol definitions
                                           ;--------------------------------------------------------
                                           ;--------------------------------------------------------
                                           ; compiler-defined variables
                                           ;--------------------------------------------------------
                                           UDL_MC32P7311_0	udata
                                           r0x1015	res	1
                                           r0x1014	res	1
                                           r0x1013	res	1
                                           r0x1012	res	1
                                           r0x1016	res	1
                                           r0x1017	res	1
                                           r0x1018	res	1
                                           r0x1019	res	1
                                           r0x101A	res	1
                                           r0x101B	res	1
                                           r0x101C	res	1
                                           r0x101D	res	1
                                           r0x1025	res	1
                                           r0x1024	res	1
                                           r0x1023	res	1
                                           r0x1022	res	1
                                           r0x1026	res	1
                                           r0x102A	res	1
                                           r0x1029	res	1
                                           r0x1028	res	1
                                           r0x1027	res	1
                                           r0x101E	res	1
                                           r0x1020	res	1
                                           r0x1021	res	1
                                           r0x101F	res	1
                                           r0x102B	res	1
                                           r0x102C	res	1
                                           _adc_scan_handle_cnt_65536_86	res	1
                                           _adc_scan_handle_need_charge_cnt_65536_86	res	1
                                           _adc_scan_handle_need_charge_slow_cnt_65536_86	res	1
                                           _adc_scan_handle_flag_bat_is_empty_65536_86	res	1
                                           ;--------------------------------------------------------
                                           ; initialized data
                                           ;--------------------------------------------------------
                                           
                                           ;@Allocation info for local variables in function 'delay_ms'
                                           ;@delay_ms Sys_Init                  Allocated to registers ;size:2
                                           ;@delay_ms CLR_RAM                   Allocated to registers ;size:2
                                           ;@delay_ms IO_Init                   Allocated to registers ;size:2
                                           ;@delay_ms delay_ms                  Allocated to registers ;size:2
                                           ;@delay_ms INDF0bits                 Allocated to registers ;size:1
                                           ;@delay_ms INDF1bits                 Allocated to registers ;size:1
                                           ;@delay_ms INDF2bits                 Allocated to registers ;size:1
                                           ;@delay_ms HIBYTEbits                Allocated to registers ;size:1
                                           ;@delay_ms FSR0bits                  Allocated to registers ;size:1
                                           ;@delay_ms FSR1bits                  Allocated to registers ;size:1
                                           ;@delay_ms PCLbits                   Allocated to registers ;size:1
                                           ;@delay_ms PFLAGbits                 Allocated to registers ;size:1
                                           ;@delay_ms MCRbits                   Allocated to registers ;size:1
                                           ;@delay_ms INDF3bits                 Allocated to registers ;size:1
                                           ;@delay_ms INTEbits                  Allocated to registers ;size:1
                                           ;@delay_ms INTFbits                  Allocated to registers ;size:1
                                           ;@delay_ms DRVCRbits                 Allocated to registers ;size:1
                                           ;@delay_ms KBCRbits                  Allocated to registers ;size:1
                                           ;@delay_ms IOP0bits                  Allocated to registers ;size:1
                                           ;@delay_ms OEP0bits                  Allocated to registers ;size:1
                                           ;@delay_ms PUP0bits                  Allocated to registers ;size:1
                                           ;@delay_ms PDP0bits                  Allocated to registers ;size:1
                                           ;@delay_ms IOP1bits                  Allocated to registers ;size:1
                                           ;@delay_ms OEP1bits                  Allocated to registers ;size:1
                                           ;@delay_ms PUP1bits                  Allocated to registers ;size:1
                                           ;@delay_ms PDP1bits                  Allocated to registers ;size:1
                                           ;@delay_ms T0CRbits                  Allocated to registers ;size:1
                                           ;@delay_ms T0CNTbits                 Allocated to registers ;size:1
                                           ;@delay_ms T0LOADbits                Allocated to registers ;size:1
                                           ;@delay_ms T0DATAbits                Allocated to registers ;size:1
                                           ;@delay_ms T1CRbits                  Allocated to registers ;size:1
                                           ;@delay_ms T1CNTbits                 Allocated to registers ;size:1
                                           ;@delay_ms T1LOADbits                Allocated to registers ;size:1
                                           ;@delay_ms T1DATAbits                Allocated to registers ;size:1
                                           ;@delay_ms T2CRbits                  Allocated to registers ;size:1
                                           ;@delay_ms T2CNTbits                 Allocated to registers ;size:1
                                           ;@delay_ms T2LOADbits                Allocated to registers ;size:1
                                           ;@delay_ms T2DATAbits                Allocated to registers ;size:1
                                           ;@delay_ms T3CRbits                  Allocated to registers ;size:1
                                           ;@delay_ms T3CNTbits                 Allocated to registers ;size:1
                                           ;@delay_ms T3LOADbits                Allocated to registers ;size:1
                                           ;@delay_ms PWM0DEbits                Allocated to registers ;size:1
                                           ;@delay_ms PWM1DEbits                Allocated to registers ;size:1
                                           ;@delay_ms PWM2DEbits                Allocated to registers ;size:1
                                           ;@delay_ms PWMCR0bits                Allocated to registers ;size:1
                                           ;@delay_ms PWMCR1bits                Allocated to registers ;size:1
                                           ;@delay_ms OSCMbits                  Allocated to registers ;size:1
                                           ;@delay_ms LVDCRbits                 Allocated to registers ;size:1
                                           ;@delay_ms ADCR0bits                 Allocated to registers ;size:1
                                           ;@delay_ms ADCR1bits                 Allocated to registers ;size:1
                                           ;@delay_ms ADCR2bits                 Allocated to registers ;size:1
                                           ;@delay_ms ADRHbits                  Allocated to registers ;size:1
                                           ;@delay_ms ADRLbits                  Allocated to registers ;size:1
                                           ;@delay_ms ANSEL0bits                Allocated to registers ;size:1
                                           ;@delay_ms ANSEL1bits                Allocated to registers ;size:1
                                           ;@delay_ms OSCCALHbits               Allocated to registers ;size:1
                                           ;@delay_ms OSCCALLbits               Allocated to registers ;size:1
                                           ;@delay_ms mode_flag                 Allocated to registers ;size:1
                                           ;@delay_ms key_press_flag            Allocated to registers ;size:1
                                           ;@delay_ms i                         Allocated to registers ;size:1
                                           ;@delay_ms adc_val                   Allocated to registers ;size:2
                                           ;@delay_ms turn_dir_ms_cnt           Allocated to registers ;size:4
                                           ;@delay_ms shut_down_ms_cnt          Allocated to registers ;size:4
                                           ;@delay_ms abuf                      Allocated to registers ;size:1
                                           ;@delay_ms statusbuf                 Allocated to registers ;size:1
                                           ;@delay_ms flag1                     Allocated to registers ;size:1
                                           ;@delay_ms xms                       Allocated to registers ;size:4
                                           ;@delay_ms i                         Allocated to registers r0x1016 r0x1017 r0x1018 r0x1019 ;size:4
                                           ;@delay_ms INDF0                     Allocated to registers ;size:1
                                           ;@delay_ms INDF1                     Allocated to registers ;size:1
                                           ;@delay_ms INDF2                     Allocated to registers ;size:1
                                           ;@delay_ms HIBYTE                    Allocated to registers ;size:1
                                           ;@delay_ms FSR0                      Allocated to registers ;size:1
                                           ;@delay_ms FSR1                      Allocated to registers ;size:1
                                           ;@delay_ms PCL                       Allocated to registers ;size:1
                                           ;@delay_ms PFLAG                     Allocated to registers ;size:1
                                           ;@delay_ms MCR                       Allocated to registers ;size:1
                                           ;@delay_ms INDF3                     Allocated to registers ;size:1
                                           ;@delay_ms INTE                      Allocated to registers ;size:1
                                           ;@delay_ms INTF                      Allocated to registers ;size:1
                                           ;@delay_ms DRVCR                     Allocated to registers ;size:1
                                           ;@delay_ms KBCR                      Allocated to registers ;size:1
                                           ;@delay_ms IOP0                      Allocated to registers ;size:1
                                           ;@delay_ms OEP0                      Allocated to registers ;size:1
                                           ;@delay_ms PUP0                      Allocated to registers ;size:1
                                           ;@delay_ms PDP0                      Allocated to registers ;size:1
                                           ;@delay_ms IOP1                      Allocated to registers ;size:1
                                           ;@delay_ms OEP1                      Allocated to registers ;size:1
                                           ;@delay_ms PUP1                      Allocated to registers ;size:1
                                           ;@delay_ms PDP1                      Allocated to registers ;size:1
                                           ;@delay_ms T0CR                      Allocated to registers ;size:1
                                           ;@delay_ms T0CNT                     Allocated to registers ;size:1
                                           ;@delay_ms T0LOAD                    Allocated to registers ;size:1
                                           ;@delay_ms T0DATA                    Allocated to registers ;size:1
                                           ;@delay_ms T1CR                      Allocated to registers ;size:1
                                           ;@delay_ms T1CNT                     Allocated to registers ;size:1
                                           ;@delay_ms T1LOAD                    Allocated to registers ;size:1
                                           ;@delay_ms T1DATA                    Allocated to registers ;size:1
                                           ;@delay_ms T2CR                      Allocated to registers ;size:1
                                           ;@delay_ms T2CNT                     Allocated to registers ;size:1
                                           ;@delay_ms T2LOAD                    Allocated to registers ;size:1
                                           ;@delay_ms T2DATA                    Allocated to registers ;size:1
                                           ;@delay_ms T3CR                      Allocated to registers ;size:1
                                           ;@delay_ms T3CNT                     Allocated to registers ;size:1
                                           ;@delay_ms T3LOAD                    Allocated to registers ;size:1
                                           ;@delay_ms PWM0DE                    Allocated to registers ;size:1
                                           ;@delay_ms PWM1DE                    Allocated to registers ;size:1
                                           ;@delay_ms PWM2DE                    Allocated to registers ;size:1
                                           ;@delay_ms PWMCR0                    Allocated to registers ;size:1
                                           ;@delay_ms PWMCR1                    Allocated to registers ;size:1
                                           ;@delay_ms OSCM                      Allocated to registers ;size:1
                                           ;@delay_ms LVDCR                     Allocated to registers ;size:1
                                           ;@delay_ms ADCR0                     Allocated to registers ;size:1
                                           ;@delay_ms ADCR1                     Allocated to registers ;size:1
                                           ;@delay_ms ADCR2                     Allocated to registers ;size:1
                                           ;@delay_ms ADRH                      Allocated to registers ;size:1
                                           ;@delay_ms ADRL                      Allocated to registers ;size:1
                                           ;@delay_ms ANSEL0                    Allocated to registers ;size:1
                                           ;@delay_ms ANSEL1                    Allocated to registers ;size:1
                                           ;@delay_ms OSCCALH                   Allocated to registers ;size:1
                                           ;@delay_ms OSCCALL                   Allocated to registers ;size:1
                                           ;@end Allocation info for local variables in function 'delay_ms';
                                           ;@Allocation info for local variables in function 'send_32bits_data_by_irsir'
                                           ;@send_32bits_data_by_irsir send_data                 Allocated to registers r0x1025 r0x1024 r0x1023 r0x1022 ;size:4
                                           ;@send_32bits_data_by_irsir i                         Allocated to registers r0x1026 ;size:1
                                           ;@end Allocation info for local variables in function 'send_32bits_data_by_irsir';
                                           ;@Allocation info for local variables in function 'CLR_RAM'
                                           ;@end Allocation info for local variables in function 'CLR_RAM';
                                           ;@Allocation info for local variables in function 'IO_Init'
                                           ;@end Allocation info for local variables in function 'IO_Init';
                                           ;@Allocation info for local variables in function 'timer0_pwm_config'
                                           ;@end Allocation info for local variables in function 'timer0_pwm_config';
                                           ;@Allocation info for local variables in function 'timer1_pwm_config'
                                           ;@end Allocation info for local variables in function 'timer1_pwm_config';
                                           ;@Allocation info for local variables in function 'timer2_pwm_config'
                                           ;@end Allocation info for local variables in function 'timer2_pwm_config';
                                           ;@Allocation info for local variables in function 'key_config'
                                           ;@end Allocation info for local variables in function 'key_config';
                                           ;@Allocation info for local variables in function 'adc_config'
                                           ;@end Allocation info for local variables in function 'adc_config';
                                           ;@Allocation info for local variables in function 'adc_sel_pin'
                                           ;@adc_sel_pin adc_pin                   Allocated to registers r0x101E ;size:1
                                           ;@end Allocation info for local variables in function 'adc_sel_pin';
                                           ;@Allocation info for local variables in function 'adc_get_val'
                                           ;@adc_get_val cnt                       Allocated to registers r0x1018 ;size:1
                                           ;@adc_get_val g_temp_value              Allocated to registers r0x1019 r0x101A ;size:2
                                           ;@adc_get_val g_tmpbuff                 Allocated to registers r0x1014 r0x1015 ;size:2
                                           ;@adc_get_val g_adcmax                  Allocated to registers r0x1014 r0x1015 ;size:2
                                           ;@adc_get_val g_adcmin                  Allocated to registers r0x1016 r0x1017 ;size:2
                                           ;@end Allocation info for local variables in function 'adc_get_val';
                                           ;@Allocation info for local variables in function 'Sys_Init'
                                           ;@end Allocation info for local variables in function 'Sys_Init';
                                           ;@Allocation info for local variables in function 'key_scan'
                                           ;@key_scan cnt                       Allocated to registers r0x1020 ;size:1
                                           ;@end Allocation info for local variables in function 'key_scan';
                                           ;@Allocation info for local variables in function 'key_handle'
                                           ;@end Allocation info for local variables in function 'key_handle';
                                           ;@Allocation info for local variables in function 'adc_scan_handle'
                                           ;@adc_scan_handle cnt                       Allocated to registers ;size:1
                                           ;@adc_scan_handle need_charge_cnt           Allocated to registers ;size:1
                                           ;@adc_scan_handle need_charge_slow_cnt      Allocated to registers ;size:1
                                           ;@adc_scan_handle flag_bat_is_empty         Allocated to registers ;size:1
                                           ;@end Allocation info for local variables in function 'adc_scan_handle';
                                           ;@Allocation info for local variables in function 'turn_dir_scan_handle'
                                           ;@end Allocation info for local variables in function 'turn_dir_scan_handle';
                                           ;@Allocation info for local variables in function 'shutdown_scan_handle'
                                           ;@end Allocation info for local variables in function 'shutdown_scan_handle';
                                           ;@Allocation info for local variables in function 'low_power_scan_handle'
                                           ;@end Allocation info for local variables in function 'low_power_scan_handle';
                                           ;@Allocation info for local variables in function 'main'
                                           ;@end Allocation info for local variables in function 'main';
                                           ;@Allocation info for local variables in function 'int_isr'
                                           ;@end Allocation info for local variables in function 'int_isr';
                                           
                                           ;--------------------------------------------------------
                                           ; overlayable items in internal ram 
                                           ;--------------------------------------------------------
                                           ;	udata_ovr
                                           ;--------------------------------------------------------
                                           ; reset vector 
                                           ;--------------------------------------------------------
                                           STARTUP	code 0x0000
000000   a01d     goto    0x1d             	goto	_main
                                           ;--------------------------------------------------------
                                           ; interrupt and initialization code
                                           ;--------------------------------------------------------
                                           c_interrupt	code	0x8
                                           __sdcc_interrupt
                                           ;***
                                           ;  pBlock Stats: dbName = I
                                           ;***
                                           ;entry:  _int_isr	;Function start
                                           ; 0 exit points
                                           ;2 compiler assigned registers:
                                           ;   r0x102B
                                           ;   r0x102C
                                           ;; Starting pCode block
                                           _int_isr	;Function start
                                           ; 0 exit points
                                           ;	.line	907; "MC32P7311.c"	__endasm;
                                           	;
000008   5633     movra   0x33             	movra	_abuf;
000009   4587     swapar  0x187            	swapar	_PFLAG;
00000a   5634     movra   0x34             	movra	_statusbuf;
                                           	
                                           ;	.line	940; "MC32P7311.c"	if (INT0IF & INT0IE)
00000b   7620     clrr    0x20             	CLRR	r0x102B
00000c   f58b     jbclr   0x18b, 0x2       	JBCLR	_INTFbits,2
00000d   6620     incr    0x20             	INCR	r0x102B
00000e   7621     clrr    0x21             	CLRR	r0x102C
00000f   f58a     jbclr   0x18a, 0x2       	JBCLR	_INTEbits,2
000010   6621     incr    0x21             	INCR	r0x102C
000011   5821     movar   0x21             	MOVAR	r0x102C
000012   7a20     andra   0x20             	ANDRA	r0x102B
000013   3c00     movai   0                	MOVAI	0x00
000014   5c20     orar    0x20             	ORAR	r0x102B
000015   f587     jbclr   0x187, 0x2       	JBCLR	PFLAG,2
000016   a018     goto    0x18             	GOTO	_00686_DS_
                                           ;	.line	942; "MC32P7311.c"	INT0IF = 0;
000017   d58b     bclr    0x18b, 0x2       	BCLR	_INTFbits,2
                                           _00686_DS_
                                           ;	.line	954; "MC32P7311.c"	__endasm;
                                           	;
000018   4434     swapar  0x34             	swapar	_statusbuf;
000019   5787     movra   0x187            	movra	_PFLAG;
00001a   4633     swapr   0x33             	swapr	_abuf;
00001b   4433     swapar  0x33             	swapar	_abuf;
                                           	
                                           END_OF_INTERRUPT
                                           ;	.line	955; "MC32P7311.c"	}
00001c   000d     retie                    	RETIE	
                                           
                                           ;--------------------------------------------------------
                                           ; code
                                           ;--------------------------------------------------------
                                           code_MC32P7311	code
                                           ;***
                                           ;  pBlock Stats: dbName = M
                                           ;***
                                           ;entry:  _main	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;functions called:
                                           ;   _Sys_Init
                                           ;   _Sys_Init
                                           ;; Starting pCode block
                                           _main	;Function start
                                           ; 2 exit points
                                           ;	.line	859; "MC32P7311.c"	Sys_Init();
00001d   824d     call    0x24d            	CALL	_Sys_Init
                                           ;	.line	861; "MC32P7311.c"	LED_WORKING_OFF();
00001e   c994     bset    0x194, 0x4       	BSET	_IOP1bits,4
                                           ;	.line	862; "MC32P7311.c"	LED_FULL_CHARGE_OFF();
00001f   c790     bset    0x190, 0x3       	BSET	_IOP0bits,3
                                           ;	.line	863; "MC32P7311.c"	LED_CHARGING_OFF();
000020   c990     bset    0x190, 0x4       	BSET	_IOP0bits,4
                                           _00680_DS_
                                           ;	.line	897; "MC32P7311.c"	__endasm;
                                           	;
000021   000e     clrwdt                   	CLRWDT;
                                           	
000022   a021     goto    0x21             	GOTO	_00680_DS_
                                           ;	.line	899; "MC32P7311.c"	}
000023   000c     return                   	RETURN	
                                           ; exit point of _main
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _low_power_scan_handle	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;functions called:
                                           ;   _CLR_RAM
                                           ;   _adc_sel_pin
                                           ;   _adc_get_val
                                           ;   _adc_sel_pin
                                           ;   _adc_get_val
                                           ;   _timer0_pwm_config
                                           ;   _timer1_pwm_config
                                           ;   _timer2_pwm_config
                                           ;   _key_config
                                           ;   _adc_config
                                           ;   _CLR_RAM
                                           ;   _adc_sel_pin
                                           ;   _adc_get_val
                                           ;   _adc_sel_pin
                                           ;   _adc_get_val
                                           ;   _timer0_pwm_config
                                           ;   _timer1_pwm_config
                                           ;   _timer2_pwm_config
                                           ;   _key_config
                                           ;   _adc_config
                                           ;1 compiler assigned register :
                                           ;   STK00
                                           ;; Starting pCode block
                                           _low_power_scan_handle	;Function start
                                           ; 2 exit points
                                           ;	.line	746; "MC32P7311.c"	if (FLAG_IS_DEVICE_OPEN)
000024   e035     jbset   0x35, 0          	JBSET	_flag1,0
000025   a027     goto    0x27             	GOTO	_00624_DS_
                                           ;	.line	749; "MC32P7311.c"	return;
000026   a090     goto    0x90             	GOTO	_00642_DS_
                                           _00624_DS_
                                           ;	.line	754; "MC32P7311.c"	if (FLAG_IS_IN_CHARGING)
000027   e435     jbset   0x35, 0x2        	JBSET	_flag1,2
000028   a02a     goto    0x2a             	GOTO	_00627_DS_
                                           ;	.line	757; "MC32P7311.c"	return;
000029   a090     goto    0x90             	GOTO	_00642_DS_
                                           _00627_DS_
                                           ;	.line	761; "MC32P7311.c"	GIE = 0; // 禁用所有中断
00002a   df88     bclr    0x188, 0x7       	BCLR	_MCRbits,7
                                           ;	.line	764; "MC32P7311.c"	TC0EN = 0; // 关闭定时器和PWM输出
00002b   df98     bclr    0x198, 0x7       	BCLR	_T0CRbits,7
                                           ;	.line	765; "MC32P7311.c"	TC1EN = 0;
00002c   df9c     bclr    0x19c, 0x7       	BCLR	_T1CRbits,7
                                           ;	.line	766; "MC32P7311.c"	TC2EN = 0;
00002d   dfa0     bclr    0x1a0, 0x7       	BCLR	_T2CRbits,7
                                           ;	.line	767; "MC32P7311.c"	PWM0OE = 0;
00002e   dd98     bclr    0x198, 0x6       	BCLR	_T0CRbits,6
                                           ;	.line	768; "MC32P7311.c"	PWM1OE = 0;
00002f   dd9c     bclr    0x19c, 0x6       	BCLR	_T1CRbits,6
                                           ;	.line	769; "MC32P7311.c"	PWM2OE = 0;
000030   dda0     bclr    0x1a0, 0x6       	BCLR	_T2CRbits,6
                                           ;	.line	770; "MC32P7311.c"	ADON = 0; // 不使能ad
000031   d1b0     bclr    0x1b0, 0         	BCLR	_ADCR0bits,0
                                           ;	.line	772; "MC32P7311.c"	IOP0 = 0x18;   // io口数据位
000032   3c18     movai   0x18             	MOVAI	0x18
000033   5790     movra   0x190            	MOVRA	_IOP0
                                           ;	.line	773; "MC32P7311.c"	OEP0 = 0xFF;   // io口方向 1:out  0:in
000034   3cff     movai   0xff             	MOVAI	0xff
000035   5791     movra   0x191            	MOVRA	_OEP0
                                           ;	.line	774; "MC32P7311.c"	PUP0 = 0x00;   // io口上拉电阻   1:enable  0:disable
000036   7792     clrr    0x192            	CLRR	_PUP0
                                           ;	.line	775; "MC32P7311.c"	PDP0 = 0x00;   // io口下拉电阻   1:enable  0:disable
000037   7793     clrr    0x193            	CLRR	_PDP0
                                           ;	.line	776; "MC32P7311.c"	ANSEL0 = 0x00; // io类型选择  1:模拟输入  0:通用io
000038   77b6     clrr    0x1b6            	CLRR	_ANSEL0
                                           ;	.line	777; "MC32P7311.c"	IOP1 = 0x10;   // io口数据位
000039   3c10     movai   0x10             	MOVAI	0x10
00003a   5794     movra   0x194            	MOVRA	_IOP1
                                           ;	.line	778; "MC32P7311.c"	OEP1 = 0xFF;   // io口方向 1:out  0:in
00003b   3cff     movai   0xff             	MOVAI	0xff
00003c   5795     movra   0x195            	MOVRA	_OEP1
                                           ;	.line	779; "MC32P7311.c"	PUP1 = 0x00;   // io口上拉电阻   1:enable  0:disable
00003d   7796     clrr    0x196            	CLRR	_PUP1
                                           ;	.line	780; "MC32P7311.c"	PDP1 = 0x00;   // io口下拉电阻   1:enable  0:disable
00003e   7797     clrr    0x197            	CLRR	_PDP1
                                           ;	.line	781; "MC32P7311.c"	ANSEL1 = 0x00; // io类型选择  1:模拟输入  0:通用io
00003f   77b7     clrr    0x1b7            	CLRR	_ANSEL1
                                           ;	.line	784; "MC32P7311.c"	MINT00 = 1; // MINT00、MINT01，组合配置INT0为下降沿中断
000040   c188     bset    0x188, 0         	BSET	_MCRbits,0
                                           ;	.line	785; "MC32P7311.c"	MINT01 = 0;
000041   d388     bclr    0x188, 0x1       	BCLR	_MCRbits,1
                                           ;	.line	786; "MC32P7311.c"	P11PU = 1;
000042   c396     bset    0x196, 0x1       	BSET	_PUP1bits,1
                                           ;	.line	787; "MC32P7311.c"	P11OE = 0;
000043   d395     bclr    0x195, 0x1       	BCLR	_OEP1bits,1
                                           ;	.line	788; "MC32P7311.c"	INT0IF = 0; // 清除中断标志
000044   d58b     bclr    0x18b, 0x2       	BCLR	_INTFbits,2
                                           ;	.line	789; "MC32P7311.c"	INT0IE = 1; // 外部中断使能
000045   c58a     bset    0x18a, 0x2       	BSET	_INTEbits,2
                                           ;	.line	791; "MC32P7311.c"	HFEN = 0;
000046   d1ae     bclr    0x1ae, 0         	BCLR	_OSCMbits,0
                                           ;	.line	792; "MC32P7311.c"	LFEN = 1;
000047   c3ae     bset    0x1ae, 0x1       	BSET	_OSCMbits,1
                                           ;	.line	795; "MC32P7311.c"	Nop();
000048   0000     nop                      	nop	
                                           ;	.line	796; "MC32P7311.c"	Nop();
000049   0000     nop                      	nop	
                                           ;	.line	797; "MC32P7311.c"	Stop();
00004a   000b     stop                     	stop	
                                           ;	.line	798; "MC32P7311.c"	Nop();
00004b   0000     nop                      	nop	
                                           ;	.line	799; "MC32P7311.c"	Nop();
00004c   0000     nop                      	nop	
                                           ;	.line	803; "MC32P7311.c"	CLR_RAM();
00004d   8316     call    0x316            	CALL	_CLR_RAM
                                           ;	.line	806; "MC32P7311.c"	P00PU = 0; // 关闭上下拉
00004e   d192     bclr    0x192, 0         	BCLR	_PUP0bits,0
                                           ;	.line	807; "MC32P7311.c"	P00PD = 0;
00004f   d193     bclr    0x193, 0         	BCLR	_PDP0bits,0
                                           ;	.line	808; "MC32P7311.c"	P00OE = 0;	  // 输入模式
000050   d191     bclr    0x191, 0         	BCLR	_OEP0bits,0
                                           ;	.line	809; "MC32P7311.c"	P00ANS = 1;	  // 模拟输入
000051   c1b6     bset    0x1b6, 0         	BSET	_ANSEL0bits,0
                                           ;	.line	810; "MC32P7311.c"	ADCR1 = 0xE1; // 125K采样（最高精度）  内部3V参考电压
000052   3ce1     movai   0xe1             	MOVAI	0xe1
000053   57b1     movra   0x1b1            	MOVRA	_ADCR1
                                           ;	.line	811; "MC32P7311.c"	ADCR2 = 0xFF; // ADC采样时间为15个ADC时钟
000054   3cff     movai   0xff             	MOVAI	0xff
000055   57b2     movra   0x1b2            	MOVRA	_ADCR2
                                           ;	.line	812; "MC32P7311.c"	ADON = 1;	  // 使能ADC
000056   c1b0     bset    0x1b0, 0         	BSET	_ADCR0bits,0
                                           ;	.line	814; "MC32P7311.c"	adc_sel_pin(ADC_PIN_P00_AN0);
000057   3c01     movai   0x1              	MOVAI	0x01
000058   82ba     call    0x2ba            	CALL	_adc_sel_pin
                                           ;	.line	815; "MC32P7311.c"	adc_val = adc_get_val();
000059   8257     call    0x257            	CALL	_adc_get_val
00005a   562f     movra   0x2f             	MOVRA	(_adc_val + 1)
00005b   5806     movar   0x6              	MOVAR	STK00
00005c   562e     movra   0x2e             	MOVRA	_adc_val
                                           ;;unsigned compare: left < lit(0x800=2048), size=2
                                           ;	.line	816; "MC32P7311.c"	if (adc_val < ADCDETECT_CHARING_THRESHOLD && P11D)
00005d   3c08     movai   0x8              	MOVAI	0x08
00005e   482f     rsubar  0x2f             	RSUBAR	(_adc_val + 1)
00005f   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
000060   a063     goto    0x63             	GOTO	_00664_DS_
000061   3c00     movai   0                	MOVAI	0x00
000062   482e     rsubar  0x2e             	RSUBAR	_adc_val
                                           _00664_DS_
000063   f187     jbclr   0x187, 0         	JBCLR	PFLAG,0
000064   a067     goto    0x67             	GOTO	_00629_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
000065   f394     jbclr   0x194, 0x1       	JBCLR	_IOP1bits,1
000066   a02a     goto    0x2a             	GOTO	_00627_DS_
                                           _00629_DS_
                                           ;	.line	824; "MC32P7311.c"	adc_sel_pin(ADC_PIN_P02_AN1);
000067   3c02     movai   0x2              	MOVAI	0x02
000068   82ba     call    0x2ba            	CALL	_adc_sel_pin
                                           ;	.line	825; "MC32P7311.c"	adc_val = adc_get_val();
000069   8257     call    0x257            	CALL	_adc_get_val
00006a   562f     movra   0x2f             	MOVRA	(_adc_val + 1)
00006b   5806     movar   0x6              	MOVAR	STK00
00006c   562e     movra   0x2e             	MOVRA	_adc_val
                                           ;;unsigned compare: left < lit(0x625=1573), size=2
                                           ;	.line	826; "MC32P7311.c"	if (adc_val < ADCVAL_REF_BAT_6_4_V)
00006d   3c06     movai   0x6              	MOVAI	0x06
00006e   482f     rsubar  0x2f             	RSUBAR	(_adc_val + 1)
00006f   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
000070   a073     goto    0x73             	GOTO	_00665_DS_
000071   3c25     movai   0x25             	MOVAI	0x25
000072   482e     rsubar  0x2e             	RSUBAR	_adc_val
                                           _00665_DS_
000073   f187     jbclr   0x187, 0         	JBCLR	PFLAG,0
000074   a076     goto    0x76             	GOTO	_00632_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	829; "MC32P7311.c"	FLAG_IS_NOT_OPEN_DEVICE = 1; // 不允许开机，但是可以充电
000075   cc35     bset    0x35, 0x6        	BSET	_flag1,6
                                           _00632_DS_
                                           ;	.line	832; "MC32P7311.c"	HFEN = 1;
000076   c1ae     bset    0x1ae, 0         	BSET	_OSCMbits,0
                                           ;	.line	834; "MC32P7311.c"	IOP0 = 0x18;   // io口数据位
000077   3c18     movai   0x18             	MOVAI	0x18
000078   5790     movra   0x190            	MOVRA	_IOP0
                                           ;	.line	835; "MC32P7311.c"	OEP0 = 0xFF;   // io口方向 1:out  0:in
000079   3cff     movai   0xff             	MOVAI	0xff
00007a   5791     movra   0x191            	MOVRA	_OEP0
                                           ;	.line	836; "MC32P7311.c"	PUP0 = 0x00;   // io口上拉电阻   1:enable  0:disable
00007b   7792     clrr    0x192            	CLRR	_PUP0
                                           ;	.line	837; "MC32P7311.c"	PDP0 = 0x00;   // io口下拉电阻   1:enable  0:disable
00007c   7793     clrr    0x193            	CLRR	_PDP0
                                           ;	.line	838; "MC32P7311.c"	ANSEL0 = 0x00; // io类型选择  1:模拟输入  0:通用io
00007d   77b6     clrr    0x1b6            	CLRR	_ANSEL0
                                           ;	.line	839; "MC32P7311.c"	IOP1 = 0x10;   // io口数据位
00007e   3c10     movai   0x10             	MOVAI	0x10
00007f   5794     movra   0x194            	MOVRA	_IOP1
                                           ;	.line	840; "MC32P7311.c"	OEP1 = 0xFF;   // io口方向 1:out  0:in
000080   3cff     movai   0xff             	MOVAI	0xff
000081   5795     movra   0x195            	MOVRA	_OEP1
                                           ;	.line	841; "MC32P7311.c"	PUP1 = 0x00;   // io口上拉电阻   1:enable  0:disable
000082   7796     clrr    0x196            	CLRR	_PUP1
                                           ;	.line	842; "MC32P7311.c"	PDP1 = 0x00;   // io口下拉电阻   1:enable  0:disable
000083   7797     clrr    0x197            	CLRR	_PDP1
                                           ;	.line	843; "MC32P7311.c"	ANSEL1 = 0x00; // io类型选择  1:模拟输入  0:通用io
000084   77b7     clrr    0x1b7            	CLRR	_ANSEL1
                                           ;	.line	844; "MC32P7311.c"	DRVCR = 0x80;  // 普通驱动
000085   3c80     movai   0x80             	MOVAI	0x80
000086   578c     movra   0x18c            	MOVRA	_DRVCR
                                           ;	.line	845; "MC32P7311.c"	timer0_pwm_config();
000087   82ff     call    0x2ff            	CALL	_timer0_pwm_config
                                           ;	.line	846; "MC32P7311.c"	timer1_pwm_config();
000088   82f7     call    0x2f7            	CALL	_timer1_pwm_config
                                           ;	.line	847; "MC32P7311.c"	timer2_pwm_config();
000089   82f0     call    0x2f0            	CALL	_timer2_pwm_config
                                           ;	.line	848; "MC32P7311.c"	key_config();
00008a   82e5     call    0x2e5            	CALL	_key_config
                                           ;	.line	849; "MC32P7311.c"	adc_config();
00008b   82d5     call    0x2d5            	CALL	_adc_config
                                           ;	.line	850; "MC32P7311.c"	LED_WORKING_OFF();
00008c   c994     bset    0x194, 0x4       	BSET	_IOP1bits,4
                                           ;	.line	851; "MC32P7311.c"	LED_FULL_CHARGE_OFF();
00008d   c790     bset    0x190, 0x3       	BSET	_IOP0bits,3
                                           ;	.line	852; "MC32P7311.c"	LED_CHARGING_OFF();
00008e   c990     bset    0x190, 0x4       	BSET	_IOP0bits,4
                                           ;	.line	853; "MC32P7311.c"	GIE = 1;
00008f   cf88     bset    0x188, 0x7       	BSET	_MCRbits,7
                                           _00642_DS_
                                           ;	.line	855; "MC32P7311.c"	}
000090   000c     return                   	RETURN	
                                           ; exit point of _low_power_scan_handle
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _shutdown_scan_handle	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           _shutdown_scan_handle	;Function start
                                           ; 2 exit points
                                           ;	.line	718; "MC32P7311.c"	if (FLAG_IS_DEVICE_OPEN)
000091   e035     jbset   0x35, 0          	JBSET	_flag1,0
000092   a0b4     goto    0xb4             	GOTO	_00606_DS_
                                           ;	.line	721; "MC32P7311.c"	shut_down_ms_cnt += ONE_CYCLE_TIME_MS;
000093   3c4a     movai   0x4a             	MOVAI	0x4a
000094   7e2a     addra   0x2a             	ADDRA	_shut_down_ms_cnt
000095   f187     jbclr   0x187, 0         	JBCLR	PFLAG,0
000096   662b     incr    0x2b             	INCR	(_shut_down_ms_cnt + 1)
000097   f587     jbclr   0x187, 0x2       	JBCLR	PFLAG,2
000098   662c     incr    0x2c             	INCR	(_shut_down_ms_cnt + 2)
000099   f587     jbclr   0x187, 0x2       	JBCLR	PFLAG,2
00009a   662d     incr    0x2d             	INCR	(_shut_down_ms_cnt + 3)
                                           ;;unsigned compare: left < lit(0xDBBA0=900000), size=4
                                           ;	.line	722; "MC32P7311.c"	if (shut_down_ms_cnt >= 900000)
00009b   3c00     movai   0                	MOVAI	0x00
00009c   482d     rsubar  0x2d             	RSUBAR	(_shut_down_ms_cnt + 3)
00009d   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
00009e   a0a9     goto    0xa9             	GOTO	_00618_DS_
00009f   3c0d     movai   0xd              	MOVAI	0x0d
0000a0   482c     rsubar  0x2c             	RSUBAR	(_shut_down_ms_cnt + 2)
0000a1   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
0000a2   a0a9     goto    0xa9             	GOTO	_00618_DS_
0000a3   3cbb     movai   0xbb             	MOVAI	0xbb
0000a4   482b     rsubar  0x2b             	RSUBAR	(_shut_down_ms_cnt + 1)
0000a5   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
0000a6   a0a9     goto    0xa9             	GOTO	_00618_DS_
0000a7   3ca0     movai   0xa0             	MOVAI	0xa0
0000a8   482a     rsubar  0x2a             	RSUBAR	_shut_down_ms_cnt
                                           _00618_DS_
0000a9   e187     jbset   0x187, 0         	JBSET	PFLAG,0
0000aa   a0b8     goto    0xb8             	GOTO	_00608_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	726; "MC32P7311.c"	LED_WORKING_OFF(); // 关闭电源指示灯
0000ab   c994     bset    0x194, 0x4       	BSET	_IOP1bits,4
                                           ;	.line	727; "MC32P7311.c"	HEATING_OFF();	   // 关闭加热
0000ac   d594     bclr    0x194, 0x2       	BCLR	_IOP1bits,2
                                           ;	.line	728; "MC32P7311.c"	FLAG_IS_HEATING = 0;
0000ad   d235     bclr    0x35, 0x1        	BCLR	_flag1,1
                                           ;	.line	729; "MC32P7311.c"	mode_flag = MODE_3; // 下一次切换模式时，会变成 MODE_1
0000ae   3c02     movai   0x2              	MOVAI	0x02
0000af   5630     movra   0x30             	MOVRA	_mode_flag
                                           ;	.line	731; "MC32P7311.c"	PWM0OE = 0;
0000b0   dd98     bclr    0x198, 0x6       	BCLR	_T0CRbits,6
                                           ;	.line	732; "MC32P7311.c"	PWM1OE = 0;
0000b1   dd9c     bclr    0x19c, 0x6       	BCLR	_T1CRbits,6
                                           ;	.line	734; "MC32P7311.c"	FLAG_IS_DEVICE_OPEN = 0;
0000b2   d035     bclr    0x35, 0          	BCLR	_flag1,0
0000b3   a0b8     goto    0xb8             	GOTO	_00608_DS_
                                           _00606_DS_
                                           ;	.line	740; "MC32P7311.c"	shut_down_ms_cnt = 0;
0000b4   762a     clrr    0x2a             	CLRR	_shut_down_ms_cnt
0000b5   762b     clrr    0x2b             	CLRR	(_shut_down_ms_cnt + 1)
0000b6   762c     clrr    0x2c             	CLRR	(_shut_down_ms_cnt + 2)
0000b7   762d     clrr    0x2d             	CLRR	(_shut_down_ms_cnt + 3)
                                           _00608_DS_
                                           ;	.line	742; "MC32P7311.c"	}
0000b8   000c     return                   	RETURN	
                                           ; exit point of _shutdown_scan_handle
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _turn_dir_scan_handle	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           _turn_dir_scan_handle	;Function start
                                           ; 2 exit points
                                           ;	.line	682; "MC32P7311.c"	if (FLAG_IS_DEVICE_OPEN)
0000b9   e035     jbset   0x35, 0          	JBSET	_flag1,0
0000ba   a0e1     goto    0xe1             	GOTO	_00576_DS_
                                           ;	.line	685; "MC32P7311.c"	turn_dir_ms_cnt += ONE_CYCLE_TIME_MS;
0000bb   3c4a     movai   0x4a             	MOVAI	0x4a
0000bc   7e26     addra   0x26             	ADDRA	_turn_dir_ms_cnt
0000bd   f187     jbclr   0x187, 0         	JBCLR	PFLAG,0
0000be   6627     incr    0x27             	INCR	(_turn_dir_ms_cnt + 1)
0000bf   f587     jbclr   0x187, 0x2       	JBCLR	PFLAG,2
0000c0   6628     incr    0x28             	INCR	(_turn_dir_ms_cnt + 2)
0000c1   f587     jbclr   0x187, 0x2       	JBCLR	PFLAG,2
0000c2   6629     incr    0x29             	INCR	(_turn_dir_ms_cnt + 3)
                                           ;;unsigned compare: left < lit(0x1D4C0=120000), size=4
                                           ;	.line	686; "MC32P7311.c"	if (turn_dir_ms_cnt >= 120000)
0000c3   3c00     movai   0                	MOVAI	0x00
0000c4   4829     rsubar  0x29             	RSUBAR	(_turn_dir_ms_cnt + 3)
0000c5   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
0000c6   a0d1     goto    0xd1             	GOTO	_00592_DS_
0000c7   3c01     movai   0x1              	MOVAI	0x01
0000c8   4828     rsubar  0x28             	RSUBAR	(_turn_dir_ms_cnt + 2)
0000c9   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
0000ca   a0d1     goto    0xd1             	GOTO	_00592_DS_
0000cb   3cd4     movai   0xd4             	MOVAI	0xd4
0000cc   4827     rsubar  0x27             	RSUBAR	(_turn_dir_ms_cnt + 1)
0000cd   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
0000ce   a0d1     goto    0xd1             	GOTO	_00592_DS_
0000cf   3cc0     movai   0xc0             	MOVAI	0xc0
0000d0   4826     rsubar  0x26             	RSUBAR	_turn_dir_ms_cnt
                                           _00592_DS_
0000d1   e187     jbset   0x187, 0         	JBSET	PFLAG,0
0000d2   a0e5     goto    0xe5             	GOTO	_00578_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	689; "MC32P7311.c"	if (0 == FLAG_DIR)
0000d3   f635     jbclr   0x35, 0x3        	JBCLR	_flag1,3
0000d4   a0d9     goto    0xd9             	GOTO	_00571_DS_
                                           ;	.line	692; "MC32P7311.c"	PWM0OE = 0; // 关闭驱动正转的pwm
0000d5   dd98     bclr    0x198, 0x6       	BCLR	_T0CRbits,6
                                           ;	.line	693; "MC32P7311.c"	PWM1OE = 1; // 打开驱动反转的pwm
0000d6   cd9c     bset    0x19c, 0x6       	BSET	_T1CRbits,6
                                           ;	.line	695; "MC32P7311.c"	FLAG_DIR = 1; // 表示当前为反转
0000d7   c635     bset    0x35, 0x3        	BSET	_flag1,3
0000d8   a0dc     goto    0xdc             	GOTO	_00572_DS_
                                           _00571_DS_
                                           ;	.line	700; "MC32P7311.c"	PWM1OE = 0; // 关闭驱动反转的pwm
0000d9   dd9c     bclr    0x19c, 0x6       	BCLR	_T1CRbits,6
                                           ;	.line	701; "MC32P7311.c"	PWM0OE = 1; // 打开驱动正转的pwm
0000da   cd98     bset    0x198, 0x6       	BSET	_T0CRbits,6
                                           ;	.line	703; "MC32P7311.c"	FLAG_DIR = 0; // 表示当前为正转
0000db   d635     bclr    0x35, 0x3        	BCLR	_flag1,3
                                           _00572_DS_
                                           ;	.line	706; "MC32P7311.c"	turn_dir_ms_cnt = 0;
0000dc   7626     clrr    0x26             	CLRR	_turn_dir_ms_cnt
0000dd   7627     clrr    0x27             	CLRR	(_turn_dir_ms_cnt + 1)
0000de   7628     clrr    0x28             	CLRR	(_turn_dir_ms_cnt + 2)
0000df   7629     clrr    0x29             	CLRR	(_turn_dir_ms_cnt + 3)
0000e0   a0e5     goto    0xe5             	GOTO	_00578_DS_
                                           _00576_DS_
                                           ;	.line	711; "MC32P7311.c"	turn_dir_ms_cnt = 0; // 设备未运行时，清空计数值
0000e1   7626     clrr    0x26             	CLRR	_turn_dir_ms_cnt
0000e2   7627     clrr    0x27             	CLRR	(_turn_dir_ms_cnt + 1)
0000e3   7628     clrr    0x28             	CLRR	(_turn_dir_ms_cnt + 2)
0000e4   7629     clrr    0x29             	CLRR	(_turn_dir_ms_cnt + 3)
                                           _00578_DS_
                                           ;	.line	713; "MC32P7311.c"	}
0000e5   000c     return                   	RETURN	
                                           ; exit point of _turn_dir_scan_handle
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _adc_scan_handle	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;functions called:
                                           ;   _adc_sel_pin
                                           ;   _adc_get_val
                                           ;   _adc_sel_pin
                                           ;   _adc_get_val
                                           ;   _adc_sel_pin
                                           ;   _adc_get_val
                                           ;   _adc_sel_pin
                                           ;   _adc_get_val
                                           ;1 compiler assigned register :
                                           ;   STK00
                                           ;; Starting pCode block
                                           _adc_scan_handle	;Function start
                                           ; 2 exit points
                                           ;	.line	527; "MC32P7311.c"	volatile u8 cnt = 0;				  // 计数值，用于检测电池是否满电，也是用于检测是否插入/拔出充电器的计数值
0000e6   7622     clrr    0x22             	CLRR	_adc_scan_handle_cnt_65536_86
                                           ;	.line	528; "MC32P7311.c"	volatile u8 need_charge_cnt = 0;	  // 计数值，用于检测是否要快速充电
0000e7   7623     clrr    0x23             	CLRR	_adc_scan_handle_need_charge_cnt_65536_86
                                           ;	.line	529; "MC32P7311.c"	volatile u8 need_charge_slow_cnt = 0; // 计数值，用于检测是否要稍微降低充电速度
0000e8   7624     clrr    0x24             	CLRR	_adc_scan_handle_need_charge_slow_cnt_65536_86
                                           ;	.line	530; "MC32P7311.c"	volatile u8 flag_bat_is_empty = 0;	  // 标志位，用于检测是否拔出了电池
0000e9   7625     clrr    0x25             	CLRR	_adc_scan_handle_flag_bat_is_empty_65536_86
                                           ;	.line	532; "MC32P7311.c"	adc_sel_pin(ADC_PIN_P02_AN1); // 切换到检测电池降压后的电压的检测引脚
0000ea   3c02     movai   0x2              	MOVAI	0x02
0000eb   82ba     call    0x2ba            	CALL	_adc_sel_pin
                                           ;	.line	533; "MC32P7311.c"	for (i = 0; i < 10; i++)
0000ec   7632     clrr    0x32             	CLRR	_i
                                           ;;unsigned compare: left < lit(0xA=10), size=1
                                           _00453_DS_
0000ed   3c0a     movai   0xa              	MOVAI	0x0a
0000ee   4832     rsubar  0x32             	RSUBAR	_i
0000ef   f187     jbclr   0x187, 0         	JBCLR	PFLAG,0
0000f0   a159     goto    0x159            	GOTO	_00424_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	535; "MC32P7311.c"	adc_val = adc_get_val();
0000f1   8257     call    0x257            	CALL	_adc_get_val
0000f2   562f     movra   0x2f             	MOVRA	(_adc_val + 1)
0000f3   5806     movar   0x6              	MOVAR	STK00
0000f4   562e     movra   0x2e             	MOVRA	_adc_val
                                           ;	.line	537; "MC32P7311.c"	if (FLAG_IS_IN_CHARGING)
0000f5   e435     jbset   0x35, 0x2        	JBSET	_flag1,2
0000f6   a147     goto    0x147            	GOTO	_00422_DS_
                                           ;;swapping arguments (AOP_TYPEs 1/3)
                                           ;;unsigned compare: left >= lit(0x47C=1148), size=2
                                           ;	.line	540; "MC32P7311.c"	if (adc_val <= ADCDETECT_BAT_EMPTY) // 如果有一次电池一侧的电压小于5V，认为是拔出了电池
0000f7   3c04     movai   0x4              	MOVAI	0x04
0000f8   482f     rsubar  0x2f             	RSUBAR	(_adc_val + 1)
0000f9   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
0000fa   a0fd     goto    0xfd             	GOTO	_00553_DS_
0000fb   3c7c     movai   0x7c             	MOVAI	0x7c
0000fc   482e     rsubar  0x2e             	RSUBAR	_adc_val
                                           _00553_DS_
0000fd   f187     jbclr   0x187, 0         	JBCLR	PFLAG,0
0000fe   a102     goto    0x102            	GOTO	_00385_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	542; "MC32P7311.c"	flag_bat_is_empty = 1;
0000ff   3c01     movai   0x1              	MOVAI	0x01
000100   5625     movra   0x25             	MOVRA	_adc_scan_handle_flag_bat_is_empty_65536_86
000101   a11f     goto    0x11f            	GOTO	_00386_DS_
                                           ;;unsigned compare: left < lit(0x668=1640), size=2
                                           _00385_DS_
                                           ;	.line	544; "MC32P7311.c"	else if (adc_val >= ADCDETECT_BAT_FULL) // 检测电池是否满电
000102   3c06     movai   0x6              	MOVAI	0x06
000103   482f     rsubar  0x2f             	RSUBAR	(_adc_val + 1)
000104   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
000105   a108     goto    0x108            	GOTO	_00554_DS_
000106   3c68     movai   0x68             	MOVAI	0x68
000107   482e     rsubar  0x2e             	RSUBAR	_adc_val
                                           _00554_DS_
000108   e187     jbset   0x187, 0         	JBSET	PFLAG,0
000109   a10c     goto    0x10c            	GOTO	_00382_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	546; "MC32P7311.c"	cnt++;
00010a   6622     incr    0x22             	INCR	_adc_scan_handle_cnt_65536_86
00010b   a11f     goto    0x11f            	GOTO	_00386_DS_
                                           ;;unsigned compare: left < lit(0x609=1545), size=2
                                           _00382_DS_
                                           ;	.line	548; "MC32P7311.c"	else if (adc_val < ADCDETECT_BAT_WILL_FULL) // 检测是否要快速充电
00010c   3c06     movai   0x6              	MOVAI	0x06
00010d   482f     rsubar  0x2f             	RSUBAR	(_adc_val + 1)
00010e   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
00010f   a112     goto    0x112            	GOTO	_00555_DS_
000110   3c09     movai   0x9              	MOVAI	0x09
000111   482e     rsubar  0x2e             	RSUBAR	_adc_val
                                           _00555_DS_
000112   f187     jbclr   0x187, 0         	JBCLR	PFLAG,0
000113   a116     goto    0x116            	GOTO	_00379_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	550; "MC32P7311.c"	need_charge_cnt++;
000114   6623     incr    0x23             	INCR	_adc_scan_handle_need_charge_cnt_65536_86
000115   a11f     goto    0x11f            	GOTO	_00386_DS_
                                           ;;unsigned compare: left < lit(0x609=1545), size=2
                                           _00379_DS_
                                           ;	.line	552; "MC32P7311.c"	else if (adc_val >= ADCDETECT_BAT_WILL_FULL) // 检测是否要稍微降低充电速度
000116   3c06     movai   0x6              	MOVAI	0x06
000117   482f     rsubar  0x2f             	RSUBAR	(_adc_val + 1)
000118   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
000119   a11c     goto    0x11c            	GOTO	_00556_DS_
00011a   3c09     movai   0x9              	MOVAI	0x09
00011b   482e     rsubar  0x2e             	RSUBAR	_adc_val
                                           _00556_DS_
00011c   e187     jbset   0x187, 0         	JBSET	PFLAG,0
00011d   a11f     goto    0x11f            	GOTO	_00386_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	554; "MC32P7311.c"	need_charge_slow_cnt++;
00011e   6624     incr    0x24             	INCR	_adc_scan_handle_need_charge_slow_cnt_65536_86
                                           _00386_DS_
                                           ;	.line	557; "MC32P7311.c"	if (flag_bat_is_empty)
00011f   3c00     movai   0                	MOVAI	0x00
000120   5c25     orar    0x25             	ORAR	_adc_scan_handle_flag_bat_is_empty_65536_86
000121   f587     jbclr   0x187, 0x2       	JBCLR	PFLAG,2
000122   a128     goto    0x128            	GOTO	_00415_DS_
                                           ;	.line	560; "MC32P7311.c"	LED_FULL_CHARGE_ON(); // 开启电池充满电的指示灯
000123   d790     bclr    0x190, 0x3       	BCLR	_IOP0bits,3
                                           ;	.line	561; "MC32P7311.c"	LED_CHARGING_OFF();	  // 关闭充电指示灯
000124   c990     bset    0x190, 0x4       	BSET	_IOP0bits,4
                                           ;	.line	562; "MC32P7311.c"	PWM2OE = 0;			  // 关闭控制升压电路的pwm
000125   dda0     bclr    0x1a0, 0x6       	BCLR	_T2CRbits,6
                                           ;	.line	563; "MC32P7311.c"	FLAG_BAT_IS_NEED_CHARGE = 0;
000126   d835     bclr    0x35, 0x4        	BCLR	_flag1,4
                                           ;	.line	564; "MC32P7311.c"	break;
000127   a159     goto    0x159            	GOTO	_00424_DS_
                                           ;;unsigned compare: left < lit(0x8=8), size=1
                                           _00415_DS_
                                           ;	.line	566; "MC32P7311.c"	else if (cnt >= 8)
000128   3c08     movai   0x8              	MOVAI	0x08
000129   4822     rsubar  0x22             	RSUBAR	_adc_scan_handle_cnt_65536_86
00012a   e187     jbset   0x187, 0         	JBSET	PFLAG,0
00012b   a132     goto    0x132            	GOTO	_00412_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	569; "MC32P7311.c"	LED_FULL_CHARGE_ON(); // 开启电池充满电的指示灯
00012c   d790     bclr    0x190, 0x3       	BCLR	_IOP0bits,3
                                           ;	.line	570; "MC32P7311.c"	LED_CHARGING_OFF();	  // 关闭充电指示灯
00012d   c990     bset    0x190, 0x4       	BSET	_IOP0bits,4
                                           ;	.line	571; "MC32P7311.c"	PWM2OE = 0;			  // 关闭控制升压电路的pwm
00012e   dda0     bclr    0x1a0, 0x6       	BCLR	_T2CRbits,6
                                           ;	.line	573; "MC32P7311.c"	FLAG_BAT_IS_NEED_CHARGE = 0;
00012f   d835     bclr    0x35, 0x4        	BCLR	_flag1,4
                                           ;	.line	574; "MC32P7311.c"	FLAG_BAT_IS_FULL = 1;
000130   ca35     bset    0x35, 0x5        	BSET	_flag1,5
                                           ;	.line	575; "MC32P7311.c"	break;
000131   a159     goto    0x159            	GOTO	_00424_DS_
                                           ;;unsigned compare: left < lit(0x8=8), size=1
                                           _00412_DS_
                                           ;	.line	577; "MC32P7311.c"	else if (need_charge_cnt >= 8)
000132   3c08     movai   0x8              	MOVAI	0x08
000133   4823     rsubar  0x23             	RSUBAR	_adc_scan_handle_need_charge_cnt_65536_86
000134   e187     jbset   0x187, 0         	JBSET	PFLAG,0
000135   a13c     goto    0x13c            	GOTO	_00409_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	580; "MC32P7311.c"	T2DATA = 24;		   // 占空比 == TxDATA / TxLOAD   实际测得是46.15%占空比
000136   3c18     movai   0x18             	MOVAI	0x18
000137   57a3     movra   0x1a3            	MOVRA	_T2DATA
                                           ;	.line	581; "MC32P7311.c"	LED_FULL_CHARGE_OFF(); // 关闭充满电的指示灯
000138   c790     bset    0x190, 0x3       	BSET	_IOP0bits,3
                                           ;	.line	582; "MC32P7311.c"	FLAG_BAT_IS_NEED_CHARGE = 1;
000139   c835     bset    0x35, 0x4        	BSET	_flag1,4
                                           ;	.line	583; "MC32P7311.c"	FLAG_BAT_IS_FULL = 0;
00013a   da35     bclr    0x35, 0x5        	BCLR	_flag1,5
                                           ;	.line	588; "MC32P7311.c"	break;
00013b   a159     goto    0x159            	GOTO	_00424_DS_
                                           ;;unsigned compare: left < lit(0x8=8), size=1
                                           _00409_DS_
                                           ;	.line	590; "MC32P7311.c"	else if (need_charge_slow_cnt >= 8 && 0 == FLAG_BAT_IS_FULL)
00013c   3c08     movai   0x8              	MOVAI	0x08
00013d   4824     rsubar  0x24             	RSUBAR	_adc_scan_handle_need_charge_slow_cnt_65536_86
00013e   e187     jbset   0x187, 0         	JBSET	PFLAG,0
00013f   a157     goto    0x157            	GOTO	_00454_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
000140   fa35     jbclr   0x35, 0x5        	JBCLR	_flag1,5
000141   a157     goto    0x157            	GOTO	_00454_DS_
                                           ;	.line	593; "MC32P7311.c"	T2DATA = 23;		   // 占空比 == TxDATA / TxLOAD   实际测得是41.54%、43%或44.62 这两个占空比
000142   3c17     movai   0x17             	MOVAI	0x17
000143   57a3     movra   0x1a3            	MOVRA	_T2DATA
                                           ;	.line	594; "MC32P7311.c"	LED_FULL_CHARGE_OFF(); // 关闭充满电的指示灯
000144   c790     bset    0x190, 0x3       	BSET	_IOP0bits,3
                                           ;	.line	595; "MC32P7311.c"	FLAG_BAT_IS_NEED_CHARGE = 1;
000145   c835     bset    0x35, 0x4        	BSET	_flag1,4
                                           ;	.line	601; "MC32P7311.c"	break;
000146   a159     goto    0x159            	GOTO	_00424_DS_
                                           ;;swapping arguments (AOP_TYPEs 1/3)
                                           ;;unsigned compare: left >= lit(0x5E7=1511), size=2
                                           _00422_DS_
                                           ;	.line	606; "MC32P7311.c"	if (adc_val <= ADCDETECT_BAT_FULL - 130)
000147   3c05     movai   0x5              	MOVAI	0x05
000148   482f     rsubar  0x2f             	RSUBAR	(_adc_val + 1)
000149   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
00014a   a14d     goto    0x14d            	GOTO	_00560_DS_
00014b   3ce7     movai   0xe7             	MOVAI	0xe7
00014c   482e     rsubar  0x2e             	RSUBAR	_adc_val
                                           _00560_DS_
00014d   f187     jbclr   0x187, 0         	JBCLR	PFLAG,0
00014e   a150     goto    0x150            	GOTO	_00418_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	608; "MC32P7311.c"	cnt++;
00014f   6622     incr    0x22             	INCR	_adc_scan_handle_cnt_65536_86
                                           ;;unsigned compare: left < lit(0x8=8), size=1
                                           _00418_DS_
                                           ;	.line	611; "MC32P7311.c"	if (cnt >= 8)
000150   3c08     movai   0x8              	MOVAI	0x08
000151   4822     rsubar  0x22             	RSUBAR	_adc_scan_handle_cnt_65536_86
000152   e187     jbset   0x187, 0         	JBSET	PFLAG,0
000153   a157     goto    0x157            	GOTO	_00454_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	614; "MC32P7311.c"	FLAG_BAT_IS_NEED_CHARGE = 1;
000154   c835     bset    0x35, 0x4        	BSET	_flag1,4
                                           ;	.line	615; "MC32P7311.c"	FLAG_BAT_IS_FULL = 0;
000155   da35     bclr    0x35, 0x5        	BCLR	_flag1,5
                                           ;	.line	616; "MC32P7311.c"	break;
000156   a159     goto    0x159            	GOTO	_00424_DS_
                                           _00454_DS_
                                           ;	.line	533; "MC32P7311.c"	for (i = 0; i < 10; i++)
000157   6632     incr    0x32             	INCR	_i
000158   a0ed     goto    0xed             	GOTO	_00453_DS_
                                           _00424_DS_
                                           ;	.line	621; "MC32P7311.c"	cnt = 0;
000159   7622     clrr    0x22             	CLRR	_adc_scan_handle_cnt_65536_86
                                           ;	.line	622; "MC32P7311.c"	adc_sel_pin(ADC_PIN_P00_AN0); // 切换到检测充电的电压检测引脚
00015a   3c01     movai   0x1              	MOVAI	0x01
00015b   82ba     call    0x2ba            	CALL	_adc_sel_pin
                                           ;	.line	623; "MC32P7311.c"	for (i = 0; i < 10; i++)
00015c   7632     clrr    0x32             	CLRR	_i
                                           ;;unsigned compare: left < lit(0xA=10), size=1
                                           _00456_DS_
00015d   3c0a     movai   0xa              	MOVAI	0x0a
00015e   4832     rsubar  0x32             	RSUBAR	_i
00015f   f187     jbclr   0x187, 0         	JBCLR	PFLAG,0
000160   a193     goto    0x193            	GOTO	_00458_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	625; "MC32P7311.c"	adc_val = adc_get_val();
000161   8257     call    0x257            	CALL	_adc_get_val
000162   562f     movra   0x2f             	MOVRA	(_adc_val + 1)
000163   5806     movar   0x6              	MOVAR	STK00
000164   562e     movra   0x2e             	MOVRA	_adc_val
                                           ;	.line	626; "MC32P7311.c"	if (FLAG_IS_IN_CHARGING)
000165   e435     jbset   0x35, 0x2        	JBSET	_flag1,2
000166   a180     goto    0x180            	GOTO	_00449_DS_
                                           ;;unsigned compare: left < lit(0x800=2048), size=2
                                           ;	.line	629; "MC32P7311.c"	if (adc_val < ADCDETECT_CHARING_THRESHOLD)
000167   3c08     movai   0x8              	MOVAI	0x08
000168   482f     rsubar  0x2f             	RSUBAR	(_adc_val + 1)
000169   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
00016a   a16d     goto    0x16d            	GOTO	_00563_DS_
00016b   3c00     movai   0                	MOVAI	0x00
00016c   482e     rsubar  0x2e             	RSUBAR	_adc_val
                                           _00563_DS_
00016d   f187     jbclr   0x187, 0         	JBCLR	PFLAG,0
00016e   a170     goto    0x170            	GOTO	_00426_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	631; "MC32P7311.c"	cnt++;
00016f   6622     incr    0x22             	INCR	_adc_scan_handle_cnt_65536_86
                                           ;;unsigned compare: left < lit(0x8=8), size=1
                                           _00426_DS_
                                           ;	.line	634; "MC32P7311.c"	if (cnt >= 8)
000170   3c08     movai   0x8              	MOVAI	0x08
000171   4822     rsubar  0x22             	RSUBAR	_adc_scan_handle_cnt_65536_86
000172   e187     jbset   0x187, 0         	JBSET	PFLAG,0
000173   a179     goto    0x179            	GOTO	_00434_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	637; "MC32P7311.c"	LED_CHARGING_OFF();	   // 关闭充电指示灯
000174   c990     bset    0x190, 0x4       	BSET	_IOP0bits,4
                                           ;	.line	638; "MC32P7311.c"	PWM2OE = 0;			   // 关闭控制升压电路的pwm
000175   dda0     bclr    0x1a0, 0x6       	BCLR	_T2CRbits,6
                                           ;	.line	639; "MC32P7311.c"	LED_FULL_CHARGE_OFF(); // 关闭电池充满电的指示灯
000176   c790     bset    0x190, 0x3       	BSET	_IOP0bits,3
                                           ;	.line	640; "MC32P7311.c"	FLAG_IS_IN_CHARGING = 0;
000177   d435     bclr    0x35, 0x2        	BCLR	_flag1,2
                                           ;	.line	642; "MC32P7311.c"	break;
000178   a193     goto    0x193            	GOTO	_00458_DS_
                                           _00434_DS_
                                           ;	.line	645; "MC32P7311.c"	if ((PWM2OE == 0) && FLAG_BAT_IS_NEED_CHARGE)
000179   fda0     jbclr   0x1a0, 0x6       	JBCLR	_T2CRbits,6
00017a   a191     goto    0x191            	GOTO	_00457_DS_
00017b   e835     jbset   0x35, 0x4        	JBSET	_flag1,4
00017c   a191     goto    0x191            	GOTO	_00457_DS_
                                           ;	.line	649; "MC32P7311.c"	LED_CHARGING_ON(); // 开启充电指示灯
00017d   d990     bclr    0x190, 0x4       	BCLR	_IOP0bits,4
                                           ;	.line	650; "MC32P7311.c"	PWM2OE = 1;		   // 开启控制升压电路的pwm
00017e   cda0     bset    0x1a0, 0x6       	BSET	_T2CRbits,6
00017f   a191     goto    0x191            	GOTO	_00457_DS_
                                           ;;unsigned compare: left < lit(0x800=2048), size=2
                                           _00449_DS_
                                           ;	.line	660; "MC32P7311.c"	if (adc_val >= ADCDETECT_CHARING_THRESHOLD)
000180   3c08     movai   0x8              	MOVAI	0x08
000181   482f     rsubar  0x2f             	RSUBAR	(_adc_val + 1)
000182   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
000183   a186     goto    0x186            	GOTO	_00565_DS_
000184   3c00     movai   0                	MOVAI	0x00
000185   482e     rsubar  0x2e             	RSUBAR	_adc_val
                                           _00565_DS_
000186   e187     jbset   0x187, 0         	JBSET	PFLAG,0
000187   a189     goto    0x189            	GOTO	_00442_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	662; "MC32P7311.c"	cnt++;
000188   6622     incr    0x22             	INCR	_adc_scan_handle_cnt_65536_86
                                           ;;unsigned compare: left < lit(0x8=8), size=1
                                           _00442_DS_
                                           ;	.line	665; "MC32P7311.c"	if (cnt >= 8)
000189   3c08     movai   0x8              	MOVAI	0x08
00018a   4822     rsubar  0x22             	RSUBAR	_adc_scan_handle_cnt_65536_86
00018b   e187     jbset   0x187, 0         	JBSET	PFLAG,0
00018c   a191     goto    0x191            	GOTO	_00457_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	669; "MC32P7311.c"	LED_CHARGING_ON(); // 开启充电指示灯
00018d   d990     bclr    0x190, 0x4       	BCLR	_IOP0bits,4
                                           ;	.line	670; "MC32P7311.c"	PWM2OE = 1;		   // 开启控制升压电路的pwm
00018e   cda0     bset    0x1a0, 0x6       	BSET	_T2CRbits,6
                                           ;	.line	673; "MC32P7311.c"	FLAG_IS_IN_CHARGING = 1;
00018f   c435     bset    0x35, 0x2        	BSET	_flag1,2
                                           ;	.line	674; "MC32P7311.c"	break;
000190   a193     goto    0x193            	GOTO	_00458_DS_
                                           _00457_DS_
                                           ;	.line	623; "MC32P7311.c"	for (i = 0; i < 10; i++)
000191   6632     incr    0x32             	INCR	_i
000192   a15d     goto    0x15d            	GOTO	_00456_DS_
                                           _00458_DS_
                                           ;	.line	678; "MC32P7311.c"	}
000193   000c     return                   	RETURN	
                                           ; exit point of _adc_scan_handle
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _key_handle	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;1 compiler assigned register :
                                           ;   r0x101F
                                           ;; Starting pCode block
                                           _key_handle	;Function start
                                           ; 2 exit points
                                           ;	.line	430; "MC32P7311.c"	if (key_press_flag)
000194   3c00     movai   0                	MOVAI	0x00
000195   5c31     orar    0x31             	ORAR	_key_press_flag
000196   f587     jbclr   0x187, 0x2       	JBCLR	PFLAG,2
000197   a1e9     goto    0x1e9            	GOTO	_00371_DS_
                                           ;	.line	433; "MC32P7311.c"	switch (key_press_flag)
000198   5831     movar   0x31             	MOVAR	_key_press_flag
000199   561f     movra   0x1f             	MOVRA	r0x101F
                                           ;;unsigned compare: left < lit(0x1=1), size=1
00019a   3c01     movai   0x1              	MOVAI	0x01
00019b   481f     rsubar  0x1f             	RSUBAR	r0x101F
00019c   e187     jbset   0x187, 0         	JBSET	PFLAG,0
00019d   a1e8     goto    0x1e8            	GOTO	_00368_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;;swapping arguments (AOP_TYPEs 1/2)
                                           ;;unsigned compare: left >= lit(0x4=4), size=1
00019e   3c04     movai   0x4              	MOVAI	0x04
00019f   481f     rsubar  0x1f             	RSUBAR	r0x101F
0001a0   f187     jbclr   0x187, 0         	JBCLR	PFLAG,0
0001a1   a1e8     goto    0x1e8            	GOTO	_00368_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
0001a2   6e1f     decr    0x1f             	DECR	r0x101F
0001a3   581f     movar   0x1f             	MOVAR	r0x101F
0001a4   7f86     addra   0x186            	ADDRA	PCL
0001a5   a1a8     goto    0x1a8            	GOTO	_00328_DS_
0001a6   a1b2     goto    0x1b2            	GOTO	_00340_DS_
0001a7   a1d4     goto    0x1d4            	GOTO	_00351_DS_
                                           _00328_DS_
                                           ;	.line	436; "MC32P7311.c"	if (FLAG_IS_DEVICE_OPEN)
0001a8   e035     jbset   0x35, 0          	JBSET	_flag1,0
0001a9   a1e8     goto    0x1e8            	GOTO	_00368_DS_
                                           ;	.line	439; "MC32P7311.c"	if (0 == FLAG_IS_HEATING)
0001aa   f235     jbclr   0x35, 0x1        	JBCLR	_flag1,1
0001ab   a1af     goto    0x1af            	GOTO	_00332_DS_
                                           ;	.line	441; "MC32P7311.c"	HEATING_ON(); // 打开加热
0001ac   c594     bset    0x194, 0x2       	BSET	_IOP1bits,2
                                           ;	.line	442; "MC32P7311.c"	FLAG_IS_HEATING = 1;
0001ad   c235     bset    0x35, 0x1        	BSET	_flag1,1
0001ae   a1e8     goto    0x1e8            	GOTO	_00368_DS_
                                           _00332_DS_
                                           ;	.line	446; "MC32P7311.c"	HEATING_OFF(); // 关闭加热
0001af   d594     bclr    0x194, 0x2       	BCLR	_IOP1bits,2
                                           ;	.line	447; "MC32P7311.c"	FLAG_IS_HEATING = 0;
0001b0   d235     bclr    0x35, 0x1        	BCLR	_flag1,1
                                           ;	.line	450; "MC32P7311.c"	break;
0001b1   a1e8     goto    0x1e8            	GOTO	_00368_DS_
                                           _00340_DS_
                                           ;	.line	454; "MC32P7311.c"	if (FLAG_IS_DEVICE_OPEN)
0001b2   e035     jbset   0x35, 0          	JBSET	_flag1,0
0001b3   a1e8     goto    0x1e8            	GOTO	_00368_DS_
                                           ;	.line	457; "MC32P7311.c"	if (MODE_1 == mode_flag)
0001b4   3c00     movai   0                	MOVAI	0x00
0001b5   5c30     orar    0x30             	ORAR	_mode_flag
0001b6   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
0001b7   a1bf     goto    0x1bf            	GOTO	_00347_DS_
                                           ;	.line	460; "MC32P7311.c"	T0DATA = 255;
0001b8   3cff     movai   0xff             	MOVAI	0xff
0001b9   579b     movra   0x19b            	MOVRA	_T0DATA
                                           ;	.line	461; "MC32P7311.c"	T1DATA = 255; // 100%占空比（确保大于TxLOAD的值就可以）
0001ba   3cff     movai   0xff             	MOVAI	0xff
0001bb   579f     movra   0x19f            	MOVRA	_T1DATA
                                           ;	.line	463; "MC32P7311.c"	mode_flag = MODE_2;
0001bc   3c01     movai   0x1              	MOVAI	0x01
0001bd   5630     movra   0x30             	MOVRA	_mode_flag
0001be   a1e8     goto    0x1e8            	GOTO	_00368_DS_
                                           _00347_DS_
                                           ;	.line	465; "MC32P7311.c"	else if (MODE_2 == mode_flag)
0001bf   5830     movar   0x30             	MOVAR	_mode_flag
0001c0   3901     xorai   0x1              	XORAI	0x01
0001c1   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
0001c2   a1ca     goto    0x1ca            	GOTO	_00344_DS_
                                           ;	.line	468; "MC32P7311.c"	T0DATA = 103;
0001c3   3c67     movai   0x67             	MOVAI	0x67
0001c4   579b     movra   0x19b            	MOVRA	_T0DATA
                                           ;	.line	469; "MC32P7311.c"	T1DATA = 103; // 80.5%占空比
0001c5   3c67     movai   0x67             	MOVAI	0x67
0001c6   579f     movra   0x19f            	MOVRA	_T1DATA
                                           ;	.line	471; "MC32P7311.c"	mode_flag = MODE_3;
0001c7   3c02     movai   0x2              	MOVAI	0x02
0001c8   5630     movra   0x30             	MOVRA	_mode_flag
0001c9   a1e8     goto    0x1e8            	GOTO	_00368_DS_
                                           _00344_DS_
                                           ;	.line	473; "MC32P7311.c"	else if (MODE_3 == mode_flag)
0001ca   5830     movar   0x30             	MOVAR	_mode_flag
0001cb   3902     xorai   0x2              	XORAI	0x02
0001cc   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
0001cd   a1e8     goto    0x1e8            	GOTO	_00368_DS_
                                           ;	.line	476; "MC32P7311.c"	T0DATA = 115;
0001ce   3c73     movai   0x73             	MOVAI	0x73
0001cf   579b     movra   0x19b            	MOVRA	_T0DATA
                                           ;	.line	477; "MC32P7311.c"	T1DATA = 115; // 89.9%占空比
0001d0   3c73     movai   0x73             	MOVAI	0x73
0001d1   579f     movra   0x19f            	MOVRA	_T1DATA
                                           ;	.line	479; "MC32P7311.c"	mode_flag = MODE_1;
0001d2   7630     clrr    0x30             	CLRR	_mode_flag
                                           ;	.line	482; "MC32P7311.c"	break;
0001d3   a1e8     goto    0x1e8            	GOTO	_00368_DS_
                                           _00351_DS_
                                           ;	.line	485; "MC32P7311.c"	if (0 == FLAG_IS_DEVICE_OPEN)
0001d4   f035     jbclr   0x35, 0          	JBCLR	_flag1,0
0001d5   a1e1     goto    0x1e1            	GOTO	_00358_DS_
                                           ;	.line	488; "MC32P7311.c"	LED_WORKING_ON(); // 打开电源指示灯
0001d6   d994     bclr    0x194, 0x4       	BCLR	_IOP1bits,4
                                           ;	.line	489; "MC32P7311.c"	HEATING_ON();	  // 打开加热
0001d7   c594     bset    0x194, 0x2       	BSET	_IOP1bits,2
                                           ;	.line	490; "MC32P7311.c"	FLAG_IS_DEVICE_OPEN = 1;
0001d8   c035     bset    0x35, 0          	BSET	_flag1,0
                                           ;	.line	491; "MC32P7311.c"	FLAG_IS_HEATING = 1;
0001d9   c235     bset    0x35, 0x1        	BSET	_flag1,1
                                           ;	.line	494; "MC32P7311.c"	T0DATA = 115;
0001da   3c73     movai   0x73             	MOVAI	0x73
0001db   579b     movra   0x19b            	MOVRA	_T0DATA
                                           ;	.line	495; "MC32P7311.c"	T1DATA = 115;		// 约为 89.9%
0001dc   3c73     movai   0x73             	MOVAI	0x73
0001dd   579f     movra   0x19f            	MOVRA	_T1DATA
                                           ;	.line	496; "MC32P7311.c"	mode_flag = MODE_1; // 下一次切换模式时，会变成 MODE_2
0001de   7630     clrr    0x30             	CLRR	_mode_flag
                                           ;	.line	499; "MC32P7311.c"	PWM0OE = 1;
0001df   cd98     bset    0x198, 0x6       	BSET	_T0CRbits,6
0001e0   a1e8     goto    0x1e8            	GOTO	_00368_DS_
                                           _00358_DS_
                                           ;	.line	504; "MC32P7311.c"	LED_WORKING_OFF(); // 关闭电源指示灯
0001e1   c994     bset    0x194, 0x4       	BSET	_IOP1bits,4
                                           ;	.line	505; "MC32P7311.c"	HEATING_OFF();	   // 关闭加热
0001e2   d594     bclr    0x194, 0x2       	BCLR	_IOP1bits,2
                                           ;	.line	506; "MC32P7311.c"	FLAG_IS_DEVICE_OPEN = 0;
0001e3   d035     bclr    0x35, 0          	BCLR	_flag1,0
                                           ;	.line	507; "MC32P7311.c"	FLAG_IS_HEATING = 0;
0001e4   d235     bclr    0x35, 0x1        	BCLR	_flag1,1
                                           ;	.line	509; "MC32P7311.c"	mode_flag = MODE_1; // 下一次切换模式时，会变成 MODE_2
0001e5   7630     clrr    0x30             	CLRR	_mode_flag
                                           ;	.line	512; "MC32P7311.c"	PWM0OE = 0;
0001e6   dd98     bclr    0x198, 0x6       	BCLR	_T0CRbits,6
                                           ;	.line	513; "MC32P7311.c"	PWM1OE = 0;
0001e7   dd9c     bclr    0x19c, 0x6       	BCLR	_T1CRbits,6
                                           _00368_DS_
                                           ;	.line	521; "MC32P7311.c"	key_press_flag = KEY_NONE;
0001e8   7631     clrr    0x31             	CLRR	_key_press_flag
                                           _00371_DS_
                                           ;	.line	523; "MC32P7311.c"	}
0001e9   000c     return                   	RETURN	
                                           ; exit point of _key_handle
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _key_scan	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;functions called:
                                           ;   _delay_ms
                                           ;   _delay_ms
                                           ;   _delay_ms
                                           ;   _delay_ms
                                           ;   _delay_ms
                                           ;   _delay_ms
                                           ;5 compiler assigned registers:
                                           ;   r0x1020
                                           ;   r0x1021
                                           ;   STK02
                                           ;   STK01
                                           ;   STK00
                                           ;; Starting pCode block
                                           _key_scan	;Function start
                                           ; 2 exit points
                                           ;	.line	348; "MC32P7311.c"	u8 cnt = 0;
0001ea   761d     clrr    0x1d             	CLRR	r0x1020
                                           ;	.line	350; "MC32P7311.c"	if (0 == KEY_POWER_PIN)
0001eb   f394     jbclr   0x194, 0x1       	JBCLR	_IOP1bits,1
0001ec   a20c     goto    0x20c            	GOTO	_00266_DS_
                                           ;	.line	352; "MC32P7311.c"	for (i = 0; i < 20; i++)
0001ed   7632     clrr    0x32             	CLRR	_i
0001ee   761e     clrr    0x1e             	CLRR	r0x1021
                                           ;;unsigned compare: left < lit(0x14=20), size=1
                                           _00291_DS_
0001ef   3c14     movai   0x14             	MOVAI	0x14
0001f0   4832     rsubar  0x32             	RSUBAR	_i
0001f1   f187     jbclr   0x187, 0         	JBCLR	PFLAG,0
0001f2   a200     goto    0x200            	GOTO	_00323_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	354; "MC32P7311.c"	if (0 == KEY_POWER_PIN)
0001f3   f394     jbclr   0x194, 0x1       	JBCLR	_IOP1bits,1
0001f4   a1f6     goto    0x1f6            	GOTO	_00258_DS_
                                           ;	.line	356; "MC32P7311.c"	cnt++;
0001f5   661e     incr    0x1e             	INCR	r0x1021
                                           _00258_DS_
                                           ;	.line	358; "MC32P7311.c"	delay_ms(1);
0001f6   3c01     movai   0x1              	MOVAI	0x01
0001f7   5604     movra   0x4              	MOVRA	STK02
0001f8   3c00     movai   0                	MOVAI	0x00
0001f9   5605     movra   0x5              	MOVRA	STK01
0001fa   3c00     movai   0                	MOVAI	0x00
0001fb   5606     movra   0x6              	MOVRA	STK00
0001fc   3c00     movai   0                	MOVAI	0x00
0001fd   837e     call    0x37e            	CALL	_delay_ms
                                           ;	.line	352; "MC32P7311.c"	for (i = 0; i < 20; i++)
0001fe   6632     incr    0x32             	INCR	_i
0001ff   a1ef     goto    0x1ef            	GOTO	_00291_DS_
                                           _00323_DS_
000200   581e     movar   0x1e             	MOVAR	r0x1021
000201   561d     movra   0x1d             	MOVRA	r0x1020
                                           ;;unsigned compare: left < lit(0xF=15), size=1
                                           ;	.line	361; "MC32P7311.c"	if (cnt >= 15)
000202   3c0f     movai   0xf              	MOVAI	0x0f
000203   481e     rsubar  0x1e             	RSUBAR	r0x1021
000204   e187     jbset   0x187, 0         	JBSET	PFLAG,0
000205   a208     goto    0x208            	GOTO	_00262_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	363; "MC32P7311.c"	key_press_flag = KEY_POWER_PRESS;
000206   3c03     movai   0x3              	MOVAI	0x03
000207   5631     movra   0x31             	MOVRA	_key_press_flag
                                           _00262_DS_
                                           ;	.line	367; "MC32P7311.c"	while (0 == KEY_POWER_PIN)
000208   f394     jbclr   0x194, 0x1       	JBCLR	_IOP1bits,1
000209   a20c     goto    0x20c            	GOTO	_00266_DS_
                                           ;	.line	371; "MC32P7311.c"	__endasm;
                                           	;
00020a   000e     clrwdt                   	CLRWDT;
                                           	
00020b   a208     goto    0x208            	GOTO	_00262_DS_
                                           _00266_DS_
                                           ;	.line	375; "MC32P7311.c"	if (FLAG_IS_DEVICE_OPEN)
00020c   e035     jbset   0x35, 0          	JBSET	_flag1,0
00020d   a24c     goto    0x24c            	GOTO	_00299_DS_
                                           ;	.line	378; "MC32P7311.c"	if (0 == KEY_HEAT_PIN)
00020e   fb90     jbclr   0x190, 0x5       	JBCLR	_IOP0bits,5
00020f   a22e     goto    0x22e            	GOTO	_00286_DS_
                                           ;	.line	380; "MC32P7311.c"	for (i = 0; i < 20; i++)
000210   7632     clrr    0x32             	CLRR	_i
000211   581d     movar   0x1d             	MOVAR	r0x1020
000212   561e     movra   0x1e             	MOVRA	r0x1021
                                           ;;unsigned compare: left < lit(0x14=20), size=1
                                           _00294_DS_
000213   3c14     movai   0x14             	MOVAI	0x14
000214   4832     rsubar  0x32             	RSUBAR	_i
000215   f187     jbclr   0x187, 0         	JBCLR	PFLAG,0
000216   a224     goto    0x224            	GOTO	_00269_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	382; "MC32P7311.c"	if (0 == KEY_HEAT_PIN)
000217   fb90     jbclr   0x190, 0x5       	JBCLR	_IOP0bits,5
000218   a21a     goto    0x21a            	GOTO	_00268_DS_
                                           ;	.line	384; "MC32P7311.c"	cnt++;
000219   661e     incr    0x1e             	INCR	r0x1021
                                           _00268_DS_
                                           ;	.line	386; "MC32P7311.c"	delay_ms(1);
00021a   3c01     movai   0x1              	MOVAI	0x01
00021b   5604     movra   0x4              	MOVRA	STK02
00021c   3c00     movai   0                	MOVAI	0x00
00021d   5605     movra   0x5              	MOVRA	STK01
00021e   3c00     movai   0                	MOVAI	0x00
00021f   5606     movra   0x6              	MOVRA	STK00
000220   3c00     movai   0                	MOVAI	0x00
000221   837e     call    0x37e            	CALL	_delay_ms
                                           ;	.line	380; "MC32P7311.c"	for (i = 0; i < 20; i++)
000222   6632     incr    0x32             	INCR	_i
000223   a213     goto    0x213            	GOTO	_00294_DS_
                                           ;;unsigned compare: left < lit(0xF=15), size=1
                                           _00269_DS_
                                           ;	.line	389; "MC32P7311.c"	if (cnt >= 15)
000224   3c0f     movai   0xf              	MOVAI	0x0f
000225   481e     rsubar  0x1e             	RSUBAR	r0x1021
000226   e187     jbset   0x187, 0         	JBSET	PFLAG,0
000227   a22a     goto    0x22a            	GOTO	_00272_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	391; "MC32P7311.c"	key_press_flag = KEY_HEAT_PRESS;
000228   3c01     movai   0x1              	MOVAI	0x01
000229   5631     movra   0x31             	MOVRA	_key_press_flag
                                           _00272_DS_
                                           ;	.line	394; "MC32P7311.c"	while (0 == KEY_HEAT_PIN) // 等待按键松开
00022a   fb90     jbclr   0x190, 0x5       	JBCLR	_IOP0bits,5
00022b   a24c     goto    0x24c            	GOTO	_00299_DS_
                                           ;	.line	398; "MC32P7311.c"	__endasm;
                                           	;
00022c   000e     clrwdt                   	CLRWDT;
                                           	
00022d   a22a     goto    0x22a            	GOTO	_00272_DS_
                                           _00286_DS_
                                           ;	.line	401; "MC32P7311.c"	else if (0 == KEY_CHANGE_PIN)
00022e   f390     jbclr   0x190, 0x1       	JBCLR	_IOP0bits,1
00022f   a24c     goto    0x24c            	GOTO	_00299_DS_
                                           ;	.line	403; "MC32P7311.c"	for (i = 0; i < 20; i++)
000230   7632     clrr    0x32             	CLRR	_i
                                           ;;unsigned compare: left < lit(0x14=20), size=1
                                           _00297_DS_
000231   3c14     movai   0x14             	MOVAI	0x14
000232   4832     rsubar  0x32             	RSUBAR	_i
000233   f187     jbclr   0x187, 0         	JBCLR	PFLAG,0
000234   a242     goto    0x242            	GOTO	_00277_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	405; "MC32P7311.c"	if (0 == KEY_CHANGE_PIN)
000235   f390     jbclr   0x190, 0x1       	JBCLR	_IOP0bits,1
000236   a238     goto    0x238            	GOTO	_00276_DS_
                                           ;	.line	407; "MC32P7311.c"	cnt++;
000237   661d     incr    0x1d             	INCR	r0x1020
                                           _00276_DS_
                                           ;	.line	409; "MC32P7311.c"	delay_ms(1);
000238   3c01     movai   0x1              	MOVAI	0x01
000239   5604     movra   0x4              	MOVRA	STK02
00023a   3c00     movai   0                	MOVAI	0x00
00023b   5605     movra   0x5              	MOVRA	STK01
00023c   3c00     movai   0                	MOVAI	0x00
00023d   5606     movra   0x6              	MOVRA	STK00
00023e   3c00     movai   0                	MOVAI	0x00
00023f   837e     call    0x37e            	CALL	_delay_ms
                                           ;	.line	403; "MC32P7311.c"	for (i = 0; i < 20; i++)
000240   6632     incr    0x32             	INCR	_i
000241   a231     goto    0x231            	GOTO	_00297_DS_
                                           ;;unsigned compare: left < lit(0xF=15), size=1
                                           _00277_DS_
                                           ;	.line	412; "MC32P7311.c"	if (cnt >= 15)
000242   3c0f     movai   0xf              	MOVAI	0x0f
000243   481d     rsubar  0x1d             	RSUBAR	r0x1020
000244   e187     jbset   0x187, 0         	JBSET	PFLAG,0
000245   a248     goto    0x248            	GOTO	_00280_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	414; "MC32P7311.c"	key_press_flag = KEY_CHANGE_PRESS;
000246   3c02     movai   0x2              	MOVAI	0x02
000247   5631     movra   0x31             	MOVRA	_key_press_flag
                                           _00280_DS_
                                           ;	.line	417; "MC32P7311.c"	while (0 == KEY_CHANGE_PIN) // 等待按键松开
000248   f390     jbclr   0x190, 0x1       	JBCLR	_IOP0bits,1
000249   a24c     goto    0x24c            	GOTO	_00299_DS_
                                           ;	.line	421; "MC32P7311.c"	__endasm;
                                           	;
00024a   000e     clrwdt                   	CLRWDT;
                                           	
00024b   a248     goto    0x248            	GOTO	_00280_DS_
                                           _00299_DS_
                                           ;	.line	425; "MC32P7311.c"	}
00024c   000c     return                   	RETURN	
                                           ; exit point of _key_scan
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _Sys_Init	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;functions called:
                                           ;   _CLR_RAM
                                           ;   _IO_Init
                                           ;   _timer0_pwm_config
                                           ;   _timer1_pwm_config
                                           ;   _timer2_pwm_config
                                           ;   _key_config
                                           ;   _adc_config
                                           ;   _CLR_RAM
                                           ;   _IO_Init
                                           ;   _timer0_pwm_config
                                           ;   _timer1_pwm_config
                                           ;   _timer2_pwm_config
                                           ;   _key_config
                                           ;   _adc_config
                                           ;; Starting pCode block
                                           _Sys_Init	;Function start
                                           ; 2 exit points
                                           ;	.line	331; "MC32P7311.c"	GIE = 0;
00024d   df88     bclr    0x188, 0x7       	BCLR	_MCRbits,7
                                           ;	.line	332; "MC32P7311.c"	CLR_RAM();
00024e   8316     call    0x316            	CALL	_CLR_RAM
                                           ;	.line	333; "MC32P7311.c"	IO_Init();
00024f   8307     call    0x307            	CALL	_IO_Init
                                           ;	.line	335; "MC32P7311.c"	timer0_pwm_config();
000250   82ff     call    0x2ff            	CALL	_timer0_pwm_config
                                           ;	.line	336; "MC32P7311.c"	timer1_pwm_config();
000251   82f7     call    0x2f7            	CALL	_timer1_pwm_config
                                           ;	.line	337; "MC32P7311.c"	timer2_pwm_config();
000252   82f0     call    0x2f0            	CALL	_timer2_pwm_config
                                           ;	.line	339; "MC32P7311.c"	key_config();
000253   82e5     call    0x2e5            	CALL	_key_config
                                           ;	.line	340; "MC32P7311.c"	adc_config();
000254   82d5     call    0x2d5            	CALL	_adc_config
                                           ;	.line	342; "MC32P7311.c"	GIE = 1;
000255   cf88     bset    0x188, 0x7       	BSET	_MCRbits,7
                                           ;	.line	343; "MC32P7311.c"	}
000256   000c     return                   	RETURN	
                                           ; exit point of _Sys_Init
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _adc_get_val	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;14 compiler assigned registers:
                                           ;   r0x1012
                                           ;   r0x1013
                                           ;   r0x1014
                                           ;   r0x1015
                                           ;   r0x1016
                                           ;   r0x1017
                                           ;   r0x1018
                                           ;   r0x1019
                                           ;   r0x101A
                                           ;   r0x101B
                                           ;   r0x101C
                                           ;   r0x101D
                                           ;   r0x101E
                                           ;   STK00
                                           ;; Starting pCode block
                                           _adc_get_val	;Function start
                                           ; 2 exit points
                                           ;	.line	296; "MC32P7311.c"	u16 g_tmpbuff = 0;
000257   760a     clrr    0xa              	CLRR	r0x1012
000258   7609     clrr    0x9              	CLRR	r0x1013
                                           ;	.line	297; "MC32P7311.c"	u16 g_adcmax = 0;
000259   7608     clrr    0x8              	CLRR	r0x1014
00025a   7607     clrr    0x7              	CLRR	r0x1015
                                           ;	.line	298; "MC32P7311.c"	u16 g_adcmin = 0xFFFF;
00025b   3cff     movai   0xff             	MOVAI	0xff
00025c   560b     movra   0xb              	MOVRA	r0x1016
00025d   560c     movra   0xc              	MOVRA	r0x1017
                                           ;	.line	301; "MC32P7311.c"	for (cnt = 0; cnt < 20; cnt++)
00025e   760d     clrr    0xd              	CLRR	r0x1018
                                           _00207_DS_
                                           ;	.line	303; "MC32P7311.c"	ADEOC = 0; // 清除ADC转换完成标志位，启动AD转换
00025f   d3b0     bclr    0x1b0, 0x1       	BCLR	_ADCR0bits,1
                                           _00196_DS_
                                           ;	.line	304; "MC32P7311.c"	while (!ADEOC)
000260   e3b0     jbset   0x1b0, 0x1       	JBSET	_ADCR0bits,1
000261   a260     goto    0x260            	GOTO	_00196_DS_
                                           ;	.line	306; "MC32P7311.c"	g_temp_value = ADRH; // 取出转换后的值
000262   59b4     movar   0x1b4            	MOVAR	_ADRH
000263   560e     movra   0xe              	MOVRA	r0x1019
000264   760f     clrr    0xf              	CLRR	r0x101A
                                           ;	.line	307; "MC32P7311.c"	g_temp_value = g_temp_value << 4 | (ADRL & 0x0F);
000265   440f     swapar  0xf              	SWAPAR	r0x101A
000266   3ef0     andai   0xf0             	ANDAI	0xf0
000267   5610     movra   0x10             	MOVRA	r0x101B
000268   440e     swapar  0xe              	SWAPAR	r0x1019
000269   5611     movra   0x11             	MOVRA	r0x101C
00026a   3e0f     andai   0xf              	ANDAI	0x0f
00026b   5e10     orra    0x10             	ORRA	r0x101B
00026c   4211     xorra   0x11             	XORRA	r0x101C
00026d   59b5     movar   0x1b5            	MOVAR	_ADRL
00026e   560e     movra   0xe              	MOVRA	r0x1019
00026f   760f     clrr    0xf              	CLRR	r0x101A
000270   3c0f     movai   0xf              	MOVAI	0x0f
000271   7a0e     andra   0xe              	ANDRA	r0x1019
000272   760f     clrr    0xf              	CLRR	r0x101A
                                           ;;101	MOVAR	r0x1019
                                           ;;99	MOVRA	r0x101D
                                           ;;104	MOVAR	r0x101A
                                           ;;102	MOVRA	r0x101E
                                           ;;100	MOVAR	r0x101D
000273   580e     movar   0xe              	MOVAR	r0x1019
000274   5c11     orar    0x11             	ORAR	r0x101C
000275   560e     movra   0xe              	MOVRA	r0x1019
                                           ;;103	MOVAR	r0x101E
000276   3c00     movai   0                	MOVAI	0x00
000277   5c10     orar    0x10             	ORAR	r0x101B
000278   560f     movra   0xf              	MOVRA	r0x101A
                                           ;;unsigned compare: left < lit(0x2=2), size=1
                                           ;	.line	308; "MC32P7311.c"	if (cnt < 2)
000279   3c02     movai   0x2              	MOVAI	0x02
00027a   480d     rsubar  0xd              	RSUBAR	r0x1018
00027b   e187     jbset   0x187, 0         	JBSET	PFLAG,0
00027c   a29b     goto    0x29b            	GOTO	_00205_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	310; "MC32P7311.c"	if (g_temp_value > g_adcmax)
00027d   580f     movar   0xf              	MOVAR	r0x101A
00027e   4807     rsubar  0x7              	RSUBAR	r0x1015
00027f   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
000280   a283     goto    0x283            	GOTO	_00247_DS_
000281   580e     movar   0xe              	MOVAR	r0x1019
000282   4808     rsubar  0x8              	RSUBAR	r0x1014
                                           _00247_DS_
000283   f187     jbclr   0x187, 0         	JBCLR	PFLAG,0
000284   a289     goto    0x289            	GOTO	_00202_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	311; "MC32P7311.c"	g_adcmax = g_temp_value; // 最大
000285   580e     movar   0xe              	MOVAR	r0x1019
000286   5608     movra   0x8              	MOVRA	r0x1014
000287   580f     movar   0xf              	MOVAR	r0x101A
000288   5607     movra   0x7              	MOVRA	r0x1015
                                           _00202_DS_
                                           ;	.line	312; "MC32P7311.c"	if (g_temp_value < g_adcmin)
000289   580c     movar   0xc              	MOVAR	r0x1017
00028a   480f     rsubar  0xf              	RSUBAR	r0x101A
00028b   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
00028c   a28f     goto    0x28f            	GOTO	_00248_DS_
00028d   580b     movar   0xb              	MOVAR	r0x1016
00028e   480e     rsubar  0xe              	RSUBAR	r0x1019
                                           _00248_DS_
00028f   f187     jbclr   0x187, 0         	JBCLR	PFLAG,0
000290   a295     goto    0x295            	GOTO	_00204_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	313; "MC32P7311.c"	g_adcmin = g_temp_value; // 最小
000291   580e     movar   0xe              	MOVAR	r0x1019
000292   560b     movra   0xb              	MOVRA	r0x1016
000293   580f     movar   0xf              	MOVAR	r0x101A
000294   560c     movra   0xc              	MOVRA	r0x1017
                                           _00204_DS_
                                           ;	.line	314; "MC32P7311.c"	g_tmpbuff += g_temp_value;
000295   580e     movar   0xe              	MOVAR	r0x1019
000296   7e0a     addra   0xa              	ADDRA	r0x1012
000297   580f     movar   0xf              	MOVAR	r0x101A
000298   f187     jbclr   0x187, 0         	JBCLR	PFLAG,0
000299   600f     jzar    0xf              	JZAR	r0x101A
00029a   7e09     addra   0x9              	ADDRA	r0x1013
                                           _00205_DS_
                                           ;	.line	301; "MC32P7311.c"	for (cnt = 0; cnt < 20; cnt++)
00029b   660d     incr    0xd              	INCR	r0x1018
                                           ;;unsigned compare: left < lit(0x14=20), size=1
00029c   3c14     movai   0x14             	MOVAI	0x14
00029d   480d     rsubar  0xd              	RSUBAR	r0x1018
00029e   e187     jbset   0x187, 0         	JBSET	PFLAG,0
00029f   a25f     goto    0x25f            	GOTO	_00207_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	316; "MC32P7311.c"	g_tmpbuff -= g_adcmax;			 // 去掉一个最大
0002a0   5808     movar   0x8              	MOVAR	r0x1014
0002a1   480a     rsubar  0xa              	RSUBAR	r0x1012
0002a2   5608     movra   0x8              	MOVRA	r0x1014
0002a3   5807     movar   0x7              	MOVAR	r0x1015
0002a4   e187     jbset   0x187, 0         	JBSET	PFLAG,0
0002a5   6407     incar   0x7              	INCAR	r0x1015
0002a6   4809     rsubar  0x9              	RSUBAR	r0x1013
0002a7   5607     movra   0x7              	MOVRA	r0x1015
                                           ;	.line	317; "MC32P7311.c"	g_tmpbuff -= g_adcmin;			 // 去掉一个最小
0002a8   580b     movar   0xb              	MOVAR	r0x1016
0002a9   4a08     rsubra  0x8              	RSUBRA	r0x1014
0002aa   580c     movar   0xc              	MOVAR	r0x1017
0002ab   e187     jbset   0x187, 0         	JBSET	PFLAG,0
0002ac   600c     jzar    0xc              	JZAR	r0x1017
0002ad   4a07     rsubra  0x7              	RSUBRA	r0x1015
                                           ;	.line	318; "MC32P7311.c"	g_temp_value = (g_tmpbuff >> 4); // 除以16，取平均值
0002ae   4408     swapar  0x8              	SWAPAR	r0x1014
0002af   3e0f     andai   0xf              	ANDAI	0x0f
0002b0   560a     movra   0xa              	MOVRA	r0x1012
0002b1   4407     swapar  0x7              	SWAPAR	r0x1015
0002b2   5609     movra   0x9              	MOVRA	r0x1013
0002b3   3ef0     andai   0xf0             	ANDAI	0xf0
0002b4   5e0a     orra    0xa              	ORRA	r0x1012
0002b5   4209     xorra   0x9              	XORRA	r0x1013
                                           ;	.line	320; "MC32P7311.c"	return g_temp_value;
0002b6   580a     movar   0xa              	MOVAR	r0x1012
0002b7   5606     movra   0x6              	MOVRA	STK00
0002b8   5809     movar   0x9              	MOVAR	r0x1013
                                           ;	.line	321; "MC32P7311.c"	}
0002b9   000c     return                   	RETURN	
                                           ; exit point of _adc_get_val
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _adc_sel_pin	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;functions called:
                                           ;   _delay_ms
                                           ;   _delay_ms
                                           ;4 compiler assigned registers:
                                           ;   r0x101E
                                           ;   STK02
                                           ;   STK01
                                           ;   STK00
                                           ;; Starting pCode block
                                           _adc_sel_pin	;Function start
                                           ; 2 exit points
                                           ;	.line	269; "MC32P7311.c"	void adc_sel_pin(u8 adc_pin)
0002ba   561c     movra   0x1c             	MOVRA	r0x101E
                                           ;	.line	272; "MC32P7311.c"	switch (adc_pin)
0002bb   581c     movar   0x1c             	MOVAR	r0x101E
0002bc   3901     xorai   0x1              	XORAI	0x01
0002bd   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
0002be   a2c0     goto    0x2c0            	GOTO	_00190_DS_
0002bf   a2c6     goto    0x2c6            	GOTO	_00176_DS_
                                           _00190_DS_
0002c0   581c     movar   0x1c             	MOVAR	r0x101E
0002c1   3902     xorai   0x2              	XORAI	0x02
0002c2   e587     jbset   0x187, 0x2       	JBSET	PFLAG,2
0002c3   a2c5     goto    0x2c5            	GOTO	_00191_DS_
0002c4   a2c9     goto    0x2c9            	GOTO	_00177_DS_
                                           _00191_DS_
0002c5   a2cc     goto    0x2cc            	GOTO	_00179_DS_
                                           _00176_DS_
                                           ;	.line	275; "MC32P7311.c"	ADCR0 &= ~(0x0F << 4); // 清空寄存器的通道选择位
0002c6   3c0f     movai   0xf              	MOVAI	0x0f
0002c7   7bb0     andra   0x1b0            	ANDRA	_ADCR0
                                           ;	.line	277; "MC32P7311.c"	break;
0002c8   a2cc     goto    0x2cc            	GOTO	_00179_DS_
                                           _00177_DS_
                                           ;	.line	280; "MC32P7311.c"	ADCR0 &= ~(0x0F << 4); // 清空寄存器的通道选择位
0002c9   3c0f     movai   0xf              	MOVAI	0x0f
0002ca   7bb0     andra   0x1b0            	ANDRA	_ADCR0
                                           ;	.line	281; "MC32P7311.c"	ADCR0 |= 0x01 << 4;	   // AIN1--P02;
0002cb   c9b0     bset    0x1b0, 0x4       	BSET	_ADCR0,4
                                           _00179_DS_
                                           ;	.line	288; "MC32P7311.c"	delay_ms(1); // 切换adc检测的引脚后，要延时一段时间，防止意料之外的检测结果
0002cc   3c01     movai   0x1              	MOVAI	0x01
0002cd   5604     movra   0x4              	MOVRA	STK02
0002ce   3c00     movai   0                	MOVAI	0x00
0002cf   5605     movra   0x5              	MOVRA	STK01
0002d0   3c00     movai   0                	MOVAI	0x00
0002d1   5606     movra   0x6              	MOVRA	STK00
0002d2   3c00     movai   0                	MOVAI	0x00
0002d3   837e     call    0x37e            	CALL	_delay_ms
                                           ;	.line	289; "MC32P7311.c"	}
0002d4   000c     return                   	RETURN	
                                           ; exit point of _adc_sel_pin
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _adc_config	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           _adc_config	;Function start
                                           ; 2 exit points
                                           ;	.line	247; "MC32P7311.c"	P00PU = 0; // 关闭上下拉
0002d5   d192     bclr    0x192, 0         	BCLR	_PUP0bits,0
                                           ;	.line	248; "MC32P7311.c"	P00PD = 0;
0002d6   d193     bclr    0x193, 0         	BCLR	_PDP0bits,0
                                           ;	.line	249; "MC32P7311.c"	P00OE = 0;	// 输入模式
0002d7   d191     bclr    0x191, 0         	BCLR	_OEP0bits,0
                                           ;	.line	250; "MC32P7311.c"	P00ANS = 1; // 模拟输入
0002d8   c1b6     bset    0x1b6, 0         	BSET	_ANSEL0bits,0
                                           ;	.line	253; "MC32P7311.c"	P02PU = 0; // 关闭上下拉
0002d9   d592     bclr    0x192, 0x2       	BCLR	_PUP0bits,2
                                           ;	.line	254; "MC32P7311.c"	P02PD = 0;
0002da   d593     bclr    0x193, 0x2       	BCLR	_PDP0bits,2
                                           ;	.line	255; "MC32P7311.c"	P02OE = 0;	// 输入模式
0002db   d591     bclr    0x191, 0x2       	BCLR	_OEP0bits,2
                                           ;	.line	256; "MC32P7311.c"	P02ANS = 1; // 模拟输入
0002dc   c3b6     bset    0x1b6, 0x1       	BSET	_ANSEL0bits,1
                                           ;	.line	258; "MC32P7311.c"	ADCR0 = 0x0A; // 12位精度、不启用ADC转换，不使能ADC
0002dd   3c0a     movai   0xa              	MOVAI	0x0a
0002de   57b0     movra   0x1b0            	MOVRA	_ADCR0
                                           ;	.line	263; "MC32P7311.c"	ADCR1 = 0xE1; // 125K采样（最高精度）  内部3V参考电压
0002df   3ce1     movai   0xe1             	MOVAI	0xe1
0002e0   57b1     movra   0x1b1            	MOVRA	_ADCR1
                                           ;	.line	264; "MC32P7311.c"	ADCR2 = 0xFF; // ADC采样时间为15个ADC时钟
0002e1   3cff     movai   0xff             	MOVAI	0xff
0002e2   57b2     movra   0x1b2            	MOVRA	_ADCR2
                                           ;	.line	265; "MC32P7311.c"	ADON = 1;	  // 使能ADC
0002e3   c1b0     bset    0x1b0, 0         	BSET	_ADCR0bits,0
                                           ;	.line	266; "MC32P7311.c"	}
0002e4   000c     return                   	RETURN	
                                           ; exit point of _adc_config
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _key_config	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           _key_config	;Function start
                                           ; 2 exit points
                                           ;	.line	221; "MC32P7311.c"	P05PU = 1;
0002e5   cb92     bset    0x192, 0x5       	BSET	_PUP0bits,5
                                           ;	.line	222; "MC32P7311.c"	P05OE = 0;
0002e6   db91     bclr    0x191, 0x5       	BCLR	_OEP0bits,5
                                           ;	.line	231; "MC32P7311.c"	MINT00 = 1; // MINT00、MINT01，组合配置INT0为下降沿中断
0002e7   c188     bset    0x188, 0         	BSET	_MCRbits,0
                                           ;	.line	232; "MC32P7311.c"	MINT01 = 0;
0002e8   d388     bclr    0x188, 0x1       	BCLR	_MCRbits,1
                                           ;	.line	233; "MC32P7311.c"	P11PU = 1;
0002e9   c396     bset    0x196, 0x1       	BSET	_PUP1bits,1
                                           ;	.line	234; "MC32P7311.c"	P11OE = 0;
0002ea   d395     bclr    0x195, 0x1       	BCLR	_OEP1bits,1
                                           ;	.line	235; "MC32P7311.c"	INT0IF = 0; // 清除中断标志
0002eb   d58b     bclr    0x18b, 0x2       	BCLR	_INTFbits,2
                                           ;	.line	236; "MC32P7311.c"	INT0IE = 1; // 外部中断使能
0002ec   c58a     bset    0x18a, 0x2       	BSET	_INTEbits,2
                                           ;	.line	239; "MC32P7311.c"	P01PU = 1;
0002ed   c392     bset    0x192, 0x1       	BSET	_PUP0bits,1
                                           ;	.line	240; "MC32P7311.c"	P01OE = 0;
0002ee   d391     bclr    0x191, 0x1       	BCLR	_OEP0bits,1
                                           ;	.line	241; "MC32P7311.c"	}
0002ef   000c     return                   	RETURN	
                                           ; exit point of _key_config
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _timer2_pwm_config	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           _timer2_pwm_config	;Function start
                                           ; 2 exit points
                                           ;	.line	206; "MC32P7311.c"	T2LOAD = 52 - 1;
0002f0   3c33     movai   0x33             	MOVAI	0x33
0002f1   57a2     movra   0x1a2            	MOVRA	_T2LOAD
                                           ;	.line	209; "MC32P7311.c"	T2DATA = 24; // 占空比 == TxDATA / TxLOAD   实际测得是46.15%占空比
0002f2   3c18     movai   0x18             	MOVAI	0x18
0002f3   57a3     movra   0x1a3            	MOVRA	_T2DATA
                                           ;	.line	210; "MC32P7311.c"	PWM2OE = 0;	 // 禁止PWM输出
0002f4   dda0     bclr    0x1a0, 0x6       	BCLR	_T2CRbits,6
                                           ;	.line	212; "MC32P7311.c"	TC2EN = 1;
0002f5   cfa0     bset    0x1a0, 0x7       	BSET	_T2CRbits,7
                                           ;	.line	213; "MC32P7311.c"	}
0002f6   000c     return                   	RETURN	
                                           ; exit point of _timer2_pwm_config
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _timer1_pwm_config	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           _timer1_pwm_config	;Function start
                                           ; 2 exit points
                                           ;	.line	147; "MC32P7311.c"	T1CR |= 0x02; // 4分频
0002f7   c39c     bset    0x19c, 0x1       	BSET	_T1CR,1
                                           ;	.line	148; "MC32P7311.c"	T1LOAD = 128 - 1;
0002f8   3c7f     movai   0x7f             	MOVAI	0x7f
0002f9   579e     movra   0x19e            	MOVRA	_T1LOAD
                                           ;	.line	149; "MC32P7311.c"	T1DATA = 25; // 占空比 == T1DATA / T1LOAD
0002fa   3c19     movai   0x19             	MOVAI	0x19
0002fb   579f     movra   0x19f            	MOVRA	_T1DATA
                                           ;	.line	150; "MC32P7311.c"	PWM1OE = 0;	 // 禁止PWM1输出
0002fc   dd9c     bclr    0x19c, 0x6       	BCLR	_T1CRbits,6
                                           ;	.line	151; "MC32P7311.c"	TC1EN = 1;	 // 启动定时器
0002fd   cf9c     bset    0x19c, 0x7       	BSET	_T1CRbits,7
                                           ;	.line	169; "MC32P7311.c"	}
0002fe   000c     return                   	RETURN	
                                           ; exit point of _timer1_pwm_config
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _timer0_pwm_config	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           _timer0_pwm_config	;Function start
                                           ; 2 exit points
                                           ;	.line	117; "MC32P7311.c"	T0CR |= 0x02; // 4分频
0002ff   c398     bset    0x198, 0x1       	BSET	_T0CR,1
                                           ;	.line	118; "MC32P7311.c"	T0LOAD = 128 - 1;
000300   3c7f     movai   0x7f             	MOVAI	0x7f
000301   579a     movra   0x19a            	MOVRA	_T0LOAD
                                           ;	.line	119; "MC32P7311.c"	T0DATA = 25; // 占空比 == T0DATA / T0LOAD
000302   3c19     movai   0x19             	MOVAI	0x19
000303   579b     movra   0x19b            	MOVRA	_T0DATA
                                           ;	.line	120; "MC32P7311.c"	PWM0OE = 0;	 // 禁止PWM输出
000304   dd98     bclr    0x198, 0x6       	BCLR	_T0CRbits,6
                                           ;	.line	122; "MC32P7311.c"	TC0EN = 1; // 启动定时器
000305   cf98     bset    0x198, 0x7       	BSET	_T0CRbits,7
                                           ;	.line	140; "MC32P7311.c"	}
000306   000c     return                   	RETURN	
                                           ; exit point of _timer0_pwm_config
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _IO_Init	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           _IO_Init	;Function start
                                           ; 2 exit points
                                           ;	.line	97; "MC32P7311.c"	IOP0 = 0x00;   // io口数据位
000307   7790     clrr    0x190            	CLRR	_IOP0
                                           ;	.line	98; "MC32P7311.c"	OEP0 = 0xFF;   // io口方向 1:out  0:in   P00、1输出为开漏
000308   3cff     movai   0xff             	MOVAI	0xff
000309   5791     movra   0x191            	MOVRA	_OEP0
                                           ;	.line	99; "MC32P7311.c"	PUP0 = 0x00;   // io口上拉电阻   1:enable  0:disable
00030a   7792     clrr    0x192            	CLRR	_PUP0
                                           ;	.line	100; "MC32P7311.c"	PDP0 = 0x00;   // io口下拉电阻   1:enable  0:disable
00030b   7793     clrr    0x193            	CLRR	_PDP0
                                           ;	.line	101; "MC32P7311.c"	ANSEL0 = 0x00; // io类型选择  1:模拟输入  0:通用io
00030c   77b6     clrr    0x1b6            	CLRR	_ANSEL0
                                           ;	.line	103; "MC32P7311.c"	IOP1 = 0x00;   // io口数据位
00030d   7794     clrr    0x194            	CLRR	_IOP1
                                           ;	.line	104; "MC32P7311.c"	OEP1 = 0xFF;   // io口方向 1:out  0:in   P13输出为开漏
00030e   3cff     movai   0xff             	MOVAI	0xff
00030f   5795     movra   0x195            	MOVRA	_OEP1
                                           ;	.line	105; "MC32P7311.c"	PUP1 = 0x00;   // io口上拉电阻   1:enable  0:disable
000310   7796     clrr    0x196            	CLRR	_PUP1
                                           ;	.line	106; "MC32P7311.c"	PDP1 = 0x00;   // io口下拉电阻   1:enable  0:disable
000311   7797     clrr    0x197            	CLRR	_PDP1
                                           ;	.line	107; "MC32P7311.c"	ANSEL1 = 0x00; // io类型选择  1:模拟输入  0:通用io
000312   77b7     clrr    0x1b7            	CLRR	_ANSEL1
                                           ;	.line	109; "MC32P7311.c"	DRVCR = 0x80;
000313   3c80     movai   0x80             	MOVAI	0x80
000314   578c     movra   0x18c            	MOVRA	_DRVCR
                                           ;	.line	110; "MC32P7311.c"	}
000315   000c     return                   	RETURN	
                                           ; exit point of _IO_Init
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _CLR_RAM	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           _CLR_RAM	;Function start
                                           ; 2 exit points
                                           ;	.line	82; "MC32P7311.c"	for (FSR0 = 0; FSR0 < 0xff; FSR0++)
000316   7784     clrr    0x184            	CLRR	_FSR0
                                           ;;unsigned compare: left < lit(0xFF=255), size=1
                                           _00147_DS_
000317   3cff     movai   0xff             	MOVAI	0xff
000318   4984     rsubar  0x184            	RSUBAR	_FSR0
000319   f187     jbclr   0x187, 0         	JBCLR	PFLAG,0
00031a   a31e     goto    0x31e            	GOTO	_00145_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	84; "MC32P7311.c"	INDF0 = 0x00;
00031b   7780     clrr    0x180            	CLRR	_INDF0
                                           ;	.line	82; "MC32P7311.c"	for (FSR0 = 0; FSR0 < 0xff; FSR0++)
00031c   6784     incr    0x184            	INCR	_FSR0
00031d   a317     goto    0x317            	GOTO	_00147_DS_
                                           _00145_DS_
                                           ;	.line	86; "MC32P7311.c"	FSR0 = 0xFF;
00031e   3cff     movai   0xff             	MOVAI	0xff
00031f   5784     movra   0x184            	MOVRA	_FSR0
                                           ;	.line	87; "MC32P7311.c"	INDF0 = 0x00;
000320   7780     clrr    0x180            	CLRR	_INDF0
                                           ;	.line	88; "MC32P7311.c"	}
000321   000c     return                   	RETURN	
                                           ; exit point of _CLR_RAM
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _send_32bits_data_by_irsir	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;functions called:
                                           ;   _delay_ms
                                           ;   _delay_ms
                                           ;   _delay_ms
                                           ;   _delay_ms
                                           ;   _delay_ms
                                           ;   _delay_ms
                                           ;   _delay_ms
                                           ;   _delay_ms
                                           ;   _delay_ms
                                           ;   _delay_ms
                                           ;   _delay_ms
                                           ;   _delay_ms
                                           ;12 compiler assigned registers:
                                           ;   r0x1022
                                           ;   STK00
                                           ;   r0x1023
                                           ;   STK01
                                           ;   r0x1024
                                           ;   STK02
                                           ;   r0x1025
                                           ;   r0x1026
                                           ;   r0x1027
                                           ;   r0x1028
                                           ;   r0x1029
                                           ;   r0x102A
                                           ;; Starting pCode block
                                           _send_32bits_data_by_irsir	;Function start
                                           ; 2 exit points
                                           ;	.line	34; "MC32P7311.c"	void send_32bits_data_by_irsir(u32 send_data)
000322   5616     movra   0x16             	MOVRA	r0x1022
000323   5806     movar   0x6              	MOVAR	STK00
000324   5615     movra   0x15             	MOVRA	r0x1023
000325   5805     movar   0x5              	MOVAR	STK01
000326   5614     movra   0x14             	MOVRA	r0x1024
000327   5804     movar   0x4              	MOVAR	STK02
000328   5613     movra   0x13             	MOVRA	r0x1025
                                           ;	.line	38; "MC32P7311.c"	P10D = 1;
000329   c194     bset    0x194, 0         	BSET	_IOP1bits,0
                                           ;	.line	39; "MC32P7311.c"	delay_ms(15);
00032a   3c0f     movai   0xf              	MOVAI	0x0f
00032b   5604     movra   0x4              	MOVRA	STK02
00032c   3c00     movai   0                	MOVAI	0x00
00032d   5605     movra   0x5              	MOVRA	STK01
00032e   3c00     movai   0                	MOVAI	0x00
00032f   5606     movra   0x6              	MOVRA	STK00
000330   3c00     movai   0                	MOVAI	0x00
000331   837e     call    0x37e            	CALL	_delay_ms
                                           ;	.line	41; "MC32P7311.c"	P10D = 0;
000332   d194     bclr    0x194, 0         	BCLR	_IOP1bits,0
                                           ;	.line	42; "MC32P7311.c"	delay_ms(7); // 延时4.5ms
000333   3c07     movai   0x7              	MOVAI	0x07
000334   5604     movra   0x4              	MOVRA	STK02
000335   3c00     movai   0                	MOVAI	0x00
000336   5605     movra   0x5              	MOVRA	STK01
000337   3c00     movai   0                	MOVAI	0x00
000338   5606     movra   0x6              	MOVRA	STK00
000339   3c00     movai   0                	MOVAI	0x00
00033a   837e     call    0x37e            	CALL	_delay_ms
                                           ;	.line	44; "MC32P7311.c"	for (u8 i = 0; i < 32; i++)
00033b   7617     clrr    0x17             	CLRR	r0x1026
                                           ;;unsigned compare: left < lit(0x20=32), size=1
                                           _00121_DS_
00033c   3c20     movai   0x20             	MOVAI	0x20
00033d   4817     rsubar  0x17             	RSUBAR	r0x1026
00033e   f187     jbclr   0x187, 0         	JBCLR	PFLAG,0
00033f   a37c     goto    0x37c            	GOTO	_00119_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	46; "MC32P7311.c"	if ((send_data >> i) & 0x01)
000340   5816     movar   0x16             	MOVAR	r0x1022
000341   561b     movra   0x1b             	MOVRA	r0x1027
000342   5815     movar   0x15             	MOVAR	r0x1023
000343   561a     movra   0x1a             	MOVRA	r0x1028
000344   5814     movar   0x14             	MOVAR	r0x1024
000345   5619     movra   0x19             	MOVRA	r0x1029
000346   5813     movar   0x13             	MOVAR	r0x1025
000347   5618     movra   0x18             	MOVRA	r0x102A
000348   5817     movar   0x17             	MOVAR	r0x1026
000349   3a00     isubai  0                	ISUBAI	0x00
00034a   f587     jbclr   0x187, 0x2       	JBCLR	PFLAG,2
00034b   a353     goto    0x353            	GOTO	_00140_DS_
                                           _00139_DS_
00034c   4e1b     rrr     0x1b             	RRR	r0x1027
00034d   4e1a     rrr     0x1a             	RRR	r0x1028
00034e   4e19     rrr     0x19             	RRR	r0x1029
00034f   4e18     rrr     0x18             	RRR	r0x102A
000350   3f01     addai   0x1              	ADDAI	0x01
000351   e187     jbset   0x187, 0         	JBSET	PFLAG,0
000352   a34c     goto    0x34c            	GOTO	_00139_DS_
                                           _00140_DS_
000353   e018     jbset   0x18, 0          	JBSET	r0x102A,0
000354   a368     goto    0x368            	GOTO	_00117_DS_
                                           ;	.line	50; "MC32P7311.c"	P10D = 1;
000355   c194     bset    0x194, 0         	BSET	_IOP1bits,0
                                           ;	.line	51; "MC32P7311.c"	delay_ms(6); //
000356   3c06     movai   0x6              	MOVAI	0x06
000357   5604     movra   0x4              	MOVRA	STK02
000358   3c00     movai   0                	MOVAI	0x00
000359   5605     movra   0x5              	MOVRA	STK01
00035a   3c00     movai   0                	MOVAI	0x00
00035b   5606     movra   0x6              	MOVRA	STK00
00035c   3c00     movai   0                	MOVAI	0x00
00035d   837e     call    0x37e            	CALL	_delay_ms
                                           ;	.line	53; "MC32P7311.c"	P10D = 0;
00035e   d194     bclr    0x194, 0         	BCLR	_IOP1bits,0
                                           ;	.line	54; "MC32P7311.c"	delay_ms(17); //
00035f   3c11     movai   0x11             	MOVAI	0x11
000360   5604     movra   0x4              	MOVRA	STK02
000361   3c00     movai   0                	MOVAI	0x00
000362   5605     movra   0x5              	MOVRA	STK01
000363   3c00     movai   0                	MOVAI	0x00
000364   5606     movra   0x6              	MOVRA	STK00
000365   3c00     movai   0                	MOVAI	0x00
000366   837e     call    0x37e            	CALL	_delay_ms
000367   a37a     goto    0x37a            	GOTO	_00122_DS_
                                           _00117_DS_
                                           ;	.line	60; "MC32P7311.c"	P10D = 1;
000368   c194     bset    0x194, 0         	BSET	_IOP1bits,0
                                           ;	.line	61; "MC32P7311.c"	delay_ms(6); //
000369   3c06     movai   0x6              	MOVAI	0x06
00036a   5604     movra   0x4              	MOVRA	STK02
00036b   3c00     movai   0                	MOVAI	0x00
00036c   5605     movra   0x5              	MOVRA	STK01
00036d   3c00     movai   0                	MOVAI	0x00
00036e   5606     movra   0x6              	MOVRA	STK00
00036f   3c00     movai   0                	MOVAI	0x00
000370   837e     call    0x37e            	CALL	_delay_ms
                                           ;	.line	63; "MC32P7311.c"	P10D = 0;
000371   d194     bclr    0x194, 0         	BCLR	_IOP1bits,0
                                           ;	.line	64; "MC32P7311.c"	delay_ms(6); //
000372   3c06     movai   0x6              	MOVAI	0x06
000373   5604     movra   0x4              	MOVRA	STK02
000374   3c00     movai   0                	MOVAI	0x00
000375   5605     movra   0x5              	MOVRA	STK01
000376   3c00     movai   0                	MOVAI	0x00
000377   5606     movra   0x6              	MOVRA	STK00
000378   3c00     movai   0                	MOVAI	0x00
000379   837e     call    0x37e            	CALL	_delay_ms
                                           _00122_DS_
                                           ;	.line	44; "MC32P7311.c"	for (u8 i = 0; i < 32; i++)
00037a   6617     incr    0x17             	INCR	r0x1026
00037b   a33c     goto    0x33c            	GOTO	_00121_DS_
                                           _00119_DS_
                                           ;	.line	70; "MC32P7311.c"	P10D = 0;
00037c   d194     bclr    0x194, 0         	BCLR	_IOP1bits,0
                                           ;	.line	71; "MC32P7311.c"	}
00037d   000c     return                   	RETURN	
                                           ; exit point of _send_32bits_data_by_irsir
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _delay_ms	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;15 compiler assigned registers:
                                           ;   r0x1012
                                           ;   STK00
                                           ;   r0x1013
                                           ;   STK01
                                           ;   r0x1014
                                           ;   STK02
                                           ;   r0x1015
                                           ;   r0x1016
                                           ;   r0x1017
                                           ;   r0x1018
                                           ;   r0x1019
                                           ;   r0x101A
                                           ;   r0x101B
                                           ;   r0x101C
                                           ;   r0x101D
                                           ;; Starting pCode block
                                           _delay_ms	;Function start
                                           ; 2 exit points
                                           ;	.line	15; "MC32P7311.c"	void delay_ms(u32 xms)
00037e   560a     movra   0xa              	MOVRA	r0x1012
00037f   5806     movar   0x6              	MOVAR	STK00
000380   5609     movra   0x9              	MOVRA	r0x1013
000381   5805     movar   0x5              	MOVAR	STK01
000382   5608     movra   0x8              	MOVRA	r0x1014
000383   5804     movar   0x4              	MOVAR	STK02
000384   5607     movra   0x7              	MOVRA	r0x1015
                                           _00108_DS_
                                           ;	.line	17; "MC32P7311.c"	while (xms)
000385   5807     movar   0x7              	MOVAR	r0x1015
000386   5c08     orar    0x8              	ORAR	r0x1014
000387   5c09     orar    0x9              	ORAR	r0x1013
000388   5c0a     orar    0xa              	ORAR	r0x1012
000389   f587     jbclr   0x187, 0x2       	JBCLR	PFLAG,2
00038a   a3b9     goto    0x3b9            	GOTO	_00111_DS_
                                           ;	.line	20; "MC32P7311.c"	while (i--)
00038b   3c1f     movai   0x1f             	MOVAI	0x1f
00038c   560b     movra   0xb              	MOVRA	r0x1016
00038d   3c01     movai   0x1              	MOVAI	0x01
00038e   560c     movra   0xc              	MOVRA	r0x1017
00038f   760d     clrr    0xd              	CLRR	r0x1018
000390   760e     clrr    0xe              	CLRR	r0x1019
                                           _00105_DS_
000391   580b     movar   0xb              	MOVAR	r0x1016
000392   560f     movra   0xf              	MOVRA	r0x101A
000393   580c     movar   0xc              	MOVAR	r0x1017
000394   5610     movra   0x10             	MOVRA	r0x101B
000395   580d     movar   0xd              	MOVAR	r0x1018
000396   5611     movra   0x11             	MOVRA	r0x101C
000397   580e     movar   0xe              	MOVAR	r0x1019
000398   5612     movra   0x12             	MOVRA	r0x101D
000399   3cff     movai   0xff             	MOVAI	0xff
00039a   7e0b     addra   0xb              	ADDRA	r0x1016
00039b   3cff     movai   0xff             	MOVAI	0xff
00039c   e187     jbset   0x187, 0         	JBSET	PFLAG,0
00039d   7e0c     addra   0xc              	ADDRA	r0x1017
00039e   3cff     movai   0xff             	MOVAI	0xff
00039f   e187     jbset   0x187, 0         	JBSET	PFLAG,0
0003a0   7e0d     addra   0xd              	ADDRA	r0x1018
0003a1   3cff     movai   0xff             	MOVAI	0xff
0003a2   e187     jbset   0x187, 0         	JBSET	PFLAG,0
0003a3   7e0e     addra   0xe              	ADDRA	r0x1019
0003a4   580f     movar   0xf              	MOVAR	r0x101A
0003a5   5c10     orar    0x10             	ORAR	r0x101B
0003a6   5c11     orar    0x11             	ORAR	r0x101C
0003a7   5c12     orar    0x12             	ORAR	r0x101D
0003a8   f587     jbclr   0x187, 0x2       	JBCLR	PFLAG,2
0003a9   a3ac     goto    0x3ac            	GOTO	_00107_DS_
                                           ;	.line	22; "MC32P7311.c"	Nop();
0003aa   0000     nop                      	nop	
0003ab   a391     goto    0x391            	GOTO	_00105_DS_
                                           _00107_DS_
                                           ;	.line	27; "MC32P7311.c"	__endasm;
                                           	;
0003ac   000e     clrwdt                   	CLRWDT;
                                           	
                                           ;	.line	28; "MC32P7311.c"	xms--;
0003ad   3cff     movai   0xff             	MOVAI	0xff
0003ae   7e07     addra   0x7              	ADDRA	r0x1015
0003af   3cff     movai   0xff             	MOVAI	0xff
0003b0   e187     jbset   0x187, 0         	JBSET	PFLAG,0
0003b1   7e08     addra   0x8              	ADDRA	r0x1014
0003b2   3cff     movai   0xff             	MOVAI	0xff
0003b3   e187     jbset   0x187, 0         	JBSET	PFLAG,0
0003b4   7e09     addra   0x9              	ADDRA	r0x1013
0003b5   3cff     movai   0xff             	MOVAI	0xff
0003b6   e187     jbset   0x187, 0         	JBSET	PFLAG,0
0003b7   7e0a     addra   0xa              	ADDRA	r0x1012
0003b8   a385     goto    0x385            	GOTO	_00108_DS_
                                           _00111_DS_
                                           ;	.line	30; "MC32P7311.c"	}
0003b9   000c     return                   	RETURN	
                                           ; exit point of _delay_ms
                                           
                                           
                                           ;	code size estimation:
                                           ;	  928+    0 =   928 instructions ( 1856 byte)
                                           
                                           	end
                                           ;--------------------------------------------------------
                                           ; File Created by SN-SDCC : SinoMCU ANSI-C Compiler
                                           ; Version 2.0.0 (Dec 11 2019) (MINGW32)
                                           ; This file was generated Wed Oct 09 10:48:41 2024
                                           ;--------------------------------------------------------
                                           ; MC32 port for the RISC core
                                           ;--------------------------------------------------------
                                           ;	.file	"MC32P7311.c"
                                           	list	p=7311
                                           	radix dec
                                           	include "7311.inc"
                                           ;--------------------------------------------------------
                                           ; external declarations
                                           ;--------------------------------------------------------
                                           	extern	_INDF0bits
                                           	extern	_INDF1bits
                                           	extern	_INDF2bits
                                           	extern	_HIBYTEbits
                                           	extern	_FSR0bits
                                           	extern	_FSR1bits
                                           	extern	_PCLbits
                                           	extern	_PFLAGbits
                                           	extern	_MCRbits
                                           	extern	_INDF3bits
                                           	extern	_INTEbits
                                           	extern	_INTFbits
                                           	extern	_DRVCRbits
                                           	extern	_KBCRbits
                                           	extern	_IOP0bits
                                           	extern	_OEP0bits
                                           	extern	_PUP0bits
                                           	extern	_PDP0bits
                                           	extern	_IOP1bits
                                           	extern	_OEP1bits
                                           	extern	_PUP1bits
                                           	extern	_PDP1bits
                                           	extern	_T0CRbits
                                           	extern	_T0CNTbits
                                           	extern	_T0LOADbits
                                           	extern	_T0DATAbits
                                           	extern	_T1CRbits
                                           	extern	_T1CNTbits
                                           	extern	_T1LOADbits
                                           	extern	_T1DATAbits
                                           	extern	_T2CRbits
                                           	extern	_T2CNTbits
                                           	extern	_T2LOADbits
                                           	extern	_T2DATAbits
                                           	extern	_T3CRbits
                                           	extern	_T3CNTbits
                                           	extern	_T3LOADbits
                                           	extern	_PWM0DEbits
                                           	extern	_PWM1DEbits
                                           	extern	_PWM2DEbits
                                           	extern	_PWMCR0bits
                                           	extern	_PWMCR1bits
                                           	extern	_OSCMbits
                                           	extern	_LVDCRbits
                                           	extern	_ADCR0bits
                                           	extern	_ADCR1bits
                                           	extern	_ADCR2bits
                                           	extern	_ADRHbits
                                           	extern	_ADRLbits
                                           	extern	_ANSEL0bits
                                           	extern	_ANSEL1bits
                                           	extern	_OSCCALHbits
                                           	extern	_OSCCALLbits
                                           	extern	_INDF0
                                           	extern	_INDF1
                                           	extern	_INDF2
                                           	extern	_HIBYTE
                                           	extern	_FSR0
                                           	extern	_FSR1
                                           	extern	_PCL
                                           	extern	_PFLAG
                                           	extern	_MCR
                                           	extern	_INDF3
                                           	extern	_INTE
                                           	extern	_INTF
                                           	extern	_DRVCR
                                           	extern	_KBCR
                                           	extern	_IOP0
                                           	extern	_OEP0
                                           	extern	_PUP0
                                           	extern	_PDP0
                                           	extern	_IOP1
                                           	extern	_OEP1
                                           	extern	_PUP1
                                           	extern	_PDP1
                                           	extern	_T0CR
                                           	extern	_T0CNT
                                           	extern	_T0LOAD
                                           	extern	_T0DATA
                                           	extern	_T1CR
                                           	extern	_T1CNT
                                           	extern	_T1LOAD
                                           	extern	_T1DATA
                                           	extern	_T2CR
                                           	extern	_T2CNT
                                           	extern	_T2LOAD
                                           	extern	_T2DATA
                                           	extern	_T3CR
                                           	extern	_T3CNT
                                           	extern	_T3LOAD
                                           	extern	_PWM0DE
                                           	extern	_PWM1DE
                                           	extern	_PWM2DE
                                           	extern	_PWMCR0
                                           	extern	_PWMCR1
                                           	extern	_OSCM
                                           	extern	_LVDCR
                                           	extern	_ADCR0
                                           	extern	_ADCR1
                                           	extern	_ADCR2
                                           	extern	_ADRH
                                           	extern	_ADRL
                                           	extern	_ANSEL0
                                           	extern	_ANSEL1
                                           	extern	_OSCCALH
                                           	extern	_OSCCALL
                                           ;--------------------------------------------------------
                                           ; global declarations
                                           ;--------------------------------------------------------
                                           	global	_Sys_Init
                                           	global	_IO_Init
                                           	global	_CLR_RAM
                                           	global	_delay_ms
                                           	global	_send_32bits_data_by_irsir
                                           	global	_timer0_pwm_config
                                           	global	_timer1_pwm_config
                                           	global	_timer2_pwm_config
                                           	global	_key_config
                                           	global	_adc_config
                                           	global	_adc_sel_pin
                                           	global	_adc_get_val
                                           	global	_key_scan
                                           	global	_key_handle
                                           	global	_adc_scan_handle
                                           	global	_turn_dir_scan_handle
                                           	global	_shutdown_scan_handle
                                           	global	_low_power_scan_handle
                                           	global	_main
                                           	global	_int_isr
                                           	global	_mode_flag
                                           	global	_key_press_flag
                                           	global	_i
                                           	global	_adc_val
                                           	global	_turn_dir_ms_cnt
                                           	global	_shut_down_ms_cnt
                                           	global	_abuf
                                           	global	_statusbuf
                                           	global	_flag1
                                           
                                           	global STK06
                                           	global STK05
                                           	global STK04
                                           	global STK03
                                           	global STK02
                                           	global STK01
                                           	global STK00
                                           
                                           sharebank udata_ovr 0x0000
                                           STK06	res 1
                                           STK05	res 1
                                           STK04	res 1
                                           STK03	res 1
                                           STK02	res 1
                                           STK01	res 1
                                           STK00	res 1
                                           
                                           ;--------------------------------------------------------
                                           ; global definitions
                                           ;--------------------------------------------------------
                                           UD_MC32P7311_0	udata
                                           _mode_flag	res	1
                                           
                                           UD_MC32P7311_1	udata
                                           _key_press_flag	res	1
                                           
                                           UD_MC32P7311_2	udata
                                           _i	res	1
                                           
                                           UD_MC32P7311_3	udata
                                           _adc_val	res	2
                                           
                                           UD_MC32P7311_4	udata
                                           _turn_dir_ms_cnt	res	4
                                           
                                           UD_MC32P7311_5	udata
                                           _shut_down_ms_cnt	res	4
                                           
                                           UD_MC32P7311_6	udata
                                           _abuf	res	1
                                           
                                           UD_MC32P7311_7	udata
                                           _statusbuf	res	1
                                           
                                           UD_MC32P7311_8	udata
                                           _flag1	res	1
                                           
                                           ;--------------------------------------------------------
                                           ; absolute symbol definitions
                                           ;--------------------------------------------------------
                                           ;--------------------------------------------------------
                                           ; compiler-defined variables
                                           ;--------------------------------------------------------
                                           UDL_MC32P7311_0	udata
                                           r0x1015	res	1
                                           r0x1014	res	1
                                           r0x1013	res	1
                                           r0x1012	res	1
                                           r0x1016	res	1
                                           r0x1017	res	1
                                           r0x1018	res	1
                                           r0x1019	res	1
                                           r0x101A	res	1
                                           r0x101B	res	1
                                           r0x101C	res	1
                                           r0x101D	res	1
                                           r0x1025	res	1
                                           r0x1024	res	1
                                           r0x1023	res	1
                                           r0x1022	res	1
                                           r0x1026	res	1
                                           r0x102A	res	1
                                           r0x1029	res	1
                                           r0x1028	res	1
                                           r0x1027	res	1
                                           r0x101E	res	1
                                           r0x1020	res	1
                                           r0x1021	res	1
                                           r0x101F	res	1
                                           r0x102B	res	1
                                           r0x102C	res	1
                                           _adc_scan_handle_cnt_65536_86	res	1
                                           _adc_scan_handle_need_charge_cnt_65536_86	res	1
                                           _adc_scan_handle_need_charge_slow_cnt_65536_86	res	1
                                           _adc_scan_handle_flag_bat_is_empty_65536_86	res	1
                                           ;--------------------------------------------------------
                                           ; initialized data
                                           ;--------------------------------------------------------
                                           
                                           ;@Allocation info for local variables in function 'delay_ms'
                                           ;@delay_ms Sys_Init                  Allocated to registers ;size:2
                                           ;@delay_ms CLR_RAM                   Allocated to registers ;size:2
                                           ;@delay_ms IO_Init                   Allocated to registers ;size:2
                                           ;@delay_ms delay_ms                  Allocated to registers ;size:2
                                           ;@delay_ms INDF0bits                 Allocated to registers ;size:1
                                           ;@delay_ms INDF1bits                 Allocated to registers ;size:1
                                           ;@delay_ms INDF2bits                 Allocated to registers ;size:1
                                           ;@delay_ms HIBYTEbits                Allocated to registers ;size:1
                                           ;@delay_ms FSR0bits                  Allocated to registers ;size:1
                                           ;@delay_ms FSR1bits                  Allocated to registers ;size:1
                                           ;@delay_ms PCLbits                   Allocated to registers ;size:1
                                           ;@delay_ms PFLAGbits                 Allocated to registers ;size:1
                                           ;@delay_ms MCRbits                   Allocated to registers ;size:1
                                           ;@delay_ms INDF3bits                 Allocated to registers ;size:1
                                           ;@delay_ms INTEbits                  Allocated to registers ;size:1
                                           ;@delay_ms INTFbits                  Allocated to registers ;size:1
                                           ;@delay_ms DRVCRbits                 Allocated to registers ;size:1
                                           ;@delay_ms KBCRbits                  Allocated to registers ;size:1
                                           ;@delay_ms IOP0bits                  Allocated to registers ;size:1
                                           ;@delay_ms OEP0bits                  Allocated to registers ;size:1
                                           ;@delay_ms PUP0bits                  Allocated to registers ;size:1
                                           ;@delay_ms PDP0bits                  Allocated to registers ;size:1
                                           ;@delay_ms IOP1bits                  Allocated to registers ;size:1
                                           ;@delay_ms OEP1bits                  Allocated to registers ;size:1
                                           ;@delay_ms PUP1bits                  Allocated to registers ;size:1
                                           ;@delay_ms PDP1bits                  Allocated to registers ;size:1
                                           ;@delay_ms T0CRbits                  Allocated to registers ;size:1
                                           ;@delay_ms T0CNTbits                 Allocated to registers ;size:1
                                           ;@delay_ms T0LOADbits                Allocated to registers ;size:1
                                           ;@delay_ms T0DATAbits                Allocated to registers ;size:1
                                           ;@delay_ms T1CRbits                  Allocated to registers ;size:1
                                           ;@delay_ms T1CNTbits                 Allocated to registers ;size:1
                                           ;@delay_ms T1LOADbits                Allocated to registers ;size:1
                                           ;@delay_ms T1DATAbits                Allocated to registers ;size:1
                                           ;@delay_ms T2CRbits                  Allocated to registers ;size:1
                                           ;@delay_ms T2CNTbits                 Allocated to registers ;size:1
                                           ;@delay_ms T2LOADbits                Allocated to registers ;size:1
                                           ;@delay_ms T2DATAbits                Allocated to registers ;size:1
                                           ;@delay_ms T3CRbits                  Allocated to registers ;size:1
                                           ;@delay_ms T3CNTbits                 Allocated to registers ;size:1
                                           ;@delay_ms T3LOADbits                Allocated to registers ;size:1
                                           ;@delay_ms PWM0DEbits                Allocated to registers ;size:1
                                           ;@delay_ms PWM1DEbits                Allocated to registers ;size:1
                                           ;@delay_ms PWM2DEbits                Allocated to registers ;size:1
                                           ;@delay_ms PWMCR0bits                Allocated to registers ;size:1
                                           ;@delay_ms PWMCR1bits                Allocated to registers ;size:1
                                           ;@delay_ms OSCMbits                  Allocated to registers ;size:1
                                           ;@delay_ms LVDCRbits                 Allocated to registers ;size:1
                                           ;@delay_ms ADCR0bits                 Allocated to registers ;size:1
                                           ;@delay_ms ADCR1bits                 Allocated to registers ;size:1
                                           ;@delay_ms ADCR2bits                 Allocated to registers ;size:1
                                           ;@delay_ms ADRHbits                  Allocated to registers ;size:1
                                           ;@delay_ms ADRLbits                  Allocated to registers ;size:1
                                           ;@delay_ms ANSEL0bits                Allocated to registers ;size:1
                                           ;@delay_ms ANSEL1bits                Allocated to registers ;size:1
                                           ;@delay_ms OSCCALHbits               Allocated to registers ;size:1
                                           ;@delay_ms OSCCALLbits               Allocated to registers ;size:1
                                           ;@delay_ms mode_flag                 Allocated to registers ;size:1
                                           ;@delay_ms key_press_flag            Allocated to registers ;size:1
                                           ;@delay_ms i                         Allocated to registers ;size:1
                                           ;@delay_ms adc_val                   Allocated to registers ;size:2
                                           ;@delay_ms turn_dir_ms_cnt           Allocated to registers ;size:4
                                           ;@delay_ms shut_down_ms_cnt          Allocated to registers ;size:4
                                           ;@delay_ms abuf                      Allocated to registers ;size:1
                                           ;@delay_ms statusbuf                 Allocated to registers ;size:1
                                           ;@delay_ms flag1                     Allocated to registers ;size:1
                                           ;@delay_ms xms                       Allocated to registers ;size:4
                                           ;@delay_ms i                         Allocated to registers r0x1016 r0x1017 r0x1018 r0x1019 ;size:4
                                           ;@delay_ms INDF0                     Allocated to registers ;size:1
                                           ;@delay_ms INDF1                     Allocated to registers ;size:1
                                           ;@delay_ms INDF2                     Allocated to registers ;size:1
                                           ;@delay_ms HIBYTE                    Allocated to registers ;size:1
                                           ;@delay_ms FSR0                      Allocated to registers ;size:1
                                           ;@delay_ms FSR1                      Allocated to registers ;size:1
                                           ;@delay_ms PCL                       Allocated to registers ;size:1
                                           ;@delay_ms PFLAG                     Allocated to registers ;size:1
                                           ;@delay_ms MCR                       Allocated to registers ;size:1
                                           ;@delay_ms INDF3                     Allocated to registers ;size:1
                                           ;@delay_ms INTE                      Allocated to registers ;size:1
                                           ;@delay_ms INTF                      Allocated to registers ;size:1
                                           ;@delay_ms DRVCR                     Allocated to registers ;size:1
                                           ;@delay_ms KBCR                      Allocated to registers ;size:1
                                           ;@delay_ms IOP0                      Allocated to registers ;size:1
                                           ;@delay_ms OEP0                      Allocated to registers ;size:1
                                           ;@delay_ms PUP0                      Allocated to registers ;size:1
                                           ;@delay_ms PDP0                      Allocated to registers ;size:1
                                           ;@delay_ms IOP1                      Allocated to registers ;size:1
                                           ;@delay_ms OEP1                      Allocated to registers ;size:1
                                           ;@delay_ms PUP1                      Allocated to registers ;size:1
                                           ;@delay_ms PDP1                      Allocated to registers ;size:1
                                           ;@delay_ms T0CR                      Allocated to registers ;size:1
                                           ;@delay_ms T0CNT                     Allocated to registers ;size:1
                                           ;@delay_ms T0LOAD                    Allocated to registers ;size:1
                                           ;@delay_ms T0DATA                    Allocated to registers ;size:1
                                           ;@delay_ms T1CR                      Allocated to registers ;size:1
                                           ;@delay_ms T1CNT                     Allocated to registers ;size:1
                                           ;@delay_ms T1LOAD                    Allocated to registers ;size:1
                                           ;@delay_ms T1DATA                    Allocated to registers ;size:1
                                           ;@delay_ms T2CR                      Allocated to registers ;size:1
                                           ;@delay_ms T2CNT                     Allocated to registers ;size:1
                                           ;@delay_ms T2LOAD                    Allocated to registers ;size:1
                                           ;@delay_ms T2DATA                    Allocated to registers ;size:1
                                           ;@delay_ms T3CR                      Allocated to registers ;size:1
                                           ;@delay_ms T3CNT                     Allocated to registers ;size:1
                                           ;@delay_ms T3LOAD                    Allocated to registers ;size:1
                                           ;@delay_ms PWM0DE                    Allocated to registers ;size:1
                                           ;@delay_ms PWM1DE                    Allocated to registers ;size:1
                                           ;@delay_ms PWM2DE                    Allocated to registers ;size:1
                                           ;@delay_ms PWMCR0                    Allocated to registers ;size:1
                                           ;@delay_ms PWMCR1                    Allocated to registers ;size:1
                                           ;@delay_ms OSCM                      Allocated to registers ;size:1
                                           ;@delay_ms LVDCR                     Allocated to registers ;size:1
                                           ;@delay_ms ADCR0                     Allocated to registers ;size:1
                                           ;@delay_ms ADCR1                     Allocated to registers ;size:1
                                           ;@delay_ms ADCR2                     Allocated to registers ;size:1
                                           ;@delay_ms ADRH                      Allocated to registers ;size:1
                                           ;@delay_ms ADRL                      Allocated to registers ;size:1
                                           ;@delay_ms ANSEL0                    Allocated to registers ;size:1
                                           ;@delay_ms ANSEL1                    Allocated to registers ;size:1
                                           ;@delay_ms OSCCALH                   Allocated to registers ;size:1
                                           ;@delay_ms OSCCALL                   Allocated to registers ;size:1
                                           ;@end Allocation info for local variables in function 'delay_ms';
                                           ;@Allocation info for local variables in function 'send_32bits_data_by_irsir'
                                           ;@send_32bits_data_by_irsir send_data                 Allocated to registers r0x1025 r0x1024 r0x1023 r0x1022 ;size:4
                                           ;@send_32bits_data_by_irsir i                         Allocated to registers r0x1026 ;size:1
                                           ;@end Allocation info for local variables in function 'send_32bits_data_by_irsir';
                                           ;@Allocation info for local variables in function 'CLR_RAM'
                                           ;@end Allocation info for local variables in function 'CLR_RAM';
                                           ;@Allocation info for local variables in function 'IO_Init'
                                           ;@end Allocation info for local variables in function 'IO_Init';
                                           ;@Allocation info for local variables in function 'timer0_pwm_config'
                                           ;@end Allocation info for local variables in function 'timer0_pwm_config';
                                           ;@Allocation info for local variables in function 'timer1_pwm_config'
                                           ;@end Allocation info for local variables in function 'timer1_pwm_config';
                                           ;@Allocation info for local variables in function 'timer2_pwm_config'
                                           ;@end Allocation info for local variables in function 'timer2_pwm_config';
                                           ;@Allocation info for local variables in function 'key_config'
                                           ;@end Allocation info for local variables in function 'key_config';
                                           ;@Allocation info for local variables in function 'adc_config'
                                           ;@end Allocation info for local variables in function 'adc_config';
                                           ;@Allocation info for local variables in function 'adc_sel_pin'
                                           ;@adc_sel_pin adc_pin                   Allocated to registers r0x101E ;size:1
                                           ;@end Allocation info for local variables in function 'adc_sel_pin';
                                           ;@Allocation info for local variables in function 'adc_get_val'
                                           ;@adc_get_val cnt                       Allocated to registers r0x1018 ;size:1
                                           ;@adc_get_val g_temp_value              Allocated to registers r0x1019 r0x101A ;size:2
                                           ;@adc_get_val g_tmpbuff                 Allocated to registers r0x1014 r0x1015 ;size:2
                                           ;@adc_get_val g_adcmax                  Allocated to registers r0x1014 r0x1015 ;size:2
                                           ;@adc_get_val g_adcmin                  Allocated to registers r0x1016 r0x1017 ;size:2
                                           ;@end Allocation info for local variables in function 'adc_get_val';
                                           ;@Allocation info for local variables in function 'Sys_Init'
                                           ;@end Allocation info for local variables in function 'Sys_Init';
                                           ;@Allocation info for local variables in function 'key_scan'
                                           ;@key_scan cnt                       Allocated to registers r0x1020 ;size:1
                                           ;@end Allocation info for local variables in function 'key_scan';
                                           ;@Allocation info for local variables in function 'key_handle'
                                           ;@end Allocation info for local variables in function 'key_handle';
                                           ;@Allocation info for local variables in function 'adc_scan_handle'
                                           ;@adc_scan_handle cnt                       Allocated to registers ;size:1
                                           ;@adc_scan_handle need_charge_cnt           Allocated to registers ;size:1
                                           ;@adc_scan_handle need_charge_slow_cnt      Allocated to registers ;size:1
                                           ;@adc_scan_handle flag_bat_is_empty         Allocated to registers ;size:1
                                           ;@end Allocation info for local variables in function 'adc_scan_handle';
                                           ;@Allocation info for local variables in function 'turn_dir_scan_handle'
                                           ;@end Allocation info for local variables in function 'turn_dir_scan_handle';
                                           ;@Allocation info for local variables in function 'shutdown_scan_handle'
                                           ;@end Allocation info for local variables in function 'shutdown_scan_handle';
                                           ;@Allocation info for local variables in function 'low_power_scan_handle'
                                           ;@end Allocation info for local variables in function 'low_power_scan_handle';
                                           ;@Allocation info for local variables in function 'main'
                                           ;@end Allocation info for local variables in function 'main';
                                           ;@Allocation info for local variables in function 'int_isr'
                                           ;@end Allocation info for local variables in function 'int_isr';
                                           
                                           ;--------------------------------------------------------
                                           ; overlayable items in internal ram 
                                           ;--------------------------------------------------------
                                           ;	udata_ovr
                                           ;--------------------------------------------------------
                                           ; reset vector 
                                           ;--------------------------------------------------------
                                           STARTUP	code 0x0000
                                           	goto	_main
                                           ;--------------------------------------------------------
                                           ; interrupt and initialization code
                                           ;--------------------------------------------------------
                                           c_interrupt	code	0x8
                                           __sdcc_interrupt
                                           ;***
                                           ;  pBlock Stats: dbName = I
                                           ;***
                                           ;entry:  _int_isr	;Function start
                                           ; 0 exit points
                                           ;2 compiler assigned registers:
                                           ;   r0x102B
                                           ;   r0x102C
                                           ;; Starting pCode block
                                           _int_isr	;Function start
                                           ; 0 exit points
                                           ;	.line	907; "MC32P7311.c"	__endasm;
                                           	;
                                           	movra	_abuf;
                                           	swapar	_PFLAG;
                                           	movra	_statusbuf;
                                           	
                                           ;	.line	940; "MC32P7311.c"	if (INT0IF & INT0IE)
                                           	CLRR	r0x102B
                                           	JBCLR	_INTFbits,2
                                           	INCR	r0x102B
                                           	CLRR	r0x102C
                                           	JBCLR	_INTEbits,2
                                           	INCR	r0x102C
                                           	MOVAR	r0x102C
                                           	ANDRA	r0x102B
                                           	MOVAI	0x00
                                           	ORAR	r0x102B
                                           	JBCLR	PFLAG,2
                                           	GOTO	_00686_DS_
                                           ;	.line	942; "MC32P7311.c"	INT0IF = 0;
                                           	BCLR	_INTFbits,2
                                           _00686_DS_
                                           ;	.line	954; "MC32P7311.c"	__endasm;
                                           	;
                                           	swapar	_statusbuf;
                                           	movra	_PFLAG;
                                           	swapr	_abuf;
                                           	swapar	_abuf;
                                           	
                                           END_OF_INTERRUPT
                                           ;	.line	955; "MC32P7311.c"	}
                                           	RETIE	
                                           
                                           ;--------------------------------------------------------
                                           ; code
                                           ;--------------------------------------------------------
                                           code_MC32P7311	code
                                           ;***
                                           ;  pBlock Stats: dbName = M
                                           ;***
                                           ;entry:  _main	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;functions called:
                                           ;   _Sys_Init
                                           ;   _Sys_Init
                                           ;; Starting pCode block
                                           _main	;Function start
                                           ; 2 exit points
                                           ;	.line	859; "MC32P7311.c"	Sys_Init();
                                           	CALL	_Sys_Init
                                           ;	.line	861; "MC32P7311.c"	LED_WORKING_OFF();
                                           	BSET	_IOP1bits,4
                                           ;	.line	862; "MC32P7311.c"	LED_FULL_CHARGE_OFF();
                                           	BSET	_IOP0bits,3
                                           ;	.line	863; "MC32P7311.c"	LED_CHARGING_OFF();
                                           	BSET	_IOP0bits,4
                                           _00680_DS_
                                           ;	.line	897; "MC32P7311.c"	__endasm;
                                           	;
                                           	CLRWDT;
                                           	
                                           	GOTO	_00680_DS_
                                           ;	.line	899; "MC32P7311.c"	}
                                           	RETURN	
                                           ; exit point of _main
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _low_power_scan_handle	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;functions called:
                                           ;   _CLR_RAM
                                           ;   _adc_sel_pin
                                           ;   _adc_get_val
                                           ;   _adc_sel_pin
                                           ;   _adc_get_val
                                           ;   _timer0_pwm_config
                                           ;   _timer1_pwm_config
                                           ;   _timer2_pwm_config
                                           ;   _key_config
                                           ;   _adc_config
                                           ;   _CLR_RAM
                                           ;   _adc_sel_pin
                                           ;   _adc_get_val
                                           ;   _adc_sel_pin
                                           ;   _adc_get_val
                                           ;   _timer0_pwm_config
                                           ;   _timer1_pwm_config
                                           ;   _timer2_pwm_config
                                           ;   _key_config
                                           ;   _adc_config
                                           ;1 compiler assigned register :
                                           ;   STK00
                                           ;; Starting pCode block
                                           _low_power_scan_handle	;Function start
                                           ; 2 exit points
                                           ;	.line	746; "MC32P7311.c"	if (FLAG_IS_DEVICE_OPEN)
                                           	JBSET	_flag1,0
                                           	GOTO	_00624_DS_
                                           ;	.line	749; "MC32P7311.c"	return;
                                           	GOTO	_00642_DS_
                                           _00624_DS_
                                           ;	.line	754; "MC32P7311.c"	if (FLAG_IS_IN_CHARGING)
                                           	JBSET	_flag1,2
                                           	GOTO	_00627_DS_
                                           ;	.line	757; "MC32P7311.c"	return;
                                           	GOTO	_00642_DS_
                                           _00627_DS_
                                           ;	.line	761; "MC32P7311.c"	GIE = 0; // 禁用所有中断
                                           	BCLR	_MCRbits,7
                                           ;	.line	764; "MC32P7311.c"	TC0EN = 0; // 关闭定时器和PWM输出
                                           	BCLR	_T0CRbits,7
                                           ;	.line	765; "MC32P7311.c"	TC1EN = 0;
                                           	BCLR	_T1CRbits,7
                                           ;	.line	766; "MC32P7311.c"	TC2EN = 0;
                                           	BCLR	_T2CRbits,7
                                           ;	.line	767; "MC32P7311.c"	PWM0OE = 0;
                                           	BCLR	_T0CRbits,6
                                           ;	.line	768; "MC32P7311.c"	PWM1OE = 0;
                                           	BCLR	_T1CRbits,6
                                           ;	.line	769; "MC32P7311.c"	PWM2OE = 0;
                                           	BCLR	_T2CRbits,6
                                           ;	.line	770; "MC32P7311.c"	ADON = 0; // 不使能ad
                                           	BCLR	_ADCR0bits,0
                                           ;	.line	772; "MC32P7311.c"	IOP0 = 0x18;   // io口数据位
                                           	MOVAI	0x18
                                           	MOVRA	_IOP0
                                           ;	.line	773; "MC32P7311.c"	OEP0 = 0xFF;   // io口方向 1:out  0:in
                                           	MOVAI	0xff
                                           	MOVRA	_OEP0
                                           ;	.line	774; "MC32P7311.c"	PUP0 = 0x00;   // io口上拉电阻   1:enable  0:disable
                                           	CLRR	_PUP0
                                           ;	.line	775; "MC32P7311.c"	PDP0 = 0x00;   // io口下拉电阻   1:enable  0:disable
                                           	CLRR	_PDP0
                                           ;	.line	776; "MC32P7311.c"	ANSEL0 = 0x00; // io类型选择  1:模拟输入  0:通用io
                                           	CLRR	_ANSEL0
                                           ;	.line	777; "MC32P7311.c"	IOP1 = 0x10;   // io口数据位
                                           	MOVAI	0x10
                                           	MOVRA	_IOP1
                                           ;	.line	778; "MC32P7311.c"	OEP1 = 0xFF;   // io口方向 1:out  0:in
                                           	MOVAI	0xff
                                           	MOVRA	_OEP1
                                           ;	.line	779; "MC32P7311.c"	PUP1 = 0x00;   // io口上拉电阻   1:enable  0:disable
                                           	CLRR	_PUP1
                                           ;	.line	780; "MC32P7311.c"	PDP1 = 0x00;   // io口下拉电阻   1:enable  0:disable
                                           	CLRR	_PDP1
                                           ;	.line	781; "MC32P7311.c"	ANSEL1 = 0x00; // io类型选择  1:模拟输入  0:通用io
                                           	CLRR	_ANSEL1
                                           ;	.line	784; "MC32P7311.c"	MINT00 = 1; // MINT00、MINT01，组合配置INT0为下降沿中断
                                           	BSET	_MCRbits,0
                                           ;	.line	785; "MC32P7311.c"	MINT01 = 0;
                                           	BCLR	_MCRbits,1
                                           ;	.line	786; "MC32P7311.c"	P11PU = 1;
                                           	BSET	_PUP1bits,1
                                           ;	.line	787; "MC32P7311.c"	P11OE = 0;
                                           	BCLR	_OEP1bits,1
                                           ;	.line	788; "MC32P7311.c"	INT0IF = 0; // 清除中断标志
                                           	BCLR	_INTFbits,2
                                           ;	.line	789; "MC32P7311.c"	INT0IE = 1; // 外部中断使能
                                           	BSET	_INTEbits,2
                                           ;	.line	791; "MC32P7311.c"	HFEN = 0;
                                           	BCLR	_OSCMbits,0
                                           ;	.line	792; "MC32P7311.c"	LFEN = 1;
                                           	BSET	_OSCMbits,1
                                           ;	.line	795; "MC32P7311.c"	Nop();
                                           	nop	
                                           ;	.line	796; "MC32P7311.c"	Nop();
                                           	nop	
                                           ;	.line	797; "MC32P7311.c"	Stop();
                                           	stop	
                                           ;	.line	798; "MC32P7311.c"	Nop();
                                           	nop	
                                           ;	.line	799; "MC32P7311.c"	Nop();
                                           	nop	
                                           ;	.line	803; "MC32P7311.c"	CLR_RAM();
                                           	CALL	_CLR_RAM
                                           ;	.line	806; "MC32P7311.c"	P00PU = 0; // 关闭上下拉
                                           	BCLR	_PUP0bits,0
                                           ;	.line	807; "MC32P7311.c"	P00PD = 0;
                                           	BCLR	_PDP0bits,0
                                           ;	.line	808; "MC32P7311.c"	P00OE = 0;	  // 输入模式
                                           	BCLR	_OEP0bits,0
                                           ;	.line	809; "MC32P7311.c"	P00ANS = 1;	  // 模拟输入
                                           	BSET	_ANSEL0bits,0
                                           ;	.line	810; "MC32P7311.c"	ADCR1 = 0xE1; // 125K采样（最高精度）  内部3V参考电压
                                           	MOVAI	0xe1
                                           	MOVRA	_ADCR1
                                           ;	.line	811; "MC32P7311.c"	ADCR2 = 0xFF; // ADC采样时间为15个ADC时钟
                                           	MOVAI	0xff
                                           	MOVRA	_ADCR2
                                           ;	.line	812; "MC32P7311.c"	ADON = 1;	  // 使能ADC
                                           	BSET	_ADCR0bits,0
                                           ;	.line	814; "MC32P7311.c"	adc_sel_pin(ADC_PIN_P00_AN0);
                                           	MOVAI	0x01
                                           	CALL	_adc_sel_pin
                                           ;	.line	815; "MC32P7311.c"	adc_val = adc_get_val();
                                           	CALL	_adc_get_val
                                           	MOVRA	(_adc_val + 1)
                                           	MOVAR	STK00
                                           	MOVRA	_adc_val
                                           ;;unsigned compare: left < lit(0x800=2048), size=2
                                           ;	.line	816; "MC32P7311.c"	if (adc_val < ADCDETECT_CHARING_THRESHOLD && P11D)
                                           	MOVAI	0x08
                                           	RSUBAR	(_adc_val + 1)
                                           	JBSET	PFLAG,2
                                           	GOTO	_00664_DS_
                                           	MOVAI	0x00
                                           	RSUBAR	_adc_val
                                           _00664_DS_
                                           	JBCLR	PFLAG,0
                                           	GOTO	_00629_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           	JBCLR	_IOP1bits,1
                                           	GOTO	_00627_DS_
                                           _00629_DS_
                                           ;	.line	824; "MC32P7311.c"	adc_sel_pin(ADC_PIN_P02_AN1);
                                           	MOVAI	0x02
                                           	CALL	_adc_sel_pin
                                           ;	.line	825; "MC32P7311.c"	adc_val = adc_get_val();
                                           	CALL	_adc_get_val
                                           	MOVRA	(_adc_val + 1)
                                           	MOVAR	STK00
                                           	MOVRA	_adc_val
                                           ;;unsigned compare: left < lit(0x625=1573), size=2
                                           ;	.line	826; "MC32P7311.c"	if (adc_val < ADCVAL_REF_BAT_6_4_V)
                                           	MOVAI	0x06
                                           	RSUBAR	(_adc_val + 1)
                                           	JBSET	PFLAG,2
                                           	GOTO	_00665_DS_
                                           	MOVAI	0x25
                                           	RSUBAR	_adc_val
                                           _00665_DS_
                                           	JBCLR	PFLAG,0
                                           	GOTO	_00632_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	829; "MC32P7311.c"	FLAG_IS_NOT_OPEN_DEVICE = 1; // 不允许开机，但是可以充电
                                           	BSET	_flag1,6
                                           _00632_DS_
                                           ;	.line	832; "MC32P7311.c"	HFEN = 1;
                                           	BSET	_OSCMbits,0
                                           ;	.line	834; "MC32P7311.c"	IOP0 = 0x18;   // io口数据位
                                           	MOVAI	0x18
                                           	MOVRA	_IOP0
                                           ;	.line	835; "MC32P7311.c"	OEP0 = 0xFF;   // io口方向 1:out  0:in
                                           	MOVAI	0xff
                                           	MOVRA	_OEP0
                                           ;	.line	836; "MC32P7311.c"	PUP0 = 0x00;   // io口上拉电阻   1:enable  0:disable
                                           	CLRR	_PUP0
                                           ;	.line	837; "MC32P7311.c"	PDP0 = 0x00;   // io口下拉电阻   1:enable  0:disable
                                           	CLRR	_PDP0
                                           ;	.line	838; "MC32P7311.c"	ANSEL0 = 0x00; // io类型选择  1:模拟输入  0:通用io
                                           	CLRR	_ANSEL0
                                           ;	.line	839; "MC32P7311.c"	IOP1 = 0x10;   // io口数据位
                                           	MOVAI	0x10
                                           	MOVRA	_IOP1
                                           ;	.line	840; "MC32P7311.c"	OEP1 = 0xFF;   // io口方向 1:out  0:in
                                           	MOVAI	0xff
                                           	MOVRA	_OEP1
                                           ;	.line	841; "MC32P7311.c"	PUP1 = 0x00;   // io口上拉电阻   1:enable  0:disable
                                           	CLRR	_PUP1
                                           ;	.line	842; "MC32P7311.c"	PDP1 = 0x00;   // io口下拉电阻   1:enable  0:disable
                                           	CLRR	_PDP1
                                           ;	.line	843; "MC32P7311.c"	ANSEL1 = 0x00; // io类型选择  1:模拟输入  0:通用io
                                           	CLRR	_ANSEL1
                                           ;	.line	844; "MC32P7311.c"	DRVCR = 0x80;  // 普通驱动
                                           	MOVAI	0x80
                                           	MOVRA	_DRVCR
                                           ;	.line	845; "MC32P7311.c"	timer0_pwm_config();
                                           	CALL	_timer0_pwm_config
                                           ;	.line	846; "MC32P7311.c"	timer1_pwm_config();
                                           	CALL	_timer1_pwm_config
                                           ;	.line	847; "MC32P7311.c"	timer2_pwm_config();
                                           	CALL	_timer2_pwm_config
                                           ;	.line	848; "MC32P7311.c"	key_config();
                                           	CALL	_key_config
                                           ;	.line	849; "MC32P7311.c"	adc_config();
                                           	CALL	_adc_config
                                           ;	.line	850; "MC32P7311.c"	LED_WORKING_OFF();
                                           	BSET	_IOP1bits,4
                                           ;	.line	851; "MC32P7311.c"	LED_FULL_CHARGE_OFF();
                                           	BSET	_IOP0bits,3
                                           ;	.line	852; "MC32P7311.c"	LED_CHARGING_OFF();
                                           	BSET	_IOP0bits,4
                                           ;	.line	853; "MC32P7311.c"	GIE = 1;
                                           	BSET	_MCRbits,7
                                           _00642_DS_
                                           ;	.line	855; "MC32P7311.c"	}
                                           	RETURN	
                                           ; exit point of _low_power_scan_handle
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _shutdown_scan_handle	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           _shutdown_scan_handle	;Function start
                                           ; 2 exit points
                                           ;	.line	718; "MC32P7311.c"	if (FLAG_IS_DEVICE_OPEN)
                                           	JBSET	_flag1,0
                                           	GOTO	_00606_DS_
                                           ;	.line	721; "MC32P7311.c"	shut_down_ms_cnt += ONE_CYCLE_TIME_MS;
                                           	MOVAI	0x4a
                                           	ADDRA	_shut_down_ms_cnt
                                           	JBCLR	PFLAG,0
                                           	INCR	(_shut_down_ms_cnt + 1)
                                           	JBCLR	PFLAG,2
                                           	INCR	(_shut_down_ms_cnt + 2)
                                           	JBCLR	PFLAG,2
                                           	INCR	(_shut_down_ms_cnt + 3)
                                           ;;unsigned compare: left < lit(0xDBBA0=900000), size=4
                                           ;	.line	722; "MC32P7311.c"	if (shut_down_ms_cnt >= 900000)
                                           	MOVAI	0x00
                                           	RSUBAR	(_shut_down_ms_cnt + 3)
                                           	JBSET	PFLAG,2
                                           	GOTO	_00618_DS_
                                           	MOVAI	0x0d
                                           	RSUBAR	(_shut_down_ms_cnt + 2)
                                           	JBSET	PFLAG,2
                                           	GOTO	_00618_DS_
                                           	MOVAI	0xbb
                                           	RSUBAR	(_shut_down_ms_cnt + 1)
                                           	JBSET	PFLAG,2
                                           	GOTO	_00618_DS_
                                           	MOVAI	0xa0
                                           	RSUBAR	_shut_down_ms_cnt
                                           _00618_DS_
                                           	JBSET	PFLAG,0
                                           	GOTO	_00608_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	726; "MC32P7311.c"	LED_WORKING_OFF(); // 关闭电源指示灯
                                           	BSET	_IOP1bits,4
                                           ;	.line	727; "MC32P7311.c"	HEATING_OFF();	   // 关闭加热
                                           	BCLR	_IOP1bits,2
                                           ;	.line	728; "MC32P7311.c"	FLAG_IS_HEATING = 0;
                                           	BCLR	_flag1,1
                                           ;	.line	729; "MC32P7311.c"	mode_flag = MODE_3; // 下一次切换模式时，会变成 MODE_1
                                           	MOVAI	0x02
                                           	MOVRA	_mode_flag
                                           ;	.line	731; "MC32P7311.c"	PWM0OE = 0;
                                           	BCLR	_T0CRbits,6
                                           ;	.line	732; "MC32P7311.c"	PWM1OE = 0;
                                           	BCLR	_T1CRbits,6
                                           ;	.line	734; "MC32P7311.c"	FLAG_IS_DEVICE_OPEN = 0;
                                           	BCLR	_flag1,0
                                           	GOTO	_00608_DS_
                                           _00606_DS_
                                           ;	.line	740; "MC32P7311.c"	shut_down_ms_cnt = 0;
                                           	CLRR	_shut_down_ms_cnt
                                           	CLRR	(_shut_down_ms_cnt + 1)
                                           	CLRR	(_shut_down_ms_cnt + 2)
                                           	CLRR	(_shut_down_ms_cnt + 3)
                                           _00608_DS_
                                           ;	.line	742; "MC32P7311.c"	}
                                           	RETURN	
                                           ; exit point of _shutdown_scan_handle
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _turn_dir_scan_handle	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           _turn_dir_scan_handle	;Function start
                                           ; 2 exit points
                                           ;	.line	682; "MC32P7311.c"	if (FLAG_IS_DEVICE_OPEN)
                                           	JBSET	_flag1,0
                                           	GOTO	_00576_DS_
                                           ;	.line	685; "MC32P7311.c"	turn_dir_ms_cnt += ONE_CYCLE_TIME_MS;
                                           	MOVAI	0x4a
                                           	ADDRA	_turn_dir_ms_cnt
                                           	JBCLR	PFLAG,0
                                           	INCR	(_turn_dir_ms_cnt + 1)
                                           	JBCLR	PFLAG,2
                                           	INCR	(_turn_dir_ms_cnt + 2)
                                           	JBCLR	PFLAG,2
                                           	INCR	(_turn_dir_ms_cnt + 3)
                                           ;;unsigned compare: left < lit(0x1D4C0=120000), size=4
                                           ;	.line	686; "MC32P7311.c"	if (turn_dir_ms_cnt >= 120000)
                                           	MOVAI	0x00
                                           	RSUBAR	(_turn_dir_ms_cnt + 3)
                                           	JBSET	PFLAG,2
                                           	GOTO	_00592_DS_
                                           	MOVAI	0x01
                                           	RSUBAR	(_turn_dir_ms_cnt + 2)
                                           	JBSET	PFLAG,2
                                           	GOTO	_00592_DS_
                                           	MOVAI	0xd4
                                           	RSUBAR	(_turn_dir_ms_cnt + 1)
                                           	JBSET	PFLAG,2
                                           	GOTO	_00592_DS_
                                           	MOVAI	0xc0
                                           	RSUBAR	_turn_dir_ms_cnt
                                           _00592_DS_
                                           	JBSET	PFLAG,0
                                           	GOTO	_00578_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	689; "MC32P7311.c"	if (0 == FLAG_DIR)
                                           	JBCLR	_flag1,3
                                           	GOTO	_00571_DS_
                                           ;	.line	692; "MC32P7311.c"	PWM0OE = 0; // 关闭驱动正转的pwm
                                           	BCLR	_T0CRbits,6
                                           ;	.line	693; "MC32P7311.c"	PWM1OE = 1; // 打开驱动反转的pwm
                                           	BSET	_T1CRbits,6
                                           ;	.line	695; "MC32P7311.c"	FLAG_DIR = 1; // 表示当前为反转
                                           	BSET	_flag1,3
                                           	GOTO	_00572_DS_
                                           _00571_DS_
                                           ;	.line	700; "MC32P7311.c"	PWM1OE = 0; // 关闭驱动反转的pwm
                                           	BCLR	_T1CRbits,6
                                           ;	.line	701; "MC32P7311.c"	PWM0OE = 1; // 打开驱动正转的pwm
                                           	BSET	_T0CRbits,6
                                           ;	.line	703; "MC32P7311.c"	FLAG_DIR = 0; // 表示当前为正转
                                           	BCLR	_flag1,3
                                           _00572_DS_
                                           ;	.line	706; "MC32P7311.c"	turn_dir_ms_cnt = 0;
                                           	CLRR	_turn_dir_ms_cnt
                                           	CLRR	(_turn_dir_ms_cnt + 1)
                                           	CLRR	(_turn_dir_ms_cnt + 2)
                                           	CLRR	(_turn_dir_ms_cnt + 3)
                                           	GOTO	_00578_DS_
                                           _00576_DS_
                                           ;	.line	711; "MC32P7311.c"	turn_dir_ms_cnt = 0; // 设备未运行时，清空计数值
                                           	CLRR	_turn_dir_ms_cnt
                                           	CLRR	(_turn_dir_ms_cnt + 1)
                                           	CLRR	(_turn_dir_ms_cnt + 2)
                                           	CLRR	(_turn_dir_ms_cnt + 3)
                                           _00578_DS_
                                           ;	.line	713; "MC32P7311.c"	}
                                           	RETURN	
                                           ; exit point of _turn_dir_scan_handle
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _adc_scan_handle	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;functions called:
                                           ;   _adc_sel_pin
                                           ;   _adc_get_val
                                           ;   _adc_sel_pin
                                           ;   _adc_get_val
                                           ;   _adc_sel_pin
                                           ;   _adc_get_val
                                           ;   _adc_sel_pin
                                           ;   _adc_get_val
                                           ;1 compiler assigned register :
                                           ;   STK00
                                           ;; Starting pCode block
                                           _adc_scan_handle	;Function start
                                           ; 2 exit points
                                           ;	.line	527; "MC32P7311.c"	volatile u8 cnt = 0;				  // 计数值，用于检测电池是否满电，也是用于检测是否插入/拔出充电器的计数值
                                           	CLRR	_adc_scan_handle_cnt_65536_86
                                           ;	.line	528; "MC32P7311.c"	volatile u8 need_charge_cnt = 0;	  // 计数值，用于检测是否要快速充电
                                           	CLRR	_adc_scan_handle_need_charge_cnt_65536_86
                                           ;	.line	529; "MC32P7311.c"	volatile u8 need_charge_slow_cnt = 0; // 计数值，用于检测是否要稍微降低充电速度
                                           	CLRR	_adc_scan_handle_need_charge_slow_cnt_65536_86
                                           ;	.line	530; "MC32P7311.c"	volatile u8 flag_bat_is_empty = 0;	  // 标志位，用于检测是否拔出了电池
                                           	CLRR	_adc_scan_handle_flag_bat_is_empty_65536_86
                                           ;	.line	532; "MC32P7311.c"	adc_sel_pin(ADC_PIN_P02_AN1); // 切换到检测电池降压后的电压的检测引脚
                                           	MOVAI	0x02
                                           	CALL	_adc_sel_pin
                                           ;	.line	533; "MC32P7311.c"	for (i = 0; i < 10; i++)
                                           	CLRR	_i
                                           ;;unsigned compare: left < lit(0xA=10), size=1
                                           _00453_DS_
                                           	MOVAI	0x0a
                                           	RSUBAR	_i
                                           	JBCLR	PFLAG,0
                                           	GOTO	_00424_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	535; "MC32P7311.c"	adc_val = adc_get_val();
                                           	CALL	_adc_get_val
                                           	MOVRA	(_adc_val + 1)
                                           	MOVAR	STK00
                                           	MOVRA	_adc_val
                                           ;	.line	537; "MC32P7311.c"	if (FLAG_IS_IN_CHARGING)
                                           	JBSET	_flag1,2
                                           	GOTO	_00422_DS_
                                           ;;swapping arguments (AOP_TYPEs 1/3)
                                           ;;unsigned compare: left >= lit(0x47C=1148), size=2
                                           ;	.line	540; "MC32P7311.c"	if (adc_val <= ADCDETECT_BAT_EMPTY) // 如果有一次电池一侧的电压小于5V，认为是拔出了电池
                                           	MOVAI	0x04
                                           	RSUBAR	(_adc_val + 1)
                                           	JBSET	PFLAG,2
                                           	GOTO	_00553_DS_
                                           	MOVAI	0x7c
                                           	RSUBAR	_adc_val
                                           _00553_DS_
                                           	JBCLR	PFLAG,0
                                           	GOTO	_00385_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	542; "MC32P7311.c"	flag_bat_is_empty = 1;
                                           	MOVAI	0x01
                                           	MOVRA	_adc_scan_handle_flag_bat_is_empty_65536_86
                                           	GOTO	_00386_DS_
                                           ;;unsigned compare: left < lit(0x668=1640), size=2
                                           _00385_DS_
                                           ;	.line	544; "MC32P7311.c"	else if (adc_val >= ADCDETECT_BAT_FULL) // 检测电池是否满电
                                           	MOVAI	0x06
                                           	RSUBAR	(_adc_val + 1)
                                           	JBSET	PFLAG,2
                                           	GOTO	_00554_DS_
                                           	MOVAI	0x68
                                           	RSUBAR	_adc_val
                                           _00554_DS_
                                           	JBSET	PFLAG,0
                                           	GOTO	_00382_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	546; "MC32P7311.c"	cnt++;
                                           	INCR	_adc_scan_handle_cnt_65536_86
                                           	GOTO	_00386_DS_
                                           ;;unsigned compare: left < lit(0x609=1545), size=2
                                           _00382_DS_
                                           ;	.line	548; "MC32P7311.c"	else if (adc_val < ADCDETECT_BAT_WILL_FULL) // 检测是否要快速充电
                                           	MOVAI	0x06
                                           	RSUBAR	(_adc_val + 1)
                                           	JBSET	PFLAG,2
                                           	GOTO	_00555_DS_
                                           	MOVAI	0x09
                                           	RSUBAR	_adc_val
                                           _00555_DS_
                                           	JBCLR	PFLAG,0
                                           	GOTO	_00379_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	550; "MC32P7311.c"	need_charge_cnt++;
                                           	INCR	_adc_scan_handle_need_charge_cnt_65536_86
                                           	GOTO	_00386_DS_
                                           ;;unsigned compare: left < lit(0x609=1545), size=2
                                           _00379_DS_
                                           ;	.line	552; "MC32P7311.c"	else if (adc_val >= ADCDETECT_BAT_WILL_FULL) // 检测是否要稍微降低充电速度
                                           	MOVAI	0x06
                                           	RSUBAR	(_adc_val + 1)
                                           	JBSET	PFLAG,2
                                           	GOTO	_00556_DS_
                                           	MOVAI	0x09
                                           	RSUBAR	_adc_val
                                           _00556_DS_
                                           	JBSET	PFLAG,0
                                           	GOTO	_00386_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	554; "MC32P7311.c"	need_charge_slow_cnt++;
                                           	INCR	_adc_scan_handle_need_charge_slow_cnt_65536_86
                                           _00386_DS_
                                           ;	.line	557; "MC32P7311.c"	if (flag_bat_is_empty)
                                           	MOVAI	0x00
                                           	ORAR	_adc_scan_handle_flag_bat_is_empty_65536_86
                                           	JBCLR	PFLAG,2
                                           	GOTO	_00415_DS_
                                           ;	.line	560; "MC32P7311.c"	LED_FULL_CHARGE_ON(); // 开启电池充满电的指示灯
                                           	BCLR	_IOP0bits,3
                                           ;	.line	561; "MC32P7311.c"	LED_CHARGING_OFF();	  // 关闭充电指示灯
                                           	BSET	_IOP0bits,4
                                           ;	.line	562; "MC32P7311.c"	PWM2OE = 0;			  // 关闭控制升压电路的pwm
                                           	BCLR	_T2CRbits,6
                                           ;	.line	563; "MC32P7311.c"	FLAG_BAT_IS_NEED_CHARGE = 0;
                                           	BCLR	_flag1,4
                                           ;	.line	564; "MC32P7311.c"	break;
                                           	GOTO	_00424_DS_
                                           ;;unsigned compare: left < lit(0x8=8), size=1
                                           _00415_DS_
                                           ;	.line	566; "MC32P7311.c"	else if (cnt >= 8)
                                           	MOVAI	0x08
                                           	RSUBAR	_adc_scan_handle_cnt_65536_86
                                           	JBSET	PFLAG,0
                                           	GOTO	_00412_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	569; "MC32P7311.c"	LED_FULL_CHARGE_ON(); // 开启电池充满电的指示灯
                                           	BCLR	_IOP0bits,3
                                           ;	.line	570; "MC32P7311.c"	LED_CHARGING_OFF();	  // 关闭充电指示灯
                                           	BSET	_IOP0bits,4
                                           ;	.line	571; "MC32P7311.c"	PWM2OE = 0;			  // 关闭控制升压电路的pwm
                                           	BCLR	_T2CRbits,6
                                           ;	.line	573; "MC32P7311.c"	FLAG_BAT_IS_NEED_CHARGE = 0;
                                           	BCLR	_flag1,4
                                           ;	.line	574; "MC32P7311.c"	FLAG_BAT_IS_FULL = 1;
                                           	BSET	_flag1,5
                                           ;	.line	575; "MC32P7311.c"	break;
                                           	GOTO	_00424_DS_
                                           ;;unsigned compare: left < lit(0x8=8), size=1
                                           _00412_DS_
                                           ;	.line	577; "MC32P7311.c"	else if (need_charge_cnt >= 8)
                                           	MOVAI	0x08
                                           	RSUBAR	_adc_scan_handle_need_charge_cnt_65536_86
                                           	JBSET	PFLAG,0
                                           	GOTO	_00409_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	580; "MC32P7311.c"	T2DATA = 24;		   // 占空比 == TxDATA / TxLOAD   实际测得是46.15%占空比
                                           	MOVAI	0x18
                                           	MOVRA	_T2DATA
                                           ;	.line	581; "MC32P7311.c"	LED_FULL_CHARGE_OFF(); // 关闭充满电的指示灯
                                           	BSET	_IOP0bits,3
                                           ;	.line	582; "MC32P7311.c"	FLAG_BAT_IS_NEED_CHARGE = 1;
                                           	BSET	_flag1,4
                                           ;	.line	583; "MC32P7311.c"	FLAG_BAT_IS_FULL = 0;
                                           	BCLR	_flag1,5
                                           ;	.line	588; "MC32P7311.c"	break;
                                           	GOTO	_00424_DS_
                                           ;;unsigned compare: left < lit(0x8=8), size=1
                                           _00409_DS_
                                           ;	.line	590; "MC32P7311.c"	else if (need_charge_slow_cnt >= 8 && 0 == FLAG_BAT_IS_FULL)
                                           	MOVAI	0x08
                                           	RSUBAR	_adc_scan_handle_need_charge_slow_cnt_65536_86
                                           	JBSET	PFLAG,0
                                           	GOTO	_00454_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           	JBCLR	_flag1,5
                                           	GOTO	_00454_DS_
                                           ;	.line	593; "MC32P7311.c"	T2DATA = 23;		   // 占空比 == TxDATA / TxLOAD   实际测得是41.54%、43%或44.62 这两个占空比
                                           	MOVAI	0x17
                                           	MOVRA	_T2DATA
                                           ;	.line	594; "MC32P7311.c"	LED_FULL_CHARGE_OFF(); // 关闭充满电的指示灯
                                           	BSET	_IOP0bits,3
                                           ;	.line	595; "MC32P7311.c"	FLAG_BAT_IS_NEED_CHARGE = 1;
                                           	BSET	_flag1,4
                                           ;	.line	601; "MC32P7311.c"	break;
                                           	GOTO	_00424_DS_
                                           ;;swapping arguments (AOP_TYPEs 1/3)
                                           ;;unsigned compare: left >= lit(0x5E7=1511), size=2
                                           _00422_DS_
                                           ;	.line	606; "MC32P7311.c"	if (adc_val <= ADCDETECT_BAT_FULL - 130)
                                           	MOVAI	0x05
                                           	RSUBAR	(_adc_val + 1)
                                           	JBSET	PFLAG,2
                                           	GOTO	_00560_DS_
                                           	MOVAI	0xe7
                                           	RSUBAR	_adc_val
                                           _00560_DS_
                                           	JBCLR	PFLAG,0
                                           	GOTO	_00418_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	608; "MC32P7311.c"	cnt++;
                                           	INCR	_adc_scan_handle_cnt_65536_86
                                           ;;unsigned compare: left < lit(0x8=8), size=1
                                           _00418_DS_
                                           ;	.line	611; "MC32P7311.c"	if (cnt >= 8)
                                           	MOVAI	0x08
                                           	RSUBAR	_adc_scan_handle_cnt_65536_86
                                           	JBSET	PFLAG,0
                                           	GOTO	_00454_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	614; "MC32P7311.c"	FLAG_BAT_IS_NEED_CHARGE = 1;
                                           	BSET	_flag1,4
                                           ;	.line	615; "MC32P7311.c"	FLAG_BAT_IS_FULL = 0;
                                           	BCLR	_flag1,5
                                           ;	.line	616; "MC32P7311.c"	break;
                                           	GOTO	_00424_DS_
                                           _00454_DS_
                                           ;	.line	533; "MC32P7311.c"	for (i = 0; i < 10; i++)
                                           	INCR	_i
                                           	GOTO	_00453_DS_
                                           _00424_DS_
                                           ;	.line	621; "MC32P7311.c"	cnt = 0;
                                           	CLRR	_adc_scan_handle_cnt_65536_86
                                           ;	.line	622; "MC32P7311.c"	adc_sel_pin(ADC_PIN_P00_AN0); // 切换到检测充电的电压检测引脚
                                           	MOVAI	0x01
                                           	CALL	_adc_sel_pin
                                           ;	.line	623; "MC32P7311.c"	for (i = 0; i < 10; i++)
                                           	CLRR	_i
                                           ;;unsigned compare: left < lit(0xA=10), size=1
                                           _00456_DS_
                                           	MOVAI	0x0a
                                           	RSUBAR	_i
                                           	JBCLR	PFLAG,0
                                           	GOTO	_00458_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	625; "MC32P7311.c"	adc_val = adc_get_val();
                                           	CALL	_adc_get_val
                                           	MOVRA	(_adc_val + 1)
                                           	MOVAR	STK00
                                           	MOVRA	_adc_val
                                           ;	.line	626; "MC32P7311.c"	if (FLAG_IS_IN_CHARGING)
                                           	JBSET	_flag1,2
                                           	GOTO	_00449_DS_
                                           ;;unsigned compare: left < lit(0x800=2048), size=2
                                           ;	.line	629; "MC32P7311.c"	if (adc_val < ADCDETECT_CHARING_THRESHOLD)
                                           	MOVAI	0x08
                                           	RSUBAR	(_adc_val + 1)
                                           	JBSET	PFLAG,2
                                           	GOTO	_00563_DS_
                                           	MOVAI	0x00
                                           	RSUBAR	_adc_val
                                           _00563_DS_
                                           	JBCLR	PFLAG,0
                                           	GOTO	_00426_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	631; "MC32P7311.c"	cnt++;
                                           	INCR	_adc_scan_handle_cnt_65536_86
                                           ;;unsigned compare: left < lit(0x8=8), size=1
                                           _00426_DS_
                                           ;	.line	634; "MC32P7311.c"	if (cnt >= 8)
                                           	MOVAI	0x08
                                           	RSUBAR	_adc_scan_handle_cnt_65536_86
                                           	JBSET	PFLAG,0
                                           	GOTO	_00434_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	637; "MC32P7311.c"	LED_CHARGING_OFF();	   // 关闭充电指示灯
                                           	BSET	_IOP0bits,4
                                           ;	.line	638; "MC32P7311.c"	PWM2OE = 0;			   // 关闭控制升压电路的pwm
                                           	BCLR	_T2CRbits,6
                                           ;	.line	639; "MC32P7311.c"	LED_FULL_CHARGE_OFF(); // 关闭电池充满电的指示灯
                                           	BSET	_IOP0bits,3
                                           ;	.line	640; "MC32P7311.c"	FLAG_IS_IN_CHARGING = 0;
                                           	BCLR	_flag1,2
                                           ;	.line	642; "MC32P7311.c"	break;
                                           	GOTO	_00458_DS_
                                           _00434_DS_
                                           ;	.line	645; "MC32P7311.c"	if ((PWM2OE == 0) && FLAG_BAT_IS_NEED_CHARGE)
                                           	JBCLR	_T2CRbits,6
                                           	GOTO	_00457_DS_
                                           	JBSET	_flag1,4
                                           	GOTO	_00457_DS_
                                           ;	.line	649; "MC32P7311.c"	LED_CHARGING_ON(); // 开启充电指示灯
                                           	BCLR	_IOP0bits,4
                                           ;	.line	650; "MC32P7311.c"	PWM2OE = 1;		   // 开启控制升压电路的pwm
                                           	BSET	_T2CRbits,6
                                           	GOTO	_00457_DS_
                                           ;;unsigned compare: left < lit(0x800=2048), size=2
                                           _00449_DS_
                                           ;	.line	660; "MC32P7311.c"	if (adc_val >= ADCDETECT_CHARING_THRESHOLD)
                                           	MOVAI	0x08
                                           	RSUBAR	(_adc_val + 1)
                                           	JBSET	PFLAG,2
                                           	GOTO	_00565_DS_
                                           	MOVAI	0x00
                                           	RSUBAR	_adc_val
                                           _00565_DS_
                                           	JBSET	PFLAG,0
                                           	GOTO	_00442_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	662; "MC32P7311.c"	cnt++;
                                           	INCR	_adc_scan_handle_cnt_65536_86
                                           ;;unsigned compare: left < lit(0x8=8), size=1
                                           _00442_DS_
                                           ;	.line	665; "MC32P7311.c"	if (cnt >= 8)
                                           	MOVAI	0x08
                                           	RSUBAR	_adc_scan_handle_cnt_65536_86
                                           	JBSET	PFLAG,0
                                           	GOTO	_00457_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	669; "MC32P7311.c"	LED_CHARGING_ON(); // 开启充电指示灯
                                           	BCLR	_IOP0bits,4
                                           ;	.line	670; "MC32P7311.c"	PWM2OE = 1;		   // 开启控制升压电路的pwm
                                           	BSET	_T2CRbits,6
                                           ;	.line	673; "MC32P7311.c"	FLAG_IS_IN_CHARGING = 1;
                                           	BSET	_flag1,2
                                           ;	.line	674; "MC32P7311.c"	break;
                                           	GOTO	_00458_DS_
                                           _00457_DS_
                                           ;	.line	623; "MC32P7311.c"	for (i = 0; i < 10; i++)
                                           	INCR	_i
                                           	GOTO	_00456_DS_
                                           _00458_DS_
                                           ;	.line	678; "MC32P7311.c"	}
                                           	RETURN	
                                           ; exit point of _adc_scan_handle
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _key_handle	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;1 compiler assigned register :
                                           ;   r0x101F
                                           ;; Starting pCode block
                                           _key_handle	;Function start
                                           ; 2 exit points
                                           ;	.line	430; "MC32P7311.c"	if (key_press_flag)
                                           	MOVAI	0x00
                                           	ORAR	_key_press_flag
                                           	JBCLR	PFLAG,2
                                           	GOTO	_00371_DS_
                                           ;	.line	433; "MC32P7311.c"	switch (key_press_flag)
                                           	MOVAR	_key_press_flag
                                           	MOVRA	r0x101F
                                           ;;unsigned compare: left < lit(0x1=1), size=1
                                           	MOVAI	0x01
                                           	RSUBAR	r0x101F
                                           	JBSET	PFLAG,0
                                           	GOTO	_00368_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;;swapping arguments (AOP_TYPEs 1/2)
                                           ;;unsigned compare: left >= lit(0x4=4), size=1
                                           	MOVAI	0x04
                                           	RSUBAR	r0x101F
                                           	JBCLR	PFLAG,0
                                           	GOTO	_00368_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           	DECR	r0x101F
                                           	MOVAR	r0x101F
                                           	ADDRA	PCL
                                           	GOTO	_00328_DS_
                                           	GOTO	_00340_DS_
                                           	GOTO	_00351_DS_
                                           _00328_DS_
                                           ;	.line	436; "MC32P7311.c"	if (FLAG_IS_DEVICE_OPEN)
                                           	JBSET	_flag1,0
                                           	GOTO	_00368_DS_
                                           ;	.line	439; "MC32P7311.c"	if (0 == FLAG_IS_HEATING)
                                           	JBCLR	_flag1,1
                                           	GOTO	_00332_DS_
                                           ;	.line	441; "MC32P7311.c"	HEATING_ON(); // 打开加热
                                           	BSET	_IOP1bits,2
                                           ;	.line	442; "MC32P7311.c"	FLAG_IS_HEATING = 1;
                                           	BSET	_flag1,1
                                           	GOTO	_00368_DS_
                                           _00332_DS_
                                           ;	.line	446; "MC32P7311.c"	HEATING_OFF(); // 关闭加热
                                           	BCLR	_IOP1bits,2
                                           ;	.line	447; "MC32P7311.c"	FLAG_IS_HEATING = 0;
                                           	BCLR	_flag1,1
                                           ;	.line	450; "MC32P7311.c"	break;
                                           	GOTO	_00368_DS_
                                           _00340_DS_
                                           ;	.line	454; "MC32P7311.c"	if (FLAG_IS_DEVICE_OPEN)
                                           	JBSET	_flag1,0
                                           	GOTO	_00368_DS_
                                           ;	.line	457; "MC32P7311.c"	if (MODE_1 == mode_flag)
                                           	MOVAI	0x00
                                           	ORAR	_mode_flag
                                           	JBSET	PFLAG,2
                                           	GOTO	_00347_DS_
                                           ;	.line	460; "MC32P7311.c"	T0DATA = 255;
                                           	MOVAI	0xff
                                           	MOVRA	_T0DATA
                                           ;	.line	461; "MC32P7311.c"	T1DATA = 255; // 100%占空比（确保大于TxLOAD的值就可以）
                                           	MOVAI	0xff
                                           	MOVRA	_T1DATA
                                           ;	.line	463; "MC32P7311.c"	mode_flag = MODE_2;
                                           	MOVAI	0x01
                                           	MOVRA	_mode_flag
                                           	GOTO	_00368_DS_
                                           _00347_DS_
                                           ;	.line	465; "MC32P7311.c"	else if (MODE_2 == mode_flag)
                                           	MOVAR	_mode_flag
                                           	XORAI	0x01
                                           	JBSET	PFLAG,2
                                           	GOTO	_00344_DS_
                                           ;	.line	468; "MC32P7311.c"	T0DATA = 103;
                                           	MOVAI	0x67
                                           	MOVRA	_T0DATA
                                           ;	.line	469; "MC32P7311.c"	T1DATA = 103; // 80.5%占空比
                                           	MOVAI	0x67
                                           	MOVRA	_T1DATA
                                           ;	.line	471; "MC32P7311.c"	mode_flag = MODE_3;
                                           	MOVAI	0x02
                                           	MOVRA	_mode_flag
                                           	GOTO	_00368_DS_
                                           _00344_DS_
                                           ;	.line	473; "MC32P7311.c"	else if (MODE_3 == mode_flag)
                                           	MOVAR	_mode_flag
                                           	XORAI	0x02
                                           	JBSET	PFLAG,2
                                           	GOTO	_00368_DS_
                                           ;	.line	476; "MC32P7311.c"	T0DATA = 115;
                                           	MOVAI	0x73
                                           	MOVRA	_T0DATA
                                           ;	.line	477; "MC32P7311.c"	T1DATA = 115; // 89.9%占空比
                                           	MOVAI	0x73
                                           	MOVRA	_T1DATA
                                           ;	.line	479; "MC32P7311.c"	mode_flag = MODE_1;
                                           	CLRR	_mode_flag
                                           ;	.line	482; "MC32P7311.c"	break;
                                           	GOTO	_00368_DS_
                                           _00351_DS_
                                           ;	.line	485; "MC32P7311.c"	if (0 == FLAG_IS_DEVICE_OPEN)
                                           	JBCLR	_flag1,0
                                           	GOTO	_00358_DS_
                                           ;	.line	488; "MC32P7311.c"	LED_WORKING_ON(); // 打开电源指示灯
                                           	BCLR	_IOP1bits,4
                                           ;	.line	489; "MC32P7311.c"	HEATING_ON();	  // 打开加热
                                           	BSET	_IOP1bits,2
                                           ;	.line	490; "MC32P7311.c"	FLAG_IS_DEVICE_OPEN = 1;
                                           	BSET	_flag1,0
                                           ;	.line	491; "MC32P7311.c"	FLAG_IS_HEATING = 1;
                                           	BSET	_flag1,1
                                           ;	.line	494; "MC32P7311.c"	T0DATA = 115;
                                           	MOVAI	0x73
                                           	MOVRA	_T0DATA
                                           ;	.line	495; "MC32P7311.c"	T1DATA = 115;		// 约为 89.9%
                                           	MOVAI	0x73
                                           	MOVRA	_T1DATA
                                           ;	.line	496; "MC32P7311.c"	mode_flag = MODE_1; // 下一次切换模式时，会变成 MODE_2
                                           	CLRR	_mode_flag
                                           ;	.line	499; "MC32P7311.c"	PWM0OE = 1;
                                           	BSET	_T0CRbits,6
                                           	GOTO	_00368_DS_
                                           _00358_DS_
                                           ;	.line	504; "MC32P7311.c"	LED_WORKING_OFF(); // 关闭电源指示灯
                                           	BSET	_IOP1bits,4
                                           ;	.line	505; "MC32P7311.c"	HEATING_OFF();	   // 关闭加热
                                           	BCLR	_IOP1bits,2
                                           ;	.line	506; "MC32P7311.c"	FLAG_IS_DEVICE_OPEN = 0;
                                           	BCLR	_flag1,0
                                           ;	.line	507; "MC32P7311.c"	FLAG_IS_HEATING = 0;
                                           	BCLR	_flag1,1
                                           ;	.line	509; "MC32P7311.c"	mode_flag = MODE_1; // 下一次切换模式时，会变成 MODE_2
                                           	CLRR	_mode_flag
                                           ;	.line	512; "MC32P7311.c"	PWM0OE = 0;
                                           	BCLR	_T0CRbits,6
                                           ;	.line	513; "MC32P7311.c"	PWM1OE = 0;
                                           	BCLR	_T1CRbits,6
                                           _00368_DS_
                                           ;	.line	521; "MC32P7311.c"	key_press_flag = KEY_NONE;
                                           	CLRR	_key_press_flag
                                           _00371_DS_
                                           ;	.line	523; "MC32P7311.c"	}
                                           	RETURN	
                                           ; exit point of _key_handle
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _key_scan	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;functions called:
                                           ;   _delay_ms
                                           ;   _delay_ms
                                           ;   _delay_ms
                                           ;   _delay_ms
                                           ;   _delay_ms
                                           ;   _delay_ms
                                           ;5 compiler assigned registers:
                                           ;   r0x1020
                                           ;   r0x1021
                                           ;   STK02
                                           ;   STK01
                                           ;   STK00
                                           ;; Starting pCode block
                                           _key_scan	;Function start
                                           ; 2 exit points
                                           ;	.line	348; "MC32P7311.c"	u8 cnt = 0;
                                           	CLRR	r0x1020
                                           ;	.line	350; "MC32P7311.c"	if (0 == KEY_POWER_PIN)
                                           	JBCLR	_IOP1bits,1
                                           	GOTO	_00266_DS_
                                           ;	.line	352; "MC32P7311.c"	for (i = 0; i < 20; i++)
                                           	CLRR	_i
                                           	CLRR	r0x1021
                                           ;;unsigned compare: left < lit(0x14=20), size=1
                                           _00291_DS_
                                           	MOVAI	0x14
                                           	RSUBAR	_i
                                           	JBCLR	PFLAG,0
                                           	GOTO	_00323_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	354; "MC32P7311.c"	if (0 == KEY_POWER_PIN)
                                           	JBCLR	_IOP1bits,1
                                           	GOTO	_00258_DS_
                                           ;	.line	356; "MC32P7311.c"	cnt++;
                                           	INCR	r0x1021
                                           _00258_DS_
                                           ;	.line	358; "MC32P7311.c"	delay_ms(1);
                                           	MOVAI	0x01
                                           	MOVRA	STK02
                                           	MOVAI	0x00
                                           	MOVRA	STK01
                                           	MOVAI	0x00
                                           	MOVRA	STK00
                                           	MOVAI	0x00
                                           	CALL	_delay_ms
                                           ;	.line	352; "MC32P7311.c"	for (i = 0; i < 20; i++)
                                           	INCR	_i
                                           	GOTO	_00291_DS_
                                           _00323_DS_
                                           	MOVAR	r0x1021
                                           	MOVRA	r0x1020
                                           ;;unsigned compare: left < lit(0xF=15), size=1
                                           ;	.line	361; "MC32P7311.c"	if (cnt >= 15)
                                           	MOVAI	0x0f
                                           	RSUBAR	r0x1021
                                           	JBSET	PFLAG,0
                                           	GOTO	_00262_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	363; "MC32P7311.c"	key_press_flag = KEY_POWER_PRESS;
                                           	MOVAI	0x03
                                           	MOVRA	_key_press_flag
                                           _00262_DS_
                                           ;	.line	367; "MC32P7311.c"	while (0 == KEY_POWER_PIN)
                                           	JBCLR	_IOP1bits,1
                                           	GOTO	_00266_DS_
                                           ;	.line	371; "MC32P7311.c"	__endasm;
                                           	;
                                           	CLRWDT;
                                           	
                                           	GOTO	_00262_DS_
                                           _00266_DS_
                                           ;	.line	375; "MC32P7311.c"	if (FLAG_IS_DEVICE_OPEN)
                                           	JBSET	_flag1,0
                                           	GOTO	_00299_DS_
                                           ;	.line	378; "MC32P7311.c"	if (0 == KEY_HEAT_PIN)
                                           	JBCLR	_IOP0bits,5
                                           	GOTO	_00286_DS_
                                           ;	.line	380; "MC32P7311.c"	for (i = 0; i < 20; i++)
                                           	CLRR	_i
                                           	MOVAR	r0x1020
                                           	MOVRA	r0x1021
                                           ;;unsigned compare: left < lit(0x14=20), size=1
                                           _00294_DS_
                                           	MOVAI	0x14
                                           	RSUBAR	_i
                                           	JBCLR	PFLAG,0
                                           	GOTO	_00269_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	382; "MC32P7311.c"	if (0 == KEY_HEAT_PIN)
                                           	JBCLR	_IOP0bits,5
                                           	GOTO	_00268_DS_
                                           ;	.line	384; "MC32P7311.c"	cnt++;
                                           	INCR	r0x1021
                                           _00268_DS_
                                           ;	.line	386; "MC32P7311.c"	delay_ms(1);
                                           	MOVAI	0x01
                                           	MOVRA	STK02
                                           	MOVAI	0x00
                                           	MOVRA	STK01
                                           	MOVAI	0x00
                                           	MOVRA	STK00
                                           	MOVAI	0x00
                                           	CALL	_delay_ms
                                           ;	.line	380; "MC32P7311.c"	for (i = 0; i < 20; i++)
                                           	INCR	_i
                                           	GOTO	_00294_DS_
                                           ;;unsigned compare: left < lit(0xF=15), size=1
                                           _00269_DS_
                                           ;	.line	389; "MC32P7311.c"	if (cnt >= 15)
                                           	MOVAI	0x0f
                                           	RSUBAR	r0x1021
                                           	JBSET	PFLAG,0
                                           	GOTO	_00272_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	391; "MC32P7311.c"	key_press_flag = KEY_HEAT_PRESS;
                                           	MOVAI	0x01
                                           	MOVRA	_key_press_flag
                                           _00272_DS_
                                           ;	.line	394; "MC32P7311.c"	while (0 == KEY_HEAT_PIN) // 等待按键松开
                                           	JBCLR	_IOP0bits,5
                                           	GOTO	_00299_DS_
                                           ;	.line	398; "MC32P7311.c"	__endasm;
                                           	;
                                           	CLRWDT;
                                           	
                                           	GOTO	_00272_DS_
                                           _00286_DS_
                                           ;	.line	401; "MC32P7311.c"	else if (0 == KEY_CHANGE_PIN)
                                           	JBCLR	_IOP0bits,1
                                           	GOTO	_00299_DS_
                                           ;	.line	403; "MC32P7311.c"	for (i = 0; i < 20; i++)
                                           	CLRR	_i
                                           ;;unsigned compare: left < lit(0x14=20), size=1
                                           _00297_DS_
                                           	MOVAI	0x14
                                           	RSUBAR	_i
                                           	JBCLR	PFLAG,0
                                           	GOTO	_00277_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	405; "MC32P7311.c"	if (0 == KEY_CHANGE_PIN)
                                           	JBCLR	_IOP0bits,1
                                           	GOTO	_00276_DS_
                                           ;	.line	407; "MC32P7311.c"	cnt++;
                                           	INCR	r0x1020
                                           _00276_DS_
                                           ;	.line	409; "MC32P7311.c"	delay_ms(1);
                                           	MOVAI	0x01
                                           	MOVRA	STK02
                                           	MOVAI	0x00
                                           	MOVRA	STK01
                                           	MOVAI	0x00
                                           	MOVRA	STK00
                                           	MOVAI	0x00
                                           	CALL	_delay_ms
                                           ;	.line	403; "MC32P7311.c"	for (i = 0; i < 20; i++)
                                           	INCR	_i
                                           	GOTO	_00297_DS_
                                           ;;unsigned compare: left < lit(0xF=15), size=1
                                           _00277_DS_
                                           ;	.line	412; "MC32P7311.c"	if (cnt >= 15)
                                           	MOVAI	0x0f
                                           	RSUBAR	r0x1020
                                           	JBSET	PFLAG,0
                                           	GOTO	_00280_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	414; "MC32P7311.c"	key_press_flag = KEY_CHANGE_PRESS;
                                           	MOVAI	0x02
                                           	MOVRA	_key_press_flag
                                           _00280_DS_
                                           ;	.line	417; "MC32P7311.c"	while (0 == KEY_CHANGE_PIN) // 等待按键松开
                                           	JBCLR	_IOP0bits,1
                                           	GOTO	_00299_DS_
                                           ;	.line	421; "MC32P7311.c"	__endasm;
                                           	;
                                           	CLRWDT;
                                           	
                                           	GOTO	_00280_DS_
                                           _00299_DS_
                                           ;	.line	425; "MC32P7311.c"	}
                                           	RETURN	
                                           ; exit point of _key_scan
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _Sys_Init	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;functions called:
                                           ;   _CLR_RAM
                                           ;   _IO_Init
                                           ;   _timer0_pwm_config
                                           ;   _timer1_pwm_config
                                           ;   _timer2_pwm_config
                                           ;   _key_config
                                           ;   _adc_config
                                           ;   _CLR_RAM
                                           ;   _IO_Init
                                           ;   _timer0_pwm_config
                                           ;   _timer1_pwm_config
                                           ;   _timer2_pwm_config
                                           ;   _key_config
                                           ;   _adc_config
                                           ;; Starting pCode block
                                           _Sys_Init	;Function start
                                           ; 2 exit points
                                           ;	.line	331; "MC32P7311.c"	GIE = 0;
                                           	BCLR	_MCRbits,7
                                           ;	.line	332; "MC32P7311.c"	CLR_RAM();
                                           	CALL	_CLR_RAM
                                           ;	.line	333; "MC32P7311.c"	IO_Init();
                                           	CALL	_IO_Init
                                           ;	.line	335; "MC32P7311.c"	timer0_pwm_config();
                                           	CALL	_timer0_pwm_config
                                           ;	.line	336; "MC32P7311.c"	timer1_pwm_config();
                                           	CALL	_timer1_pwm_config
                                           ;	.line	337; "MC32P7311.c"	timer2_pwm_config();
                                           	CALL	_timer2_pwm_config
                                           ;	.line	339; "MC32P7311.c"	key_config();
                                           	CALL	_key_config
                                           ;	.line	340; "MC32P7311.c"	adc_config();
                                           	CALL	_adc_config
                                           ;	.line	342; "MC32P7311.c"	GIE = 1;
                                           	BSET	_MCRbits,7
                                           ;	.line	343; "MC32P7311.c"	}
                                           	RETURN	
                                           ; exit point of _Sys_Init
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _adc_get_val	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;14 compiler assigned registers:
                                           ;   r0x1012
                                           ;   r0x1013
                                           ;   r0x1014
                                           ;   r0x1015
                                           ;   r0x1016
                                           ;   r0x1017
                                           ;   r0x1018
                                           ;   r0x1019
                                           ;   r0x101A
                                           ;   r0x101B
                                           ;   r0x101C
                                           ;   r0x101D
                                           ;   r0x101E
                                           ;   STK00
                                           ;; Starting pCode block
                                           _adc_get_val	;Function start
                                           ; 2 exit points
                                           ;	.line	296; "MC32P7311.c"	u16 g_tmpbuff = 0;
                                           	CLRR	r0x1012
                                           	CLRR	r0x1013
                                           ;	.line	297; "MC32P7311.c"	u16 g_adcmax = 0;
                                           	CLRR	r0x1014
                                           	CLRR	r0x1015
                                           ;	.line	298; "MC32P7311.c"	u16 g_adcmin = 0xFFFF;
                                           	MOVAI	0xff
                                           	MOVRA	r0x1016
                                           	MOVRA	r0x1017
                                           ;	.line	301; "MC32P7311.c"	for (cnt = 0; cnt < 20; cnt++)
                                           	CLRR	r0x1018
                                           _00207_DS_
                                           ;	.line	303; "MC32P7311.c"	ADEOC = 0; // 清除ADC转换完成标志位，启动AD转换
                                           	BCLR	_ADCR0bits,1
                                           _00196_DS_
                                           ;	.line	304; "MC32P7311.c"	while (!ADEOC)
                                           	JBSET	_ADCR0bits,1
                                           	GOTO	_00196_DS_
                                           ;	.line	306; "MC32P7311.c"	g_temp_value = ADRH; // 取出转换后的值
                                           	MOVAR	_ADRH
                                           	MOVRA	r0x1019
                                           	CLRR	r0x101A
                                           ;	.line	307; "MC32P7311.c"	g_temp_value = g_temp_value << 4 | (ADRL & 0x0F);
                                           	SWAPAR	r0x101A
                                           	ANDAI	0xf0
                                           	MOVRA	r0x101B
                                           	SWAPAR	r0x1019
                                           	MOVRA	r0x101C
                                           	ANDAI	0x0f
                                           	ORRA	r0x101B
                                           	XORRA	r0x101C
                                           	MOVAR	_ADRL
                                           	MOVRA	r0x1019
                                           	CLRR	r0x101A
                                           	MOVAI	0x0f
                                           	ANDRA	r0x1019
                                           	CLRR	r0x101A
                                           ;;101	MOVAR	r0x1019
                                           ;;99	MOVRA	r0x101D
                                           ;;104	MOVAR	r0x101A
                                           ;;102	MOVRA	r0x101E
                                           ;;100	MOVAR	r0x101D
                                           	MOVAR	r0x1019
                                           	ORAR	r0x101C
                                           	MOVRA	r0x1019
                                           ;;103	MOVAR	r0x101E
                                           	MOVAI	0x00
                                           	ORAR	r0x101B
                                           	MOVRA	r0x101A
                                           ;;unsigned compare: left < lit(0x2=2), size=1
                                           ;	.line	308; "MC32P7311.c"	if (cnt < 2)
                                           	MOVAI	0x02
                                           	RSUBAR	r0x1018
                                           	JBSET	PFLAG,0
                                           	GOTO	_00205_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	310; "MC32P7311.c"	if (g_temp_value > g_adcmax)
                                           	MOVAR	r0x101A
                                           	RSUBAR	r0x1015
                                           	JBSET	PFLAG,2
                                           	GOTO	_00247_DS_
                                           	MOVAR	r0x1019
                                           	RSUBAR	r0x1014
                                           _00247_DS_
                                           	JBCLR	PFLAG,0
                                           	GOTO	_00202_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	311; "MC32P7311.c"	g_adcmax = g_temp_value; // 最大
                                           	MOVAR	r0x1019
                                           	MOVRA	r0x1014
                                           	MOVAR	r0x101A
                                           	MOVRA	r0x1015
                                           _00202_DS_
                                           ;	.line	312; "MC32P7311.c"	if (g_temp_value < g_adcmin)
                                           	MOVAR	r0x1017
                                           	RSUBAR	r0x101A
                                           	JBSET	PFLAG,2
                                           	GOTO	_00248_DS_
                                           	MOVAR	r0x1016
                                           	RSUBAR	r0x1019
                                           _00248_DS_
                                           	JBCLR	PFLAG,0
                                           	GOTO	_00204_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	313; "MC32P7311.c"	g_adcmin = g_temp_value; // 最小
                                           	MOVAR	r0x1019
                                           	MOVRA	r0x1016
                                           	MOVAR	r0x101A
                                           	MOVRA	r0x1017
                                           _00204_DS_
                                           ;	.line	314; "MC32P7311.c"	g_tmpbuff += g_temp_value;
                                           	MOVAR	r0x1019
                                           	ADDRA	r0x1012
                                           	MOVAR	r0x101A
                                           	JBCLR	PFLAG,0
                                           	JZAR	r0x101A
                                           	ADDRA	r0x1013
                                           _00205_DS_
                                           ;	.line	301; "MC32P7311.c"	for (cnt = 0; cnt < 20; cnt++)
                                           	INCR	r0x1018
                                           ;;unsigned compare: left < lit(0x14=20), size=1
                                           	MOVAI	0x14
                                           	RSUBAR	r0x1018
                                           	JBSET	PFLAG,0
                                           	GOTO	_00207_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	316; "MC32P7311.c"	g_tmpbuff -= g_adcmax;			 // 去掉一个最大
                                           	MOVAR	r0x1014
                                           	RSUBAR	r0x1012
                                           	MOVRA	r0x1014
                                           	MOVAR	r0x1015
                                           	JBSET	PFLAG,0
                                           	INCAR	r0x1015
                                           	RSUBAR	r0x1013
                                           	MOVRA	r0x1015
                                           ;	.line	317; "MC32P7311.c"	g_tmpbuff -= g_adcmin;			 // 去掉一个最小
                                           	MOVAR	r0x1016
                                           	RSUBRA	r0x1014
                                           	MOVAR	r0x1017
                                           	JBSET	PFLAG,0
                                           	JZAR	r0x1017
                                           	RSUBRA	r0x1015
                                           ;	.line	318; "MC32P7311.c"	g_temp_value = (g_tmpbuff >> 4); // 除以16，取平均值
                                           	SWAPAR	r0x1014
                                           	ANDAI	0x0f
                                           	MOVRA	r0x1012
                                           	SWAPAR	r0x1015
                                           	MOVRA	r0x1013
                                           	ANDAI	0xf0
                                           	ORRA	r0x1012
                                           	XORRA	r0x1013
                                           ;	.line	320; "MC32P7311.c"	return g_temp_value;
                                           	MOVAR	r0x1012
                                           	MOVRA	STK00
                                           	MOVAR	r0x1013
                                           ;	.line	321; "MC32P7311.c"	}
                                           	RETURN	
                                           ; exit point of _adc_get_val
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _adc_sel_pin	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;functions called:
                                           ;   _delay_ms
                                           ;   _delay_ms
                                           ;4 compiler assigned registers:
                                           ;   r0x101E
                                           ;   STK02
                                           ;   STK01
                                           ;   STK00
                                           ;; Starting pCode block
                                           _adc_sel_pin	;Function start
                                           ; 2 exit points
                                           ;	.line	269; "MC32P7311.c"	void adc_sel_pin(u8 adc_pin)
                                           	MOVRA	r0x101E
                                           ;	.line	272; "MC32P7311.c"	switch (adc_pin)
                                           	MOVAR	r0x101E
                                           	XORAI	0x01
                                           	JBSET	PFLAG,2
                                           	GOTO	_00190_DS_
                                           	GOTO	_00176_DS_
                                           _00190_DS_
                                           	MOVAR	r0x101E
                                           	XORAI	0x02
                                           	JBSET	PFLAG,2
                                           	GOTO	_00191_DS_
                                           	GOTO	_00177_DS_
                                           _00191_DS_
                                           	GOTO	_00179_DS_
                                           _00176_DS_
                                           ;	.line	275; "MC32P7311.c"	ADCR0 &= ~(0x0F << 4); // 清空寄存器的通道选择位
                                           	MOVAI	0x0f
                                           	ANDRA	_ADCR0
                                           ;	.line	277; "MC32P7311.c"	break;
                                           	GOTO	_00179_DS_
                                           _00177_DS_
                                           ;	.line	280; "MC32P7311.c"	ADCR0 &= ~(0x0F << 4); // 清空寄存器的通道选择位
                                           	MOVAI	0x0f
                                           	ANDRA	_ADCR0
                                           ;	.line	281; "MC32P7311.c"	ADCR0 |= 0x01 << 4;	   // AIN1--P02;
                                           	BSET	_ADCR0,4
                                           _00179_DS_
                                           ;	.line	288; "MC32P7311.c"	delay_ms(1); // 切换adc检测的引脚后，要延时一段时间，防止意料之外的检测结果
                                           	MOVAI	0x01
                                           	MOVRA	STK02
                                           	MOVAI	0x00
                                           	MOVRA	STK01
                                           	MOVAI	0x00
                                           	MOVRA	STK00
                                           	MOVAI	0x00
                                           	CALL	_delay_ms
                                           ;	.line	289; "MC32P7311.c"	}
                                           	RETURN	
                                           ; exit point of _adc_sel_pin
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _adc_config	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           _adc_config	;Function start
                                           ; 2 exit points
                                           ;	.line	247; "MC32P7311.c"	P00PU = 0; // 关闭上下拉
                                           	BCLR	_PUP0bits,0
                                           ;	.line	248; "MC32P7311.c"	P00PD = 0;
                                           	BCLR	_PDP0bits,0
                                           ;	.line	249; "MC32P7311.c"	P00OE = 0;	// 输入模式
                                           	BCLR	_OEP0bits,0
                                           ;	.line	250; "MC32P7311.c"	P00ANS = 1; // 模拟输入
                                           	BSET	_ANSEL0bits,0
                                           ;	.line	253; "MC32P7311.c"	P02PU = 0; // 关闭上下拉
                                           	BCLR	_PUP0bits,2
                                           ;	.line	254; "MC32P7311.c"	P02PD = 0;
                                           	BCLR	_PDP0bits,2
                                           ;	.line	255; "MC32P7311.c"	P02OE = 0;	// 输入模式
                                           	BCLR	_OEP0bits,2
                                           ;	.line	256; "MC32P7311.c"	P02ANS = 1; // 模拟输入
                                           	BSET	_ANSEL0bits,1
                                           ;	.line	258; "MC32P7311.c"	ADCR0 = 0x0A; // 12位精度、不启用ADC转换，不使能ADC
                                           	MOVAI	0x0a
                                           	MOVRA	_ADCR0
                                           ;	.line	263; "MC32P7311.c"	ADCR1 = 0xE1; // 125K采样（最高精度）  内部3V参考电压
                                           	MOVAI	0xe1
                                           	MOVRA	_ADCR1
                                           ;	.line	264; "MC32P7311.c"	ADCR2 = 0xFF; // ADC采样时间为15个ADC时钟
                                           	MOVAI	0xff
                                           	MOVRA	_ADCR2
                                           ;	.line	265; "MC32P7311.c"	ADON = 1;	  // 使能ADC
                                           	BSET	_ADCR0bits,0
                                           ;	.line	266; "MC32P7311.c"	}
                                           	RETURN	
                                           ; exit point of _adc_config
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _key_config	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           _key_config	;Function start
                                           ; 2 exit points
                                           ;	.line	221; "MC32P7311.c"	P05PU = 1;
                                           	BSET	_PUP0bits,5
                                           ;	.line	222; "MC32P7311.c"	P05OE = 0;
                                           	BCLR	_OEP0bits,5
                                           ;	.line	231; "MC32P7311.c"	MINT00 = 1; // MINT00、MINT01，组合配置INT0为下降沿中断
                                           	BSET	_MCRbits,0
                                           ;	.line	232; "MC32P7311.c"	MINT01 = 0;
                                           	BCLR	_MCRbits,1
                                           ;	.line	233; "MC32P7311.c"	P11PU = 1;
                                           	BSET	_PUP1bits,1
                                           ;	.line	234; "MC32P7311.c"	P11OE = 0;
                                           	BCLR	_OEP1bits,1
                                           ;	.line	235; "MC32P7311.c"	INT0IF = 0; // 清除中断标志
                                           	BCLR	_INTFbits,2
                                           ;	.line	236; "MC32P7311.c"	INT0IE = 1; // 外部中断使能
                                           	BSET	_INTEbits,2
                                           ;	.line	239; "MC32P7311.c"	P01PU = 1;
                                           	BSET	_PUP0bits,1
                                           ;	.line	240; "MC32P7311.c"	P01OE = 0;
                                           	BCLR	_OEP0bits,1
                                           ;	.line	241; "MC32P7311.c"	}
                                           	RETURN	
                                           ; exit point of _key_config
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _timer2_pwm_config	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           _timer2_pwm_config	;Function start
                                           ; 2 exit points
                                           ;	.line	206; "MC32P7311.c"	T2LOAD = 52 - 1;
                                           	MOVAI	0x33
                                           	MOVRA	_T2LOAD
                                           ;	.line	209; "MC32P7311.c"	T2DATA = 24; // 占空比 == TxDATA / TxLOAD   实际测得是46.15%占空比
                                           	MOVAI	0x18
                                           	MOVRA	_T2DATA
                                           ;	.line	210; "MC32P7311.c"	PWM2OE = 0;	 // 禁止PWM输出
                                           	BCLR	_T2CRbits,6
                                           ;	.line	212; "MC32P7311.c"	TC2EN = 1;
                                           	BSET	_T2CRbits,7
                                           ;	.line	213; "MC32P7311.c"	}
                                           	RETURN	
                                           ; exit point of _timer2_pwm_config
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _timer1_pwm_config	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           _timer1_pwm_config	;Function start
                                           ; 2 exit points
                                           ;	.line	147; "MC32P7311.c"	T1CR |= 0x02; // 4分频
                                           	BSET	_T1CR,1
                                           ;	.line	148; "MC32P7311.c"	T1LOAD = 128 - 1;
                                           	MOVAI	0x7f
                                           	MOVRA	_T1LOAD
                                           ;	.line	149; "MC32P7311.c"	T1DATA = 25; // 占空比 == T1DATA / T1LOAD
                                           	MOVAI	0x19
                                           	MOVRA	_T1DATA
                                           ;	.line	150; "MC32P7311.c"	PWM1OE = 0;	 // 禁止PWM1输出
                                           	BCLR	_T1CRbits,6
                                           ;	.line	151; "MC32P7311.c"	TC1EN = 1;	 // 启动定时器
                                           	BSET	_T1CRbits,7
                                           ;	.line	169; "MC32P7311.c"	}
                                           	RETURN	
                                           ; exit point of _timer1_pwm_config
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _timer0_pwm_config	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           _timer0_pwm_config	;Function start
                                           ; 2 exit points
                                           ;	.line	117; "MC32P7311.c"	T0CR |= 0x02; // 4分频
                                           	BSET	_T0CR,1
                                           ;	.line	118; "MC32P7311.c"	T0LOAD = 128 - 1;
                                           	MOVAI	0x7f
                                           	MOVRA	_T0LOAD
                                           ;	.line	119; "MC32P7311.c"	T0DATA = 25; // 占空比 == T0DATA / T0LOAD
                                           	MOVAI	0x19
                                           	MOVRA	_T0DATA
                                           ;	.line	120; "MC32P7311.c"	PWM0OE = 0;	 // 禁止PWM输出
                                           	BCLR	_T0CRbits,6
                                           ;	.line	122; "MC32P7311.c"	TC0EN = 1; // 启动定时器
                                           	BSET	_T0CRbits,7
                                           ;	.line	140; "MC32P7311.c"	}
                                           	RETURN	
                                           ; exit point of _timer0_pwm_config
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _IO_Init	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           _IO_Init	;Function start
                                           ; 2 exit points
                                           ;	.line	97; "MC32P7311.c"	IOP0 = 0x00;   // io口数据位
                                           	CLRR	_IOP0
                                           ;	.line	98; "MC32P7311.c"	OEP0 = 0xFF;   // io口方向 1:out  0:in   P00、1输出为开漏
                                           	MOVAI	0xff
                                           	MOVRA	_OEP0
                                           ;	.line	99; "MC32P7311.c"	PUP0 = 0x00;   // io口上拉电阻   1:enable  0:disable
                                           	CLRR	_PUP0
                                           ;	.line	100; "MC32P7311.c"	PDP0 = 0x00;   // io口下拉电阻   1:enable  0:disable
                                           	CLRR	_PDP0
                                           ;	.line	101; "MC32P7311.c"	ANSEL0 = 0x00; // io类型选择  1:模拟输入  0:通用io
                                           	CLRR	_ANSEL0
                                           ;	.line	103; "MC32P7311.c"	IOP1 = 0x00;   // io口数据位
                                           	CLRR	_IOP1
                                           ;	.line	104; "MC32P7311.c"	OEP1 = 0xFF;   // io口方向 1:out  0:in   P13输出为开漏
                                           	MOVAI	0xff
                                           	MOVRA	_OEP1
                                           ;	.line	105; "MC32P7311.c"	PUP1 = 0x00;   // io口上拉电阻   1:enable  0:disable
                                           	CLRR	_PUP1
                                           ;	.line	106; "MC32P7311.c"	PDP1 = 0x00;   // io口下拉电阻   1:enable  0:disable
                                           	CLRR	_PDP1
                                           ;	.line	107; "MC32P7311.c"	ANSEL1 = 0x00; // io类型选择  1:模拟输入  0:通用io
                                           	CLRR	_ANSEL1
                                           ;	.line	109; "MC32P7311.c"	DRVCR = 0x80;
                                           	MOVAI	0x80
                                           	MOVRA	_DRVCR
                                           ;	.line	110; "MC32P7311.c"	}
                                           	RETURN	
                                           ; exit point of _IO_Init
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _CLR_RAM	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;; Starting pCode block
                                           _CLR_RAM	;Function start
                                           ; 2 exit points
                                           ;	.line	82; "MC32P7311.c"	for (FSR0 = 0; FSR0 < 0xff; FSR0++)
                                           	CLRR	_FSR0
                                           ;;unsigned compare: left < lit(0xFF=255), size=1
                                           _00147_DS_
                                           	MOVAI	0xff
                                           	RSUBAR	_FSR0
                                           	JBCLR	PFLAG,0
                                           	GOTO	_00145_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	84; "MC32P7311.c"	INDF0 = 0x00;
                                           	CLRR	_INDF0
                                           ;	.line	82; "MC32P7311.c"	for (FSR0 = 0; FSR0 < 0xff; FSR0++)
                                           	INCR	_FSR0
                                           	GOTO	_00147_DS_
                                           _00145_DS_
                                           ;	.line	86; "MC32P7311.c"	FSR0 = 0xFF;
                                           	MOVAI	0xff
                                           	MOVRA	_FSR0
                                           ;	.line	87; "MC32P7311.c"	INDF0 = 0x00;
                                           	CLRR	_INDF0
                                           ;	.line	88; "MC32P7311.c"	}
                                           	RETURN	
                                           ; exit point of _CLR_RAM
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _send_32bits_data_by_irsir	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;functions called:
                                           ;   _delay_ms
                                           ;   _delay_ms
                                           ;   _delay_ms
                                           ;   _delay_ms
                                           ;   _delay_ms
                                           ;   _delay_ms
                                           ;   _delay_ms
                                           ;   _delay_ms
                                           ;   _delay_ms
                                           ;   _delay_ms
                                           ;   _delay_ms
                                           ;   _delay_ms
                                           ;12 compiler assigned registers:
                                           ;   r0x1022
                                           ;   STK00
                                           ;   r0x1023
                                           ;   STK01
                                           ;   r0x1024
                                           ;   STK02
                                           ;   r0x1025
                                           ;   r0x1026
                                           ;   r0x1027
                                           ;   r0x1028
                                           ;   r0x1029
                                           ;   r0x102A
                                           ;; Starting pCode block
                                           _send_32bits_data_by_irsir	;Function start
                                           ; 2 exit points
                                           ;	.line	34; "MC32P7311.c"	void send_32bits_data_by_irsir(u32 send_data)
                                           	MOVRA	r0x1022
                                           	MOVAR	STK00
                                           	MOVRA	r0x1023
                                           	MOVAR	STK01
                                           	MOVRA	r0x1024
                                           	MOVAR	STK02
                                           	MOVRA	r0x1025
                                           ;	.line	38; "MC32P7311.c"	P10D = 1;
                                           	BSET	_IOP1bits,0
                                           ;	.line	39; "MC32P7311.c"	delay_ms(15);
                                           	MOVAI	0x0f
                                           	MOVRA	STK02
                                           	MOVAI	0x00
                                           	MOVRA	STK01
                                           	MOVAI	0x00
                                           	MOVRA	STK00
                                           	MOVAI	0x00
                                           	CALL	_delay_ms
                                           ;	.line	41; "MC32P7311.c"	P10D = 0;
                                           	BCLR	_IOP1bits,0
                                           ;	.line	42; "MC32P7311.c"	delay_ms(7); // 延时4.5ms
                                           	MOVAI	0x07
                                           	MOVRA	STK02
                                           	MOVAI	0x00
                                           	MOVRA	STK01
                                           	MOVAI	0x00
                                           	MOVRA	STK00
                                           	MOVAI	0x00
                                           	CALL	_delay_ms
                                           ;	.line	44; "MC32P7311.c"	for (u8 i = 0; i < 32; i++)
                                           	CLRR	r0x1026
                                           ;;unsigned compare: left < lit(0x20=32), size=1
                                           _00121_DS_
                                           	MOVAI	0x20
                                           	RSUBAR	r0x1026
                                           	JBCLR	PFLAG,0
                                           	GOTO	_00119_DS_
                                           ;;genSkipc:3291: created from rifx:013B5EFC
                                           ;	.line	46; "MC32P7311.c"	if ((send_data >> i) & 0x01)
                                           	MOVAR	r0x1022
                                           	MOVRA	r0x1027
                                           	MOVAR	r0x1023
                                           	MOVRA	r0x1028
                                           	MOVAR	r0x1024
                                           	MOVRA	r0x1029
                                           	MOVAR	r0x1025
                                           	MOVRA	r0x102A
                                           	MOVAR	r0x1026
                                           	ISUBAI	0x00
                                           	JBCLR	PFLAG,2
                                           	GOTO	_00140_DS_
                                           _00139_DS_
                                           	RRR	r0x1027
                                           	RRR	r0x1028
                                           	RRR	r0x1029
                                           	RRR	r0x102A
                                           	ADDAI	0x01
                                           	JBSET	PFLAG,0
                                           	GOTO	_00139_DS_
                                           _00140_DS_
                                           	JBSET	r0x102A,0
                                           	GOTO	_00117_DS_
                                           ;	.line	50; "MC32P7311.c"	P10D = 1;
                                           	BSET	_IOP1bits,0
                                           ;	.line	51; "MC32P7311.c"	delay_ms(6); //
                                           	MOVAI	0x06
                                           	MOVRA	STK02
                                           	MOVAI	0x00
                                           	MOVRA	STK01
                                           	MOVAI	0x00
                                           	MOVRA	STK00
                                           	MOVAI	0x00
                                           	CALL	_delay_ms
                                           ;	.line	53; "MC32P7311.c"	P10D = 0;
                                           	BCLR	_IOP1bits,0
                                           ;	.line	54; "MC32P7311.c"	delay_ms(17); //
                                           	MOVAI	0x11
                                           	MOVRA	STK02
                                           	MOVAI	0x00
                                           	MOVRA	STK01
                                           	MOVAI	0x00
                                           	MOVRA	STK00
                                           	MOVAI	0x00
                                           	CALL	_delay_ms
                                           	GOTO	_00122_DS_
                                           _00117_DS_
                                           ;	.line	60; "MC32P7311.c"	P10D = 1;
                                           	BSET	_IOP1bits,0
                                           ;	.line	61; "MC32P7311.c"	delay_ms(6); //
                                           	MOVAI	0x06
                                           	MOVRA	STK02
                                           	MOVAI	0x00
                                           	MOVRA	STK01
                                           	MOVAI	0x00
                                           	MOVRA	STK00
                                           	MOVAI	0x00
                                           	CALL	_delay_ms
                                           ;	.line	63; "MC32P7311.c"	P10D = 0;
                                           	BCLR	_IOP1bits,0
                                           ;	.line	64; "MC32P7311.c"	delay_ms(6); //
                                           	MOVAI	0x06
                                           	MOVRA	STK02
                                           	MOVAI	0x00
                                           	MOVRA	STK01
                                           	MOVAI	0x00
                                           	MOVRA	STK00
                                           	MOVAI	0x00
                                           	CALL	_delay_ms
                                           _00122_DS_
                                           ;	.line	44; "MC32P7311.c"	for (u8 i = 0; i < 32; i++)
                                           	INCR	r0x1026
                                           	GOTO	_00121_DS_
                                           _00119_DS_
                                           ;	.line	70; "MC32P7311.c"	P10D = 0;
                                           	BCLR	_IOP1bits,0
                                           ;	.line	71; "MC32P7311.c"	}
                                           	RETURN	
                                           ; exit point of _send_32bits_data_by_irsir
                                           
                                           ;***
                                           ;  pBlock Stats: dbName = C
                                           ;***
                                           ;entry:  _delay_ms	;Function start
                                           ; 2 exit points
                                           ;has an exit
                                           ;15 compiler assigned registers:
                                           ;   r0x1012
                                           ;   STK00
                                           ;   r0x1013
                                           ;   STK01
                                           ;   r0x1014
                                           ;   STK02
                                           ;   r0x1015
                                           ;   r0x1016
                                           ;   r0x1017
                                           ;   r0x1018
                                           ;   r0x1019
                                           ;   r0x101A
                                           ;   r0x101B
                                           ;   r0x101C
                                           ;   r0x101D
                                           ;; Starting pCode block
                                           _delay_ms	;Function start
                                           ; 2 exit points
                                           ;	.line	15; "MC32P7311.c"	void delay_ms(u32 xms)
                                           	MOVRA	r0x1012
                                           	MOVAR	STK00
                                           	MOVRA	r0x1013
                                           	MOVAR	STK01
                                           	MOVRA	r0x1014
                                           	MOVAR	STK02
                                           	MOVRA	r0x1015
                                           _00108_DS_
                                           ;	.line	17; "MC32P7311.c"	while (xms)
                                           	MOVAR	r0x1015
                                           	ORAR	r0x1014
                                           	ORAR	r0x1013
                                           	ORAR	r0x1012
                                           	JBCLR	PFLAG,2
                                           	GOTO	_00111_DS_
                                           ;	.line	20; "MC32P7311.c"	while (i--)
                                           	MOVAI	0x1f
                                           	MOVRA	r0x1016
                                           	MOVAI	0x01
                                           	MOVRA	r0x1017
                                           	CLRR	r0x1018
                                           	CLRR	r0x1019
                                           _00105_DS_
                                           	MOVAR	r0x1016
                                           	MOVRA	r0x101A
                                           	MOVAR	r0x1017
                                           	MOVRA	r0x101B
                                           	MOVAR	r0x1018
                                           	MOVRA	r0x101C
                                           	MOVAR	r0x1019
                                           	MOVRA	r0x101D
                                           	MOVAI	0xff
                                           	ADDRA	r0x1016
                                           	MOVAI	0xff
                                           	JBSET	PFLAG,0
                                           	ADDRA	r0x1017
                                           	MOVAI	0xff
                                           	JBSET	PFLAG,0
                                           	ADDRA	r0x1018
                                           	MOVAI	0xff
                                           	JBSET	PFLAG,0
                                           	ADDRA	r0x1019
                                           	MOVAR	r0x101A
                                           	ORAR	r0x101B
                                           	ORAR	r0x101C
                                           	ORAR	r0x101D
                                           	JBCLR	PFLAG,2
                                           	GOTO	_00107_DS_
                                           ;	.line	22; "MC32P7311.c"	Nop();
                                           	nop	
                                           	GOTO	_00105_DS_
                                           _00107_DS_
                                           ;	.line	27; "MC32P7311.c"	__endasm;
                                           	;
                                           	CLRWDT;
                                           	
                                           ;	.line	28; "MC32P7311.c"	xms--;
                                           	MOVAI	0xff
                                           	ADDRA	r0x1015
                                           	MOVAI	0xff
                                           	JBSET	PFLAG,0
                                           	ADDRA	r0x1014
                                           	MOVAI	0xff
                                           	JBSET	PFLAG,0
                                           	ADDRA	r0x1013
                                           	MOVAI	0xff
                                           	JBSET	PFLAG,0
                                           	ADDRA	r0x1012
                                           	GOTO	_00108_DS_
                                           _00111_DS_
                                           ;	.line	30; "MC32P7311.c"	}
                                           	RETURN	
                                           ; exit point of _delay_ms
                                           
                                           
                                           ;	code size estimation:
                                           ;	  928+    0 =   928 instructions ( 1856 byte)
                                           
                                           	end


MEMORY USAGE MAP ('X' = Used,  '-' = Unused)

0000 : XX-------------- XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0040 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0080 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
00C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0100 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0140 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0180 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
01C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0200 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0240 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0280 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
02C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0300 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0340 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0380 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
03C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0400 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0440 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0480 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
04C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0500 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0540 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0580 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
05C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0600 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0640 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0680 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
06C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0700 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0740 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXX------------

All other memory blocks unused.

Program Memory Words Used:   947

